<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <title>Search - Fling SDK | </title>
    
    <base target="_self">
    <meta name="description" content="            <div... " />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google" value="notranslate">
    <link rel="icon"  type="image/x-icon" href="favicon.ico">
<!--
    Licensed under the Apache License, Version 2.0 (the "License"). You may not use this file except in compliance with the License. A copy of the License is located at http://aws.amazon.com/apache2.0/ or in the "license" file accompanying this file. This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. This site also includes third-party software subject to various copyrights. The licenses for these third party components are referenced in the NOTICE file.
-->

    <!-- FontAwesome -->
   <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <!-- jQuery -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
    <!-- Navgoco -->
    <script type="text/javascript" src="assets/js/jquery.navgoco.min.js"></script>
    <!-- Bootstrap -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- Anchor JS -->
    

    <script>
        $( document ).ready(function() {
            $("#docnavsidebar").navgoco({
                caretHtml: '',
                accordion: false,
                openClass: 'open', // open
                save: true,
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 300,
                    easing: 'swing'
                }
            });
            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#docnavsidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#docnavsidebar").navgoco('toggle', true);
            });
        });

    </script>
    <script src="assets/js/customscripts.js"></script>

    <script>
        $(document).ready(function() {
            $('[data-toggle=offcanvas]').click(function() {
                $('.row-offcanvas').toggleClass('active');
            });
        });
    </script>


    <!--Bootstrap -->

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <style>
        ul#markdown-toc::before  {
        content: "Table of Contents"
         }
    </style>

</head>
<body class="default">
<div class="page-container">


    <!-- Top Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container topnavlinks">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="fa fa-bars fa-2x"></span>
                </button>
                <button type="button" class="navbar-toggle toggle-sidebar-button"  data-toggle="offcanvas" data-target=".sidebar-nav">
                    <span class="sidebarToggle fa fa-columns fa-2x"></span>
                </button>

                <a class="navbar-brand noCrossRef" href="https://developer.amazon.com/">
                    <img class="navbar-logo" src="amazonlogowhite.png"/>
            </div>

            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-left">

                    <!-- single item nav items appear here -->

                    
                    
                    
                    
                    <li><a href="index.html">Documentation Home</a></li>
                    
                    
                    
                    
                    

                    <!-- drop-down nav items appear here -->

                    


                </ul>

                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <!--start search -->
                        <!--
                        <div id="search-demo-container">
                            <form action="search.html" method="get">
                                <input type="text" id="search-input" placeholder="Global Search ..." name="query">
                            </form>
                        </div>
                        -->
                        <!-- end search-->
                    </li>
                </ul>
            </div>

        </div>


        <!-- /.container -->
    </nav>



<div class="container">
        <div class="row row-offcanvas row-offcanvas-left">

            <!-- sidebar -->
            <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar" role="navigation">

                


<div class="mydocsidebar">
<div class="sidebar-inner">
<!-- search bar - uses Lunr.js  -->

<div class="sidebarSearchBar">
<form action="search-fling.html" method="get">
  <div class="input-group search">
    <input type="text" id="search-box" name="query" class="form-control" placeholder="Product Search ...">
    <div class="input-group-btn">
      <button class="btn btn-default" type="submit" value="search">
        <i class="glyphicon glyphicon-search"></i>
      </button>
    </div>
  </div>
</form>
</div>

<!-- end search bar -->


<div class="productTitle">Fling SDK</div>
<p class="external">
    <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
</p>



    <ul id="docnavsidebar" class="docnav">
    
    <li class="level1"><a href="#">Fling Overview</a>
        <ul>
            

            
            
            <li class="level1items"><a href="understanding-the-amazon-fling-service.html">Understanding the Amazon Fling Service</a></li>
            
            

            

            

            
            
            <li class="level1items"><a  class="noCrossRef" href="https://developer.amazon.com/public/resources/development-tools/sdk">Download the Fling SDK</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="amazon-fling-frequently-asked-questions.html">Amazon Fling Frequently Asked Questions</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Settting Up Fling</a>
        <ul>
            

            
            
            <li class="level1items"><a href="setting-up-your-amazon-fling-development-environment-for-android.html">Setting Up Your Amazon Fling Development Environment for Android</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="setting-up-your-amazon-fling-development-environment-for-ios.html">Setting Up your Amazon Fling Development Environment for iOS</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Integrating Fling with Android, iOS, and Fire TV Apps</a>
        <ul>
            

            
            
            <li class="level1items"><a href="integrating-amazon-fling-into-your-android-app.html">Integrating Amazon Fling into Your Android App</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="integrating-amazon-fling-into-your-ios-app.html">Integrating Amazon Fling into your iOS App</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="integrating-amazon-fling-into-your-fire-tv-app.html">Integrating Amazon Fling SDK into your Fire TV App</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="using-amazon-fling-with-android-mediarouter.html">Using Amazon Fling with Android MediaRouter</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="working-with-built-in-receiver-on-fire-tv.html">Working with the Built-in Receiver on the Fire TV Platform</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Integrating Fling with Google Cast Apps</a>
        <ul>
            

            
            
            <li class="level1items"><a href="integrating-amazon-fling-with-cast.html">Integrating Amazon Fling with Apps that Use Google Cast</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="integrating-amazon-fling-with-an-existing-android-cast-app.html">Integrating Amazon Fling with an Existing Android App that Uses Google Cast</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="integrating-amazon-fling-with-an-existing-ios-cast-app.html">Integrating Amazon Fling with an Existing iOS App that uses Google Cast</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Fling UX</a>
        <ul>
            

            
            
            <li class="level1items"><a href="designing-amazon-fling-ux.html">Designing Amazon Fling UX</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Remote Install</a>
        <ul>
            

            
            
            <li class="level1items"><a href="remote-install.html">Remote Install</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="android-remote-install.html">Integrating Remote Install into Your Android App</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="ios-remote-install.html">Integrating Remote Install into Your iOS App</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Unity Plugins</a>
        <ul>
            

            
            
            <li class="level1items"><a href="unity-controller-plugin.html">Integrating the Amazon Fling Controller In Your Games</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="unity-player-plugin.html">Integrating the Amazon Fling Player In Your Games</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">API Docs</a>
        <ul>
            

            
            
            <li class="level1items"><a  class="noCrossRef" href="https://developer.amazon.com/public/binaries/content/assets/javadoc/whisperplay/javadocs/reference/packages.html">Android API Documentation</a></li>
            
            

            

            

            
            
            <li class="level1items"><a  class="noCrossRef" href="https://developer.amazon.com/public/binaries/content/assets/javadoc/whisperplay/objc-apidocs/index.html">iOS API Documentation</a></li>
            
            

            

            
        </ul>

        

    </li>
</ul>

<hr class="resourceSeparator"></hr>
<div class="relatedResources">Related Resources</div>
<ul id="entrypages">
        
        <li><a class="noCrossRef" href="/getting-started-developing-apps-and-games-for-amazon-fire-tv.html">Fire TV</a></li>
        
        <li><a class="noCrossRef" href="/fire-app-builder-overview.html">Fire App Builder</a></li>
        
        <li><a class="noCrossRef" href="/appstore-understanding-submission">Appstore Publishing</a></li>
        
        <li><a class="noCrossRef" href="/getting-started-with-iap">In-App Purchasing API</a></li>
        
        <li><a class="noCrossRef" href="/understanding-the-amazon-fling-service">Fling SDK</a></li>
        
        <li><a class="noCrossRef" href="">Developer Portal Forums</a></li>
        
    </li>
</ul>
</div>
</div>
<script>$("li.open").parents('li').toggleClass("open");</script>






            </div>

            <!-- main area -->
            <div class="col-xs-12 col-sm-9 main">

                    <div class="subtitle"></div>

                    <h1>Search - Fling SDK</h1>

                    
<div style="display:none">
<form action="search-fling.html" method="get">
  <div class="input-group search">
    <input type="text" id="search-box" name="query" class="form-control" placeholder="">
    <div class="input-group-btn">
      <button class="btn btn-default" type="submit" value="search">
        <i class="glyphicon glyphicon-search"></i>
      </button>
    </div>
  </div>
</form>
</div>

<div id="search-results"></div>

<script>
  window.store = {
      
          
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
          
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          


      "amazon-fling-frequently-asked-questions-html": {
        "title": "Amazon Fling Frequently Asked Questions",
        "tags": "[]",
        "content": "  What platforms are supported by the Amazon Fling SDK?   The SDK is supported on Fire OS, Android, and iOS.  What type of media can my app send to Amazon Fire TV?  With the SDK, you can send anything your custom Amazon Fire TV receiver app can play back.  How can I set the volume or mute the built-in media player receiver?  The built-in media player receiver does not support the mute and volume API calls at this time. A custom media player is required to use these APIs.  How do the autoplay and playInBg options work when calling setMediaSource with the built-in media player receiver?  The built-in media player receiver does not support these options at this time. A custom media player is required to use these options.  How do I use the setPlayerStyle API to customize the style of the built-in media player receiver?  The built-in media player receiver does not support setting the player style at this time. A custom media player is required to use this API.  What does sendCommand do when sent to the built-in media player receiver?  The built-in media player receiver does not support the sendCommand API call. The intention of this API call is to allow custom receivers to receive information that can not be included in other API calls.  A custom media player is required to use this API.  Do you have resources or guidelines for design?  Yes, please visit UX Guidelines.   How can I get additional information?  If you have questions about the SDK please visit our forum.",
        "url": "amazon-fling-frequently-asked-questions.html",
        "product": "Fling SDK"
      }
      ,
      
      
    
            

          


      "android-remote-install-html": {
        "title": "Integrating Remote Install into Your Android App",
        "tags": "[]",
        "content": "To enable this feature in your mobile app for Fire OS or Android, implement the API and add permissions to your Android manifest. This document describes both these steps. See Understanding the Amazon Fling Service for a high-level overview of the features and functions our SDK provides. See also the controller sample app, part of the SDK, for details on your controller implementation.Before you start, make sure you’ve set up your development environment. See Setting Up Your Amazon Fling Development Environment for Android for more details.  Remote Installation Overview  Modifying the Android Manifest          Fire OS Devices      Non-Fire OS Android Devices        Initializing Underlying Framework and Discovering Amazon Fire TV  Installing Apps with RemoteInstallServiceRemote Installation OverviewThere are four steps for creating or modifying your controller mobile app to support Remote Install:  Modifying your Android manifest to include network permissions.  Initializing underlying framework and discovering available Fire TV devices.  For a selected Fire TV device, add logic to check if your app is installed on it.  Add UI flow to allow the user to initiate install of your Fire TV app. Modifying the Android ManifestThe API requires some permissions to be added to your Android manifest (AndroidManifest.xml). Specifically, the API needs these permissions to communicate over networks:  android.permission.INTERNET: Allows applications to open network sockets.  android.permission.ACCESS_WIFI_STATE: Allows applications to access information about Wi-Fi networks.  android.permission.ACCESS_NETWORK_STATE: Allows applications to access information about networks.  android.permission.CHANGE_WIFI_MULTICAST_STATE: Allows applications to enter Wi-Fi Multicast mode. (Android (non-Fire OS) only)In addition, Fire OS devices require a uses-library element to refer to the WhisperPlay shared library. Non-Fire OS Android devices should not include this tag.Fire OS DevicesAdd the uses-permission and uses-library elements as in the following example:  &lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"    package=\"[YOUR PACKAGE NAME]\"    android:versioncode=\"1\"    android:versionname=\"1.0\"&gt;    &lt;!-- Android Network Access Permissions --&gt;    &lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;    &lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\"/&gt;    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/&gt;    &lt;application&gt;        ...        &lt;uses-library android:name=\"com.amazon.whisperplay.contracts\" android:required=\"true\" /&gt;        ...        &lt;/application&gt;    ...&lt;/manifest&gt;Non-Fire OS Android DevicesAdd the uses-permission elements as in the following example. Do not include the uses-library element for the WhisperPlay shared library.&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"    package=\"[YOUR PACKAGE NAME]\"    android:versioncode=\"1\"    android:versionname=\"1.0\"&gt;    &lt;!-- Android Network Access Permissions --&gt;    &lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;    &lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\"/&gt;    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/&gt;    &lt;uses-permission android:name=\"android.permission.CHANGE_WIFI_MULTICAST_STATE\"/&gt;    ...&lt;/manifest&gt;Initializing Underlying Framework and Discovering Amazon Fire TVUse the InstallDiscoveryController class to create a controller and to discover and connect to Amazon Fire TV over the network. Get an instance of InstallDiscoveryController in your onCreate() method:@Overrideprotected void onCreate(Bundle savedInstanceState) {    super.onCreate();    ...    mController = new InstallDiscoveryController(this);}The IInstallDiscoveryListener interface allows you to receive updates when an install service on an Amazon Fire TV device (RemoteInstallService) is discovered, updated, or no longer reachable by your app. Implement this interface to add behavior such as adding or removing a device to your list of discovered devices, or updating your user interface. The callback methods are called from worker thread and user interface elements shouldn’t be updated inside of calling.private InstallDiscoveryController.IInstallDiscoveryListener mDiscovery = new InstallDiscoveryController.IInstallDiscoveryListener() {    @Override    public void installServiceDiscovered(RemoteInstallService remoteInstallService) {        //add remote install service to the application’s remote install service list.    }    @Override    public void installServiceLost(RemoteInstallService remoteInstallService) {        //remove remote install service from the application’s remote install service list.    }    @Override    public void discoveryFailure() {}};Call the start() method in your onResume() method, and the stop() method in onPause(). The start() method takes one argument: an object that implements IInstallDiscoveryListener.@Overrideprotected void onResume() {    super.onResume();    …   mController.start(mDiscovery);}@Overrideprotected void onPause() {    super.onPause();    …   mController.stop();}Installing Apps with RemoteInstallServiceThe RemoteInstallService interface represents an install service running on a remote Fire TV device. Once your app discovers Fire TV  devices running this service, your app gets an object that implements this interface. Use that RemoteInstallService object to install an app or check the version of an app on the Fire TV device.When checking the version of an app if the app is not install the RemoteInstallService.PACKAGE_NOT_FOUND string will be returned. Once your app has called the installASIN method the Fire TV will launch the Appstore page associated with that ASIN (Amazon Standard Identification Number).The user will then need to finish the installation with the a Fire TV remote. If the ASIN is invalid the Fire TV will show an error popup. The ASIN of an application can be found on its product information page on amazon.com under the Product Details section. Some applications could have different products for different regions and therefore could have multiple ASINs.The RemoteInstallService.AsyncFuture interface allows your getAsync() method to add a completion listener (RemoteInstallService.FutureListener). The AsyncFuture interface implements java.util.concurrent.Future, which means you can also check to see if the computation is complete, to wait for its completion, and to retrieve the result of that computation.RemoteInstallService mSelectedFireTV; //It needs to be set with discovered instance by discovery.private void checkInstalledPackageVersion() {    mSelectedFireTV.getInstallPackageVersion(\"com.amazon.whisperplay.fling.media.player\").getAsync(                                             new RemoteInstallService.FutureListener&lt;string&gt;() {        @Override        public void futureIsNow(Future&lt;String&gt; future) {            try {                String version = future.get();                if (version.equals(RemoteInstallService.PACKAGE_NOT_FOUND)) {                    Log.i (\"LOG\", \"package not installed\");                } else {                    Log.i (\"LOG\", \"version = \" + version);                }            } catch (InterruptedException e) {                Log.e(\"LOG\", \"InterruptedException\", e);            } catch (ExecutionException e) {                Log.e(\"LOG\", \"ExecutionException\", e);            }        }    });}private void installPackage() {    mSelectedFireTV.installASIN(\"B0128SSCMO\").getAsync(new RemoteInstallService.FutureListener&lt;void&gt;() {        @Override        public void futureIsNow(Future&lt;Void&gt; future) {            try {                future.get();            } catch (InterruptedException e) {                Log.e(\"LOG\", \"InterruptedException\", e);            } catch (ExecutionException e) {                Log.e(\"LOG\", \"ExecutionException\", e);            }        }    });}",
        "url": "android-remote-install.html",
        "product": "Fling SDK"
      }
      ,
      
      
    
            

          


      "designing-amazon-fling-ux-html": {
        "title": "Designing Amazon Fling UX",
        "tags": "[]",
        "content": "Amazon Fling allows you to send media sources from your mobile application to the Amazon Fire TV. Your app on the mobile device is the controller, while the app that plays your content on the Fire TV is the player.This document describes the UX design guidelines and recommendations for controller applications.  User Interface Design Guidelines  Controller App Operation          Amazon Fire TV Discovery State Visualization      Primary Use Cases                  Connect to Amazon Fire TV and Start Playback          Continue Local Playback on Amazon Fire TV          Control Playback on the Amazon Fire TV                    User Interface Design GuidelinesThe goals of these guidelines are to provide a consistent user experience across all applications and platforms using Amazon Fling and improve discoverability of the operation.Controller app:  The Amazon Fling button should be easily discoverable and accessible to the user.   The Amazon Fling button should reflect the state of discovery of and connection to the Amazon Fire TVs - these states are as follows:          No Fire TVs available in the network      Fire TVs discovered      Connected to a Fire TV        Interface should show the playback state and basic remote controls. The recommended playback control icons should be used to render the control buttons  Please refer to the recommended icon archive.Controller App OperationFor your controller app to work, the mobile device and the Amazon Fire TV must be on the same Wi-Fi network. The mobile application is responsible to show whether there are Fire TVs available on the network. If there are Fire TVs available on the network, your application allows the user to pick the desired Fire TV from the list of available Fire TVs. Once the user selects the Fire TV to play the media on, your app retrieves the current state of that Fire TV and presents it to the user. At this point, the user is able to start playing back on this Fire TV and control the playback on the Fire TV.The screenshots below are from the iOS FlingSample application in our SDK, and are as close to the Android FlingSample app as possible.Amazon Fire TV Discovery State VisualizationNo Fire TV DiscoveredAt Least 1 Fire TV DiscoveredConnected to a Fire TVThe table above shows how the Amazon Fling button should be rendered for different states of the Amazon Fire TV discovery process. The table below references icons that are available in the recommended icon archive.Discovery StateIcon RepresentationNo Fire TVs discoveredNo iconAt least one Fire TV discovered Connected to the Fire TV Primary Use CasesThis functionality supports the following primary use cases:  Connect to Amazon Fire TV and then start playback  Continue playback on the Fire TV  Control playback on the Fire TVConnect to Amazon Fire TV and Start PlaybackIn this use case, the controller first connects to the Fire TV and then sends the media URL to the Fire TV to render.Continue Local Playback on Amazon Fire TVIn this sequence, the controller streams the media and plays it locally. During the playback, the user picks a Fire TV to send the media URL to. The controller should play on one device only (e.g. show the video thumbnail on the mobile device) and indicate that remote playback is in progress by showing the connected Amazon Fling button.Control Playback on the Amazon Fire TVYour controller app may follow the shown UI guidelines for visualizing playback control. The icons are available in the recommended icon archive.Big Buck Bunny is copyright 2008, Blender Foundation / www.bigbuckbunny.org and is licensed under the Creative Commons Attribution License 3.0. Elephants Dream is copyright 2006, Blender Foundation/ Netherlands Media Art Institute/www.elephantsdream.org and is licensed under the Creative Commons Attribution License 2.5.",
        "url": "designing-amazon-fling-ux.html",
        "product": "Fling SDK"
      }
      ,
      
      
    
            

          
      
    
            

          


      "integrating-amazon-fling-into-your-android-app-html": {
        "title": "Integrating Amazon Fling into Your Android App",
        "tags": "[]",
        "content": "To enable this feature in your mobile app for Fire OS or Android, implement the API and add permissions to your Android manifest. This document describes both these steps. See Understanding the Amazon Fling Service for a high-level overview of the features and functions our SDK provides. See also the controller sample app, which is part of the SDK, for details on your controller implementation.Before you start, make sure you’ve set up your development environment. See Setting Up Your Amazon Fling Development Environment for Android for more details.  Integration Overview  Modifying the Android Manifest          Fire OS Devices      Non-Fire OS Android Devices        Initializing Underlying Framework and Discovering Amazon Fire TV  Flinging Content with RemoteMediaPlayer  Monitoring Remote Player Status with MediaPlayerStatus  Next StepsIntegration OverviewThere are four steps for creating or modifying your controller mobile app to support our SDK:  Modifying your Android manifest to include network permissions.  Initializing underlying framework and discovering available players on Fire TV devices.  Flinging content and controlling that content.  Monitoring the status of that content.Modifying the Android ManifestThe API requires some permissions to be added to your Android manifest (AndroidManifest.xml). Specifically, the API needs these permissions to communicate over networks:  android.permission.INTERNET: Allows applications to open network sockets.  android.permission.ACCESS_WIFI_STATE: Allows applications to access information about Wi-Fi networks.  android.permission.ACCESS_NETWORK_STATE: Allows applications to access information about networks.  android.permission.CHANGE_WIFI_MULTICAST_STATE: Allows applications to enter Wi-Fi Multicast mode. (Android (non-Fire OS) only)In addition, Fire OS devices require a uses-library element to refer to the WhisperPlay shared library. Non-Fire OS Android devices should not include this tag.Fire OS DevicesAdd the uses-permission and uses-library elements as in the following example:  manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"    package=\"[YOUR PACKAGE NAME]\"    android:versioncode=\"1\"    android:versionname=\"1.0\"&gt;    &lt;!-- Android Network Access Permissions --&gt;    &lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;    &lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\"/&gt;    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/&gt;    &lt;application&gt;        ...        &lt;uses-library android:name=\"com.amazon.whisperplay.contracts\" android:required=\"true\" /&gt;        ...        &lt;/application&gt;    ...&lt;/manifest&gt;Non-Fire OS Android DevicesAdd the uses-permission elements as in the following example. Do not include the uses-library element for the WhisperPlay shared library.manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"    package=\"[YOUR PACKAGE NAME]\"    android:versioncode=\"1\"    android:versionname=\"1.0\"&gt;    &lt;!-- Android Network Access Permissions --&gt;    &lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;    &lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\"/&gt;    &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/&gt;    &lt;uses-permission android:name=\"android.permission.CHANGE_WIFI_MULTICAST_STATE\"/&gt;    ...&lt;/manifest&gt;Initializing Underlying Framework and Discovering Amazon Fire TVUse the DiscoveryController class to create a controller and to discover and connect to Amazon Fire TV over the network. Get an instance of DiscoveryController in your onCreate() method:@Overrideprotected void onCreate(Bundle savedInstanceState) {    super.onCreate();    setContentView(R.layout.activity_main);    ...    mController = new DiscoveryController(getApplicationContext());}The IDiscoveryListener interface allows you to receive updates when a player on an Amazon Fire TV device (RemoteMediaPlayer) is discovered, updated, or no longer reachable by your app. Implement this interface to add behavior such as adding or removing a device to your list of discovered devices, or updating your user interface. The callback methods are called from worker thread and user interface elements shouldn’t be updated inside of calling.private DiscoveryController.IDiscoveryListener mDiscovery = new DiscoveryController.IDiscoveryListener() {    @Override    public void playerDiscovered(RemoteMediaPlayer player) {        //add media player to the application’s player list.    }    @Override    public void playerLost(RemoteMediaPlayer player) {        //remove media player from the application’s player list.    }    @Override    public void discoveryFailure() {}};Call the start() method in your onResume() method, and the stop() method in onPause(). The start() method takes two arguments: a player service identifier or SID (defined by your custom player app on Fire TV), and an object that implements IDiscoveryListener. The service identifier (SID) must match the target player. For more information on creating the player app on Fire TV, see Integrating Amazon Fling into your Fire TV Application.@Overrideprotected void onResume() {    super.onResume();    …   mController.start(\"YourReceiverServiceID\", mDiscovery);}@Overrideprotected void onPause() {    super.onPause();    …   mController.stop();}Flinging Content with RemoteMediaPlayerThe RemoteMediaPlayer interface represents a player running on a remote Fire TV device. Once your controller app discovers target devices for flinging, your controller app gets an object that implements this interface. Use that RemoteMediaPlayer object to fling media from your app to the player application on the target device.The RemoteMediaPlayer.AsyncFuture interface allows your getAsync() method to add a completion listener (RemoteMediaPlayer.FutureListener). The AsyncFuture interface implements java.util.concurrent.Future, which means you can also check to see if the computation is complete, to wait for its completion, and to retrieve the result of that computation.private StatusListener mListener = new Monitor();private static final long MONITOR_INTERVAL = 1000L;private void fling(final RemoteMediaPlayer target, final String name, final String title) {    mCurrentDevice = target;    mCurrentDevice.addStatusListener(mListener).getAsync(new ErrorResultHandler(\"Cannot set status listener\"));    mCurrentDevice.setPositionUpdateInterval(MONITOR_INTERVAL)            .getAsync(new ErrorResultHandler(\"Error attempting set update interval, ignoring\"));    mCurrentDevice.setMediaSource(name, title, true, false).getAsync(new ErrorResultHandler(\"Error attempting to Play\"));}private void doStop() {     if (mCurrentDevice != null) {         mCurrentDevice.stop().getAsync(new FutureListener&lt;void&gt;() {             @Override              public void futureIsNow(Future&lt;void&gt; result) {                  try {                      result.get();                  } catch(ExecutionException e) {                      //handleFailure                  } catch(Exception e) {                      //handleFailure                  }              }         });    }}private class ErrorResultHandler implements FutureListener&lt;void&gt; {    ErrorResultHandler(String msg) {        this(msg, false);     }    @Override     public void futureIsNow(Future&lt;void&gt; result) {         try {             result.get();          } catch(ExecutionException e) {              //handleFailure          } catch(Exception e) {              //handleFailure          }    }}Monitoring Remote Player Status with MediaPlayerStatusImplement the CustomMediaPlayer.StatusListener in your controller app to monitor the status, condition, and position of the flung content on the remote Fire TV player app.Status mStatus = new Status();private static class Status {    public long mPosition;    public MediaState mState;    public MediaCondition mCond;}private class Monitor implements StatusListener {    @Override    public void onStatusChange(MediaPlayerStatus status, long position) {        synchronized (mStatus) {            mStatus.mState  = status.getState();            mStatus.mCond = status.getCondition();            mStatus.mPosition = position;        }    }}The player app on Fire TV uses the MediaPlayerStatus class to set the content state (MediaPlayerStatus.MediaState) and condition (MediaPlayerStatus.MediaCondition). Your controller app can get this status with a state and condition through the StatusListener, and use this information to control the behavior of your app.public enum MediaState {    NoSource, PreparingMedia, ReadyToPlay, Playing, Paused, Seeking, Finished, Error};public enum MediaCondition {    Good, WarningContent, WarningBandwidth, ErrorContent, ErrorChannel, ErrorUnknown};public MediaState getState();public MediaCondition getCondition();Next StepsTo create a custom Fling player for Fire TV, see Integrating Amazon Fling into your Fire TV Application.If you are modifying an existing Google Cast app to support Amazon Fling, see Integrating Amazon Fling with an Existing Android Cast App.If you use Android’s MediaRouter in your app, see Using Amazon Fling with Android MediaRouter.",
        "url": "integrating-amazon-fling-into-your-android-app.html",
        "product": "Fling SDK"
      }
      ,
      
      
    
            

          


      "integrating-amazon-fling-into-your-fire-tv-app-html": {
        "title": "Integrating Amazon Fling SDK into your Fire TV App",
        "tags": "[]",
        "content": "A player is an application on Amazon Fire TV that acts as a server to a mobile device based controller app and allows the controller to play content on the Fire TV. You can implement a customized player that fits your banding and rendering needs.  Integration Overview  Starting Your Amazon Fire TV App Development  Defining the Player SID  Implementing a Listener Service  Creating a Media PlayerIntegration OverviewTo create a new customized player or to enhance your existing Fire TV app to include flinging capability, you must use the player API, which is part of the SDK. The player application must:  Identify itself uniquely to the controllers: The player app must provide a unique service identifier (SID) so that the controller app can discover the Fire TVs hosting this player app.  Announce itself to the framework: The underlying framework enumerates the player applications based on a XML file in the application package. The player app must include this with appropriate metadata.  Listen for incoming controller requests: The player app must implement a service derived from the MediaPlayerHostService in the player API.  Provide implementation of the player interface: The player app must provide an implementation of CustomMediaPlayer to serve incoming control requests from the controller app.See Understanding the Amazon Fling Service for a high-level overview of the features and functions this service provides. See also the player sample app, part of the SDK, for details on your player implementation. Before you start, make sure you’ve set up your development environment. See Setting Up Your Amazon Fling Development Environment for Android for more details.Starting Your Amazon Fire TV App DevelopmentIf you are creating a brand new Fire TV app as a customized player app, it would be good to start with the Amazon Fire TV app development guide here: Getting Started Developing Apps and Games for Amazon Fire TV.While the latest generation of the Amazon Fire TV is based on Fire OS 5 (API 22), please target your applications to API 17, to cover older generation Amazon Fire TVs in the market, which are based on Fire OS 3. If you’re an Android developer, working with the Fire TV platform is easy and familiar. Fire TV uses the same tools and APIs you’re already used to for Android development.uses-sdk android:minSdkVersion=\"10\" android:targetSdkVersion=\"17\"/&gt;Defining the Player SIDYour player app on Fire TV is identified by a unique service identifier (SID). This unique SID is set in your project. The underlying framework broadcasts the SID over the network for mobile device based controller apps to discover. You can make the SID unique by adding “com.your.organization.” prefix to the SID.To define the SID for your app and advertise it to the underlying framework, the following steps must be taken:      Add a file called Whisperplay.xml to your app’s resources, in the res/xml/ directory. The contents of the file should look like this:    &lt;whisperplay&gt;    &lt;services&gt;        &lt;service&gt;            &lt;sid&gt;com.your.organization.custom.player&lt;/sid&gt;            &lt;accessLevel&gt;ALL&lt;/accessLevel&gt;            &lt;startService&gt;com.your.organization.example.ExamplePlayerService&lt;/startService&gt;        &lt;/service&gt;    &lt;/services&gt;&lt;/whisperplay&gt;        Here the &lt;sid&gt; element defines the SID and &lt;startService&gt; element refers to the listener service (see the next section for details).        Add a reference to the WhisperPlay XML file in your AndroidManifest.xml file.    meta-data android:name=\"whisperplay\" android:resource=\"@xml/whisperplay\" /&gt;            Add a “uses” library in your AndroidManifest.xml file    &lt;uses-library android:name=\"com.amazon.whisperplay.contracts\" /&gt;            Implement abstract function getPlayerId() in MediaPlayerHostService. See the next section for details.  Implementing a Listener ServiceThe player app must implement a service that can be started by the underlying framework when a controller app invokes a remote procedure call. This service derives from MediaPlayerHostService, which provides most of the listener functionality. The following methods are left to you to implement:public class ExamplePlayerService extends MediaPlayerHostService {    // Create the media player implementation that will handle remote method invocations    @Override    public CustomMediaPlayer createServiceImplementation() { return new ExamplePlayer(this); }    // Communicate the unique service identifier (SID) of your player app    @Override    public String getPlayerId() { return \"com.your.organization.custom.player\"; }    @Override    public IBinder onBind(Intent intent) { return null; }}public class ExamplePlayer implements CustomMediaPlayer {    //Media player (e.g. Android MediaPlayer)    private MediaPlayer mPlayer;    @Override    public void setMediaSource(String mediaLoc, String metadataJson,                                     boolean autoPlay, boolean playInBg) throws IOException {        //Implementation for your custom player.    }    .    .    .}Creating a Media PlayerYour customized player’s primary function is to render the URLs that are being sent from the controller apps. Your media player must implement the RemoteMediaPlayer API interface so that the controller can use it as its target player. The actual implementation of APIs such as setMediaSource(), play(), pause(), etc. depends on your intended user experience.For a player app that is designed to play videos, please refer to the player sample project in the SDK and see the topics from MediaPlayer, SurfaceView, SurfaceHolder, and AudioManager. If your app is a picture viewer, your media player will ignore the APIs for playable media such as seek().You must also support status listeners. The controller app can subscribe to the status change notifications through the addStatusListener() interface. When the playback status changes, the player app must send the notification to all the current listeners. When a media (audio or video) is playing, it is a good practice to send regular status updates with current position.",
        "url": "integrating-amazon-fling-into-your-fire-tv-app.html",
        "product": "Fling SDK"
      }
      ,
      
      
    
            

          


      "integrating-amazon-fling-into-your-ios-app-html": {
        "title": "Integrating Amazon Fling into your iOS App",
        "tags": "[]",
        "content": "This service provides an asynchronous discovery and control mechanism for your iOS app in the form of a framework. See Understanding the Amazon Fling Service for a high-level overview of the features and functions this service provides. See also the “FlingSample” sample app, part of the SDK, for a sample controller implementation for iOS.Before you start, make sure you’ve set up your development environment. See Setting Up your Amazon Fling Development Environment for iOS  for details.  Initializing and Suspending the Controller App  Implementing Discovery Callbacks  Presenting Remote Players to the User  Working with BFTask  Connecting to and Disconnecting from a Remote Player  Controlling Playback  Next StepsInitializing and Suspending the Controller AppWhen your iOS controller app loads, for example in the ViewController::viewDidLoad method, call DiscoveryController::searchPlayerWithId to initialize the underlying framework and start the discovery. Call DiscoveryController::resume every time the app comes to the foreground, that is, in the applicationDidBecomeActive lifecycle event of the UIApplicationDelegate implementation.@implementation AppDelegate...- (void)applicationDidBecomeActive:(UIApplication *)application {    id myViewController = [self findViewController];    [myViewController resume];}...@implementation ViewController...- (void)viewDidLoad {...    mController = [[DiscoveryController alloc] init];    [mController searchPlayerWithId : @\"amzn.thin.pl\" andListener : self];}- (void)resume {    [mController resume];}The debug logging is disabled by default. To enable the debug logging add the parameter andEnableLogs set to YES when calling searchPlayerWithId. Once the underlying framework is initialized, other operations such as player discovery and media playback and control are possible.When the controller app is to be suspended such as when the user locks the screen, your app must also suspend the underlying framework. Call DiscoveryController::close in the applicationWillResignActive lifecycle event of the UIApplicationDelegate implementation to suspend the underlying framework.@implementation AppDelegate...- (void) applicationWillResignActive:(UIApplication *)application {    id myViewController = [self findViewController];    [myViewController suspend];}...@implementation ViewController...- (void)suspend {    // Make sure that MediaPlayerStatusListener is removed before suspending.    if (mCurrentPlayer != nil) {        [mCurrentPlayer removeStatusListener:self]    }    [mController close];}Implementing Discovery CallbacksAs part of your app’s initialization, the component that creates the DiscoveryController instance should also specify the callback receiver. This object implements the DiscoveryListener interface. The object is passed to the underlying framework in the DiscoveryController::searchPlayerWithId call. Discovery is an ongoing process as long as the DiscoveryController object is live.@interface ViewController : UIViewController&lt;DiscoveryListener&gt;...@implementation ViewController...- (void)deviceDiscovered:(id&lt;RemoteMediaPlayer&gt;)device {    [mDevices addObject:device];    // Update UI}- (void)deviceLost:(id&lt;RemoteMediaPlayer&gt;)device {    [mDevices removeObject:device];    // Update UI}- (void)discoveryFailure {}The remote players are represented as RemoteMediaPlayer objects. Through this interface, your controller app can control the media playback on the remote player.Presenting Remote Players to the UserOnce the players in the vicinity are discovered, the controller app should present the friendly names of to the user.- (NSString *)pickerView:(UIPickerView *)pickerView             titleForRow:(NSInteger)row            forComponent:(NSInteger)component {    if (pickerView == devicePickerView ) {        if (row &lt; [mDevices count]) {            id&lt;RemoteMediaPlayer&gt; dev = [mDevices objectAtIndex:row];            return [dev name];        }    }    return nil;}Working with BFTaskBFTask is a class in the Bolts mobile development framework. Bolts makes it easier to work with asynchronous operations without blocking the UI thread. Our SDK for iOS uses Bolts to handle asynchronous tasks.A BFTask object represents the result of an asynchronous method. Using BFTask, you can wait for an asynchronous method to return a value, and then do something with that value after it has returned. When you are working with our SDK for iOS, it is important to remember that methods that return BFTask are asynchronous.Every BFTask has a method called continueWithBlock: that takes a continuation block. A continuation is a block that will be executed when the task is complete. In many cases, you only want to do more work if the previous task was successful, and propagate any errors to be dealt with later. To do this, use the continueWithSuccessBlock: method instead of continueWithBlock:. Note that you must return either BFTask or nil in every continueWithBlock: and continueWithSucessBlock:.For complete documentation on Bolts, see Bolts-iOS on GitHub. Clicking on this link will send you outside the Amazon Developer Portal.Connecting to and Disconnecting from a Remote PlayerAfter the user picks the player from the list of available players on Fire TV devices, your controller app is ready to interact with that remote player. To implement this interaction, the app needs to know the current player status and listen for changes to that status. Status updates are presented to the controller app in the form of callbacks.Your callback receiver implements the MediaPlayerStatusListener interface. This callback provides the current status of the player in an MediaPlayerStatus object. The current state is returned by the state selector, and the condition selector returns extra information about the state.@interface ViewController : UIViewController&lt;MediaPlayerStatusListener&gt;...@implementation ViewController...- (void)onStatusChange:(MediaPlayerStatus *)status positionChangedTo:(long long)position {    // Update UI with status}To receive the callbacks the app must add a status update listener object to the remote player object. Depending on the logic, the app should disconnect from the last player.-(void)connectToPlayer:(id&lt;RemoteMediaPlayer&gt;)device {    if (mCurrentPlayer == nil) {        mCurrentPlayer = device;    } else if (device != mCurrentPlayer) {        [[mCurrentPlayer removeStatusListener:self] continueWithBlock:^id(BFTask *task) {            if (task.error) {                // Indicate error            }            mCurrentPlayer = device;            return nil;        }];    }    [[mCurrentPlayer addStatusListener:self] continueWithBlock:^id(BFTask *task) {        if (task.error) {            // Indicate error        } else {            // UI update to show connection establishment        }        return nil;    }];}You should disconnect from the current player when the status updates are not needed.-(void)disconnectFromCurrentPlayer {    [[mCurrentPlayer removeStatusListener : self] continueWithBlock:^id(BFTask *task) {        if (task.error) {            // Indicate error        }        return nil;    }];}Controlling PlaybackOnce the player connection is established, your controller app can play and control media playback on that player. The RemoteMediaPlayer object provides local methods to control the playback and volume. All the control actions are asynchronous and your controller app should provide success and failure handler callbacks to each of the control methods if desired. Please note that these callbacks are not on the UI thread and the app must dispatch any UI updates on the main thread.Examples of control actions are below:- (void)playNewMedia : (NSString*)metadata : (NSString*)url {     [[mCurrentPlayer setMediaSourceToURL : url                                 metaData : metadata                                 autoPlay : YES // start playback immediately                      andPlayInBackground : NO  // play in foreground    ] continueWithBlock:^id(BFTask *task) {        if (task.error) {            // Indicate error        }        return nil;    }];}- (IBAction)goBack10s : (id)sender {    [[[mCurrentPlayer getPosition] continuteWithSuccessBlock:^id(BFTask *task) {        long long toPos = [task.result longlongValue];        toPos -= 10000;        if( toPos &lt; 0 ) {            toPos = 0;        }        return [mCurrentPlayer seekToPosition:toPos andMode:ABSOLUTE];    }] continueWithBlock:^id(BFTask *task) {        if (task.error) {            // Indicate error        }        return nil;    }];}Next StepsTo create a custom player for Fire TV, see Integrating Amazon Fling into your Fire TV Application.If you are modifying an existing Google Cast app on iOS to support flinging to Amazon Fire TV, see Integrating Amazon Fling with an Existing iOS Cast App.Please refer to Designing Amazon Fling UX for guidelines on how to design the user interface of your app.",
        "url": "integrating-amazon-fling-into-your-ios-app.html",
        "product": "Fling SDK"
      }
      ,
      
      
    
            

          


      "integrating-amazon-fling-with-an-existing-android-cast-app-html": {
        "title": "Integrating Amazon Fling with an Existing Android App that Uses Google Cast",
        "tags": "[]",
        "content": "Using our SDK, you can talk to Amazon Fire TV devices in a similar manner as you use Google Cast in your app to talk to Chromecast devices.  This page outlines steps to modify an existing app that uses the Google Cast Companion Library to also fling to Amazon Fire TV.Before you start, make sure you follow the steps at Setting Up your Amazon Fling Development Environment for Android to include the required libraries in your project.   Note: All the code in this document is available in the CastWithFlingExample in the samples folder of our SDK package.  Modifying the Android Manifest  Initializing DiscoveryController  Converting Your Device Picker to use RemoteMediaPlayer  Monitoring the Status of the Player with StatusListener  Communicating With the Remote Media PlayerModifying the Android ManifestThe API included in our SDK requires some permissions to be added to your Android manifest (AndroidManifest.xml). After the &lt;manifest&gt; element, add the &lt;uses-permission&gt; elements. Some of these permissions may already be present as they may also be used by applications that use Google Cast.manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"    package=\"[YOUR PACKAGE NAME]\"    android:versioncode=\"1\"    android:versionname=\"1.0\"&gt;&lt;!-- Android Network Access Permissions --&gt;&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;&lt;uses-permission android:name=\"android.permission.ACCESS_WIFI_STATE\"/&gt;&lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\"/&gt;&lt;uses-permission android:name=\"android.permission.CHANGE_WIFI_MULTICAST_STATE\"/&gt;...&lt;/manifest&gt;```For Fire OS devices, also add the &lt;uses-library&gt; element so your application can communicate with the underlying framework on the device.```javaapplication    android:icon=\"@drawable/ic_launcher\"    android:label=\"@string/app_name\"    android:theme=\"@style/AppTheme\" &gt;    &lt;uses-library android:name=\"com.amazon.whisperplay.contracts\" /&gt;    ...&lt;/application&gt;Initializing DiscoveryControllerAmazon Fling service provides similar functionality to Google Cast’s VideoCastManager via different classes:  DiscoveryController, the interface used to discover remote Fire TV devices and players.  RemoteMediaPlayer, the interface that represents a player running on a remote Fire TV device. Use of this interface is described below in Converting Your Device Picker to use RemoteMediaPlayer.To use DiscoveryController, initialize it in your onCreate() method. Replace YourReceiverServiceID with your Amazon Fire TV player’s system ID (SID).private DiscoveryController mController;    @Override    protected void onCreate(Bundle savedInstanceState) {        ...        mController = new DiscoveryController(this);        ...    }    @Override    protected void onResume() {        ...        mController.start(\"YourReceiverServiceID\", mDiscovery);        ...    }    @Override    protected void onPause() {        ...        mController.stop();        ...    }Converting Your Device Picker to use RemoteMediaPlayerThe device picker is the part of your app’s user interface that allows the user to view and pick available remote players. Your controller app uses the RemoteMediaPlayer interface for device discovery and selection through a custom device picker.Cast applications that use the MediaRouterButton class, as in the code below, must be replaced by a custom device picker.    @Override    public boolean onCreateOptionsMenu(Menu menu) {        ...        getMenuInflater().inflate(R.menu.main, menu);        mCastManager.addMediaRouterButton(menu, R.id.media_route_menu_item);        ...    }If your app implements a custom device picker like the code below you must modify that code to support RemoteMediaPlayer.    private MediaRouter mMediaRouter;    private List&lt;CastDevice&gt; mDeviceList = new LinkedList&lt;CastDevice&gt;();    private CastDevice mCurrentDevice;    @Override    protected void onCreate(Bundle savedInstanceState) {        ...        mMediaRouter = MediaRouter.getInstance(this);        ...    }    @Override    protected void onResume() {        ...        mMediaRouter = MediaRouter.getInstance(this);        mMediaRouter.addCallback(mCastManager.getMediaRouteSelector(), mCastCallback,            MediaRouter.CALLBACK_FLAG_REQUEST_DISCOVERY);        ...    }    @Override    protected void onPause() {        ...        mMediaRouter.removeCallback(mCastCallback);    }    private MediaRouter.Callback mCastCallback = new MediaRouter.Callback() {        public void onRouteAdded(android.support.v7.media.MediaRouter router,            android.support.v7.media.MediaRouter.RouteInfo route) {            CastDevice device = CastDevice.getFromBundle(route.getExtras());            if (mDeviceList.contains(device)) {                mDeviceList.remove(device);                ...            } else {                ...            }            mDeviceList.add(device);            triggerUpdate();        }        public void onRouteRemoved(android.support.v7.media.MediaRouter router,            android.support.v7.media.MediaRouter.RouteInfo route) {            CastDevice device = CastDevice.getFromBundle(route.getExtras());            if( mDeviceList.contains(device) ) {                ...                mDeviceList.remove(device);                triggerUpdate();            }        }    };This example uses a list of of RemoteMediaPlayer objects to keep track of the currently selected player device in a list view. The IDiscoveryListener interface is used to listen for when a new player device becomes available or an existing player device is no longer available. The listener is added when starting your controller app in the onResume() method.    private List&lt;RemoteMediaPlayer&gt; mDeviceList = new LinkedList&lt;RemoteMediaPlayer&gt;();    private RemoteMediaPlayer mCurrentDevice;    private DiscoveryController.IDiscoveryListener mDiscovery = new DiscoveryController.IDiscoveryListener() {        @Override        public void playerDiscovered(RemoteMediaPlayer device) {            if (mDeviceList.contains(device)) {                mDeviceList.remove(device);                ...            } else {                ...            }            mDeviceList.add(device);            triggerUpdate();        }        @Override        public void playerLost(RemoteMediaPlayer device) {            if( mDeviceList.contains(device) ) {                ...                mDeviceList.remove(device);                triggerUpdate();                ...            }        }        @Override        public void discoveryFailure() {            ...        }    }The device picker list is updated in the following method that handles device objects from both Google Cast and this SDK.    void triggerUpdate() {        runOnUiThread(new Runnable() {            @Override            public void run() {                final ListView lv = (ListView) findViewById(R.id.listView1);                ArrayAdapter&lt;Object&gt; ad = (ArrayAdapter&lt;Object&gt;) lv.getAdapter();                ad.notifyDataSetChanged();            }        });    }Monitoring the Status of the Player with StatusListenerGoogle Cast provides callbacks to manage application status changes. The Google Cast Companion Library also keeps track of some statuses such as the current media position through the VideoCastConsumerImpl class. Our API provides the StatusListener class to receive status updates based on a given interval. The StatusListener class provides the same functionality as VideoCastConsumerImpl. Add the status listener to your controller app to receive status updates, and set the interval for updates when your status listener is successfully added.The addStatusListener() and setPositionUpdateInterval() methods, as with all remote methods in the API, are asynchronous calls. The API gives the result from these asynchronous calls by providing FutureListener&lt;T&gt;. Chain the getAsync() method with remote methods to get the result. Once the asynchronous task is done, the remote method call invokes the futureIsNow() method from the receiver app.    private StatusListener mListener;    private Status mStatus = new Status();    private static final long MONITOR_INTERVAL = 1000L;    private DiscoveryController.IDiscoveryListener mDiscovery = new DiscoveryController.IDiscoveryListener() {        @Override        public void playerLost(RemoteMediaPlayer device) {            ...            device.removeStatusListener(mListener).getAsync(new FutureListener&lt;Void&gt; {                @Override                public void futureIsNow(Future&lt;Void&gt; voidFuture) {                    //handle asynchronous task                }            });        }    };    @Override    protected void onResume() {        ...        mListener = new Monitor();        ...    }    private static class Status {        public long mPosition;        public MediaState mState;        public MediaCondition mCond;        public synchronized void clear() {            mPosition = -1L;            mState = MediaState.NoSource;        }    }    private class Monitor implements StatusListener {        @SuppressLint(\"NewApi\")        @Override        public void onStatusChange(AmazonMediaStatus status, long position) {            if (mCurrentDevice != null) {                synchronized (mStatus) {                    mStatus.mState = status.getState();                    mStatus.mCond = status.getCondition();                    mStatus.mPosition = position;                    ...                }                ...            }        }    }    ...    private void fling(final Object target, final String name, final String title) {        mCurrentDevice = target;\tmCurrentDevice.addStatusListener(mListener).getAsync(new ErrorResultHandler(\"Cannot set status listener\"));        mCurrentDevice.setPositionUpdateInterval(MONITOR_INTERVAL).getAsync(            new ErrorResultHandler(\"Error attempting set update interval, ignoring”));        mCurrentDevice.setMediaSource(name, title, true, false).getAsync(new ErrorResultHandler(\"Error attempting to Play”));    }    private class ErrorResultHandler implements FutureListener&lt;Void&gt;  {        ErrorResultHandler(String msg) {\t    this(msg, false);        }        @Override        public void futureIsNow(Future&lt;Void&gt; result) {            try {                result.get();            } catch(ExecutionException e) {              //handleFailure            } catch(Exception e) {              //handleFailure            }        }    }Communicating With the Remote Media PlayerThe Google Cast Companion Library provides only the callbacks in VideoCastConsumerImpl to indicate when a remote call is finished.  Some actions your application performs do not provide a direct callback once the remote player has performed the specified action:mCastManager.loadMedia(selectedMedia, true, 0);mCastManager.play();mCastManager.pause();mCastManager.stop();mCastManager.seekAndPlay((int)position);Our SDK provides the option to use listeners when communicating with the remote device, as in the previous section.  This allows you to monitor the result of the call and to handle failure and success situations differently, or with a common failure handler like the one in this example:private void handleFailure( Throwable throwable, final String msg, final boolean extend ) {    Log.e(TAG, msg, throwable);    final String exceptionMessage = throwable.getMessage();    FlingActivity.this.runOnUiThread(new Runnable() {        public void run() {            Toast.makeText(FlingActivity.this, msg+(extend?exceptionMessage:\"\"), Toast.LENGTH_LONG).show();        }    });}private class ErrorResultHandler  implements FutureListener&lt;Void&gt; {    private String mMsg;    private boolean mExtend;    ErrorResultHandler(String msg) {        this(msg, false);    }    ErrorResultHandler(String msg, Boolean extend) {        mMsg = msg;        mExtend = extend;    }    @Override    public void futureIsNow(Future&lt;Void&gt; result) {        try {            result.get();        } catch(ExecutionException e) {            handleFailure(e.getCause(), mMsg, mExtend);        } catch(Exception e) {            handleFailure(e, mMsg, mExtend);        }    }}...mCurrentDevice.stop(new ErrorResultHandler(\"Error Stopping\"));...Or maybe not even handle the asynchronous result at all.mCurrentDevice.setPositionUpdateInterval(MONITOR_INTERVAL, null);mCurrentDevice.setMediaSource(name, title, true, false, null);mCurrentDevice.play(null);mCurrentDevice.pause(null);mCurrentDevice.stop(null);mCurrentDevice.seek(null);",
        "url": "integrating-amazon-fling-with-an-existing-android-cast-app.html",
        "product": "Fling SDK"
      }
      ,
      
      
    
            

          


      "integrating-amazon-fling-with-an-existing-ios-cast-app-html": {
        "title": "Integrating Amazon Fling with an Existing iOS App that uses Google Cast",
        "tags": "[]",
        "content": "Using our SDK, you can talk to Amazon Fire TV devices in a similar manner as you use Google Cast in your iOS apps to talk to Chromecast devices.  This page outlines steps to modify an existing iOS app that uses the Google Cast framework to also fling to Amazon Fire TV.Before you start, make sure you follow the steps at Setting Up your Amazon Fling Development Environment for iOS to include the required frameworks in your project.   Note: All the code in this document is available in the CastHelloVideo-ios-master in the samples folder of the SDK package. This page calls out important code changes you need to make to an app that currently uses Google Cast.Setup and InitializationTo add this functionality in an app that currently uses Google Cast, add the required headers, and add listeners for player discovery and media status.#import &lt;UIKit/UIKit.h&gt;#import &lt;GoogleCast/GoogleCast.h&gt;#import &lt;AmazonFling/DiscoveryController.h&gt;#import &lt;AmazonFling/RemoteMediaPlayer.h&gt;#import &lt;AmazonFling/MediaPlayerStatus.h&gt;@interface HGCVViewController : UIViewController&lt;GCKDeviceScannerListener,                                                 GCKDeviceManagerDelegate,                                                 GCKMediaControlChannelDelegate,                                                 UIActionSheetDelegate,                                                 DiscoveryListener,                                                 MediaPlayerStatusListener&gt;Start the discovery process when the application or view is loaded for the first time.- (void)viewDidLoad {    [super viewDidLoad];    ...    // Initialize AmazonFling    self.controller = [[DiscoveryController alloc] init];    [self.controller searchPlayerWithId:@\"amzn.thin.pl\" andListener:self];    self.devices = [[NSMutableArray alloc] init];Your app receives the results of device discovery in overloaded callbacks.- (void)deviceDiscovered:(id&lt;RemoteMediaPlayer&gt;)device {    NSLog(@\"deviceDiscovered=%@\", [device name]);    [self.devices addObject:device];    dispatch_async(dispatch_get_main_queue(), ^{        [self updateButtonStates];    });}- (void)deviceLost:(id&lt;RemoteMediaPlayer&gt;)device {    NSLog(@\"deviceLost=%@\", [device name]);    [self.devices removeObject:device];    dispatch_async(dispatch_get_main_queue(), ^{        [self updateButtonStates];    });}- (void)discoveryFailure {    NSLog(@\"Discovery failure\");}Your app gets media playback status in another callback:- (void)onStatusChange:(MediaPlayerStatus *)status positionChangedTo:(long long)position {    NSLog(@\"Applciation: onStatusChange Called\");}Lifecycle Event HandlingYour app should suspend device discovery when the app goes into the background, and resume when it comes to foreground:- (void)viewDidAppear:(BOOL)animated {    [super viewDidAppear:animated];    NSLog(@\"viewDidAppear\");    [self.controller resume];}- (void)viewWillDisappear:(BOOL)animated {    [super viewWillDisappear:animated];    NSLog(@\"viewWillDisappear\");    [self.devices removeAllObjects];    [self.controller close];}Presenting Amazon Fire TV Devices to the UserYou can get a list of the names of the remote Amazon Fire TV devices and present those names to the user with the RemoteMediaPlayer proxy object:- (void)chooseDevice:(id)sender {...    UIActionSheet *sheet =        [[UIActionSheet alloc] initWithTitle:NSLocalizedString(@\"Connect to Device\", nil)                                    delegate:self                           cancelButtonTitle:nil                      destructiveButtonTitle:nil                           otherButtonTitles:nil];      for (id&lt;RemoteMediaPlayer&gt; device in self.devices) {          [sheet addButtonWithTitle:[device name]];      }Connect to the PlayerTo connect your app to a player, add a status listener.- (void)connectToFlingDevice {    if (self.selectedFlingPlayer == nil)        return;    __weak HGCVViewController *selfWeak = self;    [self.selectedFlingPlayer addStatusListener:self :^(NSException *failure) {        NSLog(@\"Failed to add status listener.  Error:%@\", failure.reason);    } : ^{        dispatch_async(dispatch_get_main_queue(), ^{            selfWeak.isConnectedToFlingPlayer = YES;            [selfWeak updateButtonStates];        });    }];}Get Media Playback Status on Remote DeviceOnce your app is connected to a remote player it can perform remote operations, such as fetch the media playback status. Communication with the Amazon Fire TV occurs through RemoteMediaPlayer proxy object. Since the SDK provides asynchronous methods for fluid UI, you may have to use serializing mechanisms in place of the Google Cast API calling paradigms you had previously been using.- (NSInteger)flingPlaybackStatus : (UIActionSheet*) sheet {    NSString *friendlyName = [NSString stringWithFormat:NSLocalizedString(@\"Casting to %@\", nil),                              [self.selectedFlingPlayer name]];    sheet.title = friendlyName;    __block NSString* mediaStatus = nil;    NSCondition *waitHandle = [NSCondition new];    [waitHandle lock];    [self.selectedFlingPlayer getStatus:^(NSException *failure) {        NSLog(@\"Failed to get status.  Error:%@\", failure.reason);        [waitHandle signal];    } :^(MediaPlayerStatus *result) {        mediaStatus = [NSString stringWithString:[self mapState:[result getState]]];        [waitHandle signal];    }];    [waitHandle wait];    if (mediaStatus != nil) {        [sheet addButtonWithTitle:mediaStatus];    }    return mediaStatus == nil ? 0 : 1;}Flinging Media to the PlayerIf the selected device is a player, the controller application can set the media playback source and metadata:- (void)flingLoadMedia {    [[self.selectedFlingPlayer setMediaSourceToURL:@\"http://videos.acme.com/url_to_video\"                                         metaData:@\"{\\\"title\\\" : \\\"Big Buck Bunny (2008)\\\"}\" // meta data in JSON format                                         autoPlay:YES  // auto-play                              andPlayInBackground:NO   // play in background    ] continueWithBlock:^id(BFTask *task) {        if (task.error) {            NSLog(@\"Failure to set media source - %@\", task.error);        }        return nil;    }];",
        "url": "integrating-amazon-fling-with-an-existing-ios-cast-app.html",
        "product": "Fling SDK"
      }
      ,
      
      
    
            

          


      "integrating-amazon-fling-with-cast-html": {
        "title": "Integrating Amazon Fling with Apps that Use Google Cast",
        "tags": "[]",
        "content": "You can use this SDK to talk to Fire TV devices in a way that is similar to the way apps that use Google Cast can talk to Chromecast devices.  iOS  AndroidiOSThe following documents will guide you through the process of modifying an iOS app that currently uses Google Cast to also fling to Amazon Fire TV:  Integrating Amazon Fling with an Existing iOS Cast AppAndroidThe following documents will guide you through the process of modifying an Android app that currently uses Google Cast to also fling to Amazon Fire TV:  Integrating Amazon Fling with an Existing Android Cast App",
        "url": "integrating-amazon-fling-with-cast.html",
        "product": "Fling SDK"
      }
      ,
      
      
    
            

          


      "ios-remote-install-html": {
        "title": "Integrating Remote Install into Your iOS App",
        "tags": "[]",
        "content": "This service provides an asynchronous discovery and control mechanism for your iOS app in the form of a framework. See Understanding the Amazon Fling Service for a high-level overview of the features and functions this service provides. See also the remote install sample app, part of the SDK, for a sample implementation for iOS.Before you start, make sure you’ve set up your development environment. See Setting Up your Amazon Fling Development Environment for iOS  for details.  Integration Overview  Initializing and Suspending the App  Implementing Discovery Callbacks  Presenting the Remote Install Service to the User  Working with BFTask  InstallingIntegration OverviewThere are three steps for creating or modifying your controller mobile app to support Remote Install:  Initializing underlying framework and discovering available Fire TV devices.  For a selected Fire TV device, add logic to check if your app is installed on it.  Add UI flow to allow the user to initiate install of your Fire TV app. Initializing and Suspending the AppWhen your iOS app loads, for example in the ViewController::viewDidLoad method, call InstallDiscoveryController::searchInstallServiceWithListener to initialize the underlying framework and start discovery. Call InstallDiscoveryController::resume every time the app comes to the foreground, that is, in the applicationDidBecomeActive lifecycle event of the UIApplicationDelegate implementation.@implementation AppDelegate...- (void)applicationDidBecomeActive:(UIApplication *)application {    id myViewController = [self findViewController];    [myViewController resume];}...@implementation ViewController...- (void)viewDidLoad {...    mController = [[InstallDiscoveryController alloc] init];    [mController searchInstallServiceWithListener : self];}- (void)resume {    [mController resume];}The debug logging is disabled by default. To enable the debug logging add the parameter andEnableLogs set to YES when calling searchInstallServiceWithListener. Once the underlying framework is initialized, other operations such as install service discovery are possible.When the controller app is to be suspended such as when the user locks the screen, your app must also suspend the underlying framework. Call InstallDiscoveryController::close in the applicationWillResignActive lifecycle event of the UIApplicationDelegate implementation to suspend the underlying framework.@implementation AppDelegate...- (void) applicationWillResignActive:(UIApplication *)application {    id myViewController = [self findViewController];    [myViewController suspend];}...@implementation ViewController...- (void)suspend {    [mController close];}Implementing Discovery CallbacksAs part of your app’s initialization, the component that creates the InstallDiscoveryController instance should also specify the callback receiver. This object implements the InstallDiscoveryListener interface. The object is passed to the underlying framework in the InstallDiscoveryController::searchInstallServiceWithListener call. Discovery is an ongoing process as long as the InstallDiscoveryController object is live.@interface ViewController : UIViewController&lt;InstallDiscoveryListener&gt;...@implementation ViewController...- (void)installServiceDiscovered:(id&lt;RemoteInstallService&gt;)device {    [mDevices addObject:device];    // Update UI}- (void)installServiceLost:(id&lt;RemoteInstallService&gt;)device {    [mDevices removeObject:device];    // Update UI}- (void)discoveryFailure {}The remote install services are represented as RemoteInstallService objects. Through this interface, your app can install applications on the remote device.Presenting the Remote Install Service to the UserOnce the players in the vicinity are discovered, the controller app should present the friendly names of to the user.- (NSString *)pickerView:(UIPickerView *)pickerView             titleForRow:(NSInteger)row            forComponent:(NSInteger)component {    if (pickerView == devicePickerView ) {        if (row &lt; [mDevices count]) {            id&lt;RemoteInstallService&gt; dev = [mDevices objectAtIndex:row];            return [dev name];        }    }    return nil;}Working with BFTaskBFTask is a class in the Bolts mobile development framework. Bolts makes it easier to work with asynchronous operations without blocking the UI thread. Our SDK for iOS uses Bolts to handle asynchronous tasks.A BFTask object represents the result of an asynchronous method. Using BFTask, you can wait for an asynchronous method to return a value, and then do something with that value after it has returned. When you are working with our SDK for iOS, it is important to remember that methods that return BFTask are asynchronous.Every BFTask has a method called continueWithBlock: that takes a continuation block. A continuation is a block that will be executed when the task is complete. In many cases, you only want to do more work if the previous task was successful, and propagate any errors to be dealt with later. To do this, use the continueWithSuccessBlock: method instead of continueWithBlock:. Note that you must return either BFTask or nil in every continueWithBlock: and continueWithSucessBlock:.For complete documentation on Bolts, see Bolts-iOS on GitHub. Clicking on this link will send you outside the Amazon Developer Portal.InstallingOnce the install service is discovered, your app can install applications on that device. The RemoteInstallService object provides local methods to check the version of an installed app or install an app. All the control actions are asynchronous and your app should provide success and failure handler callbacks to each of the control methods if desired. Please note that these callbacks are not on the UI thread and the app must dispatch any UI updates on the main thread.Your app can check if the desired application is installed on the selected Amazon Fire TV by calling getInstalledPackageVersion API. If the app is not installed, RIS_PACKAGE_NOT_INSTALLED string will be returned. Once your app has called the installByASIN method the Fire TV will launch the Appstore page associated with that ASIN (Amazon Standard Identification Number).The user will then need to finish the installation with the a Fire TV remote. If the ASIN is invalid the Fire TV will show an error popup. The ASIN of an application can be found on its product information page on amazon.com under the Product Details section. Some applications could have different products for different regions and therefore could have multiple ASINs.Examples of control actions are below:- (void)logInstalledVersion : (NSString*)packageName {    BFTask task = [mCurrentInstallService getInstalledPackageVersion : packageName];    [task waitUntilFinished];    if (task.error == nil) {        if ([(NSString*)task.result compare : RIS_PACKAGE_NOT_INSTALLED] == 0) {            NSLog(@\"Package not installed\");        } else {            NSLog(@\"Received version is %@\", (NSString*)task.result);        }    } else {        // Indicate error    }}- (void)installPackage : (NSString*)asin {    BFTask* task = [mCurrentInstallService installByASIN : asin];    [task waitUntilFinished];    if (task.error != nil) {        // Indicate error    }}",
        "url": "ios-remote-install.html",
        "product": "Fling SDK"
      }
      ,
      
      
    
            

          


      "remote-install-html": {
        "title": "Remote Install",
        "tags": "[]",
        "content": "Remote Install allows you to discover Fire TV devices on the same network. Once a Fire TV is discovered from a user’s mobile device or tablet, you can check if your application is installed on that Fire TV and prompt the user to also install the Fire TV version of your app or game.Remote installation is important for developers looking to increase the user base of their cross platform apps. By leveraging Remote Discovery’s ability to run on iOS and Android devices, you gain a new way to drive user acquisition for your Fire TV products. Conveniently, you can simply add Remote Install to your existing app or game without the need of fully implementing the rest of the Amazon Fling SDK’s APIs. Let’s take a look at what you need to know for getting it up and running.  Implementing Remote Install  iOS  AndroidImplementing Remote InstallThere are only a few steps for creating or modifying your controller mobile app to support Remote Install:  (Android only) Modifying your Android manifest to include network permissions.  Initializing underlying framework and discovering available players on Fire TV devices.  For a selected Fire TV device, add logic to check if your app is installed on it.  Add UI flow to allow the user to initiate install of your Fire TV app.Once your app discovers Fire TV devices running the Remote Install service, your app gets an object that implements the RemoteInstallService interface. You can then use the RemoteInstallService object to install an app or check the version of an app on the Fire TV device.You can check the version of your app using the getInstalledPackageVersion API. Once your app has called the installByProductId method, the Fire TV will launch the Appstore page associated with the provided ASIN (Amazon Standard Identification Number). The user will then need to finish the installation with a Fire TV remote. The need to use the remote to complete the purchase provides the user control of the process. If the ASIN is invalid the Fire TV will show an error popup.iOSThe following documents will guide you through the process for iOS apps:  Integrating Remote Install into Your iOS AppAndroidThe following documents will guide you through the process for Android apps:  Integrating Remote Install into Your Android App",
        "url": "remote-install.html",
        "product": "Fling SDK"
      }
      ,
      
      
    
            

          


      "setting-up-your-amazon-fling-development-environment-for-android-html": {
        "title": "Setting Up Your Amazon Fling Development Environment for Android",
        "tags": "[]",
        "content": "To enable this functionality in your app, you have to integrate our SDK in your development environment. This document describes how to set up your Android Studio projects to include the SDK. Before you start, install the following software packages on your development computer:  Java Development Kit  Android Studio Note: The Android SDK, Android Studio, the Java Development Kit, and certain other development tools are provided by third parties, not by Amazon. Our links for these tools will take you to third-party sites for download and installation of the tools.  Setting up Android Studio          Adding the Amazon Fling Libraries      Adding Additional Libraries (Generic Android Only)        Next StepsSetting up Android StudioTo use our SDK with your Android Studio project, add the JAR file included in the SDK package as a file dependency. Use these steps to set up your Android Studio environment. If you are developing an app for an Android platform that does not run Fire OS, there are additional libraries to add as well.Adding the Amazon Fling Libraries  In Android Studio, create a new project or open an existing one.      Copy the AmazonFling.jar file from the Amazon Fling library package into the libs folder for your project.        Right-click on your project’s root folder and select Open Module Settings to open the project folder.  From the Module tab in Project Structure, select the Dependencies tab.      Click the + button and select the File dependency option. Then, select AmazonFling.jar in the project libs folder.            Under the Dependencies tab check the library scope and make sure it is set as Compile.        Click OK.Adding Additional Libraries (Generic Android Only)If you are developing an app that runs on generic Android devices (not Fire OS devices), use these steps to add additional libraries to your project:      Copy the WhisperPlay.jar file in the /lib/Android/ folder in the Amazon Fling SDK package to the libs folder in your project.    Right-click on your project’s root folder and choose Open Module Settings to open the project folder.  From the Module tab in Project Structure, select the Dependencies tab.  Click the + button and select the File dependency option. Then, select the Whisperplay.jar file in the project libs folder.      Under the Dependencies tab check the library scope and make sure it is set as Compile.        Click OK.Next StepsTo integrate Amazon Fling into your app, see Integrating Amazon Fling into your Android App.If your Android app supports the Google Cast API and you want to use Fling as well, see Integrating Amazon Fling with an Existing Android Cast App.If your app uses Android MediaRouter, see Using Amazon Fling with Android MediaRouter.",
        "url": "setting-up-your-amazon-fling-development-environment-for-android.html",
        "product": "Fling SDK"
      }
      ,
      
      
    
            

          


      "setting-up-your-amazon-fling-development-environment-for-ios-html": {
        "title": "Setting Up your Amazon Fling Development Environment for iOS",
        "tags": "[]",
        "content": "Our SDK for iOS is distributed as an iOS framework which can be linked to your iOS controller app. This document describes how to set up your iOS projects to include these libraries.  System Requirements  Supported Configurations  Download and Install  Setting up Xcode  Next StepsSystem Requirements  MacOS X  Xcode 6+Supported Configurations  iOS build architecture: armv7, arm64, i386, and x86_64  Player discovery: Local network players onlyDownload and Install  Download the Fling SDK from the Amazon developer portal.  Extract contents.Setting up XcodeTo include the iOS framework in your iOS controller app project, choose Project &gt; Add to Project and select the framework directory. Alternatively, you can drag and drop the AmazonFling.framework from the Finder to your app project.When you add an existing framework to your project, Xcode asks you to associate it with one or more targets in your project. Once associated, Xcode automatically links the framework against the resulting executable.You must also add the following system frameworks and libraries to the “Link Binaries” phase of the target in order to build a controller app:  Bolts.framework  CFNetwork.framework  Security.framework  SystemConfiguration.framework Note: Bolts.framework can be found in the /third_party_framework folder inside of the AmazonFling iOS SDK package.In your project’s settings, add the following to “Other Linker Flags”: -lc++Include the required header files in your code using the #include directive. If you are working in Objective-C, you may use the #import directive instead of the #include directive. The two directives have the same results, but the #import directive guarantees that the same header file is never included more than once.#import &lt;AmazonFling/DiscoveryController.h&gt;#import &lt;AmazonFling/MediaPlayerStatus.h&gt;#import &lt;AmazonFling/RemoteMediaPlayer.h&gt;#import &lt;Bolts/BFTask.h&gt;Next StepsTo develop an iOS controller app, see Integrating Amazon Fling into your iOS App.",
        "url": "setting-up-your-amazon-fling-development-environment-for-ios.html",
        "product": "Fling SDK"
      }
      ,
      
      
    
            

          


      "understanding-the-amazon-fling-service-html": {
        "title": "Understanding the Amazon Fling Service",
        "tags": "[]",
        "content": "Amazon Fling is a second-screen service that enables your customers to send media and web content from Fire OS, iOS, and Android mobile devices to Amazon Fire TV devices for display and playback. This document contains an overview of this service and how you can integrate this functionality into your apps.You can download the Fling SDK from the SDK Downloads page.  What Is Amazon Fling?  What Can I Do With the SDK?          Discover Fire TV from your Controller App      Control Playback from your Controller App      Customize Playback for your Fire TV Player App         Next StepsWhat Is Amazon Fling?Amazon Fling is a service on the Amazon Fire TV platform that allows customers to send media and web content to Fire TV from their mobile devices. We provide you with an API that your app can use to communicate with this service. You have to implement the API in your mobile app to create a controller, which enables that app to discover Fire TV devices on the network, and provides the mechanisms to play media content such as video, audio, or photos.On Fire TV, adding support for this API to your Fire TV playback app enables you to handle remote playback events. A Fire TV app that supports this functionality is called a player.The controller service provides these features:  Set the source URL of the media to be rendered.  Get information about that media such as duration, current position, and metadata.  Discover Fire TV devices on the network that support this functionality.  Control media playback (play, pause, stop, seek).  Get the playback status, immediately or with callbacks.  Send custom commands to the Fire TV receiver app for playback.To create a controller app see the guide on Flinging From Fire OS or Android or Flinging From iOS.To integrate remote install into your app see the guide on Remote Install With Fire OS and Android or Remote Install With iOS.When implementing a controller you should follow the UX Guidelines. To integrate the controller with an existing Google Cast application see the guide on Flinging From Cast Apps. To integrate with an existing Android Media Router app see the guide on Flinging From Media Router.To create a player app see the guide on Creating a Player App. The service enables you to completely customize the playback user experience.A Built-In Media Receiver is available for controllers that do not require a customized player.Unity plugins are also available for integration. See Unity Controller Plugin and Unity Player Plugin for more details.In our SDK, we provide a JAR file for Fire OS and Android, and a Framework for iOS.  For details on the APIs see the Android API Docs and the iOS API Docs.The underlying framework of this feature enables apps to find and communicate with Amazon Fire TV devices to render media content sent by that app. With our SDK, you can focus on great user experience in your app while the underlying framework handles network technology, discovery, versioning, and so on.What Can I Do With the SDK?With this SDK, you can do the following:  Discover Fire TV devices from your controller app on a mobile device.  Control playback of the content sent from your controller app.  Customize the user experience of your Fire TV player app.Discover Fire TV from your Controller AppThis SDK enables your controller app on a mobile device (iOS/Android/Fire OS) to find Amazon Fire TV devices available on the same network. The controller asks the underlying framework to discover all the devices with a particular system ID (SID). If the SID is not specified, the SDK discovers all Fire TV devices and communicates with the built-in media receiver.The SDK returns a list of Fire TVs. Each Fire TV has a friendly name (for example, “John’s 2nd Fire TV”), which the app presents to the customer. The customer picks the right Fire TV to fling to by that name.Control Playback from your Controller AppThe SDK allows the controller application to send control commands to the discovered Fire TV. The application can then control the Fire TV as if it is calling methods on the local object returned from the Fire TV discovery process. The controller app can set the source of the content to be rendered on the player, as well as monitor and control the rendering of that content.Customize Playback for your Fire TV Player App To provide a custom user experience, you can develop or enhance a media player application for Fire TV and add support for this SDK. The service defined by your Fire TV player app will automatically be started when a controller begins communicating with it and your player app will communicate with controller apps through your implementation that uses our SDK.Next StepsTo get started working with this API and to start developing controller and player apps, see the appropriate document for your development platform:   Setting Up Your Amazon Fling Development Environment for Android  Setting Up Your Amazon Fling Development Environment for iOSFor any additional questions check the FAQ or the Forum.",
        "url": "understanding-the-amazon-fling-service.html",
        "product": "Fling SDK"
      }
      ,
      
      
    
            

          


      "unity-controller-plugin-html": {
        "title": "Integrating the Amazon Fling Controller In Your Games",
        "tags": "[]",
        "content": "This page will walk you through the steps of setting up your Unity project to include the Amazon Fling Controller Unity plugin. It will also provide instruction on how to use the plugin and additional steps for building for iOS, Android, and Fire OS. For additional information see the FlingSampleApp in the samples folder of the plugins SDK.  Import the Unity Package  Initialize  Method Calls          Synchronized Methods      ASynchronized Methods        Handling Events  Additional Steps for iOS Deployment  Additional Step for Android Deployment  Additional Step for Fire OS DeploymentImport the Unity PackageWhen you import the Amazon Fling Unity package, Unity will override existing files in your project with those in the package. Before importing the Unity package, review the list of included files and compare this list with your current project to check for overlap. If a file exists in both your project and the package, verify that any changes you have made locally are backed up somewhere outside of your project. After you import the package, use your favorite file merging software to compare and merge the differences between the file in the package and the file you had backed up locally.  In Unity, click Assets, click Import Package, and then click Custom Package…  Select the plugin package.  Import the Unity Package.InitializeInitialize the service using the service ID of the service you would like to communicate with on the Fire TV. To communicate with the default media receiver, leave the service ID as null.IAmazonFlingService flingService;flingService = AmazonFlingServiceImpl.Instance;Method CallsSynchronized and ASynchronized methods are used to interact with the library. Since some methods make a call over a network ASync methods are provided to allow the application to continue processing while it is waiting for a response. To initiate a method call, you must perform the following general steps:  If needed, construct the object used to pass input to the operation.  For asynchronous operations, define a callback function that is invoked when a response is ready.  Call the operation, passing in any required input and/or callback function as arguments.Synchronized MethodsUsage ExamplePlayerServiceId serviceId = new PlayerServiceId();serviceId.Id = null;flingService.StartDiscovery (serviceId);            Method      Summary                  void StartDiscovery(PlayerServiceId playerServiceId)      Begins searching for players hosting a service with a service Id matching playerServiceId.Id. playerServiceId.Id can be left as null to search for the default media player.              void StopDiscovery()       Stops searching for devices.      ASynchronized MethodsUsage Exampleprivate void GetDurationCallback(LongResult longResult) {}private void FlingCallbackError(AmazonException e) {}flingService.GetDuration(selectedPlayer, GetDurationCallback, FlingCallbackError);            Method      Summary                  VoidResult SetVolume(SetVolumeParameters setVolumeParameters)      Sets the volume on the player. Note: the default media player does not implement this API.              void IsMute(Player player, BooleanResult booleanResultDelegate, AmazonExceptionDelegate errorDelegate)      Gets the mute status of the player.              void SetMute(MuteParameters, VoidResult voidResultDelegate, AmazonExceptionDelegate errorDelegate)      Sets the mute status of the player. Note: the default media player does not implement this API.              void GetPosition(Player player, LongResult longResultDelegate, AmazonExceptionDelegate errorDelegate)      Returns the position of the media on the player.              void GetDuration(Player player, LongResult longResultDelegate, AmazonExceptionDelegate errorDelegate)      Returns the duration of the media on the player.              void GetStatus(Player player, Status statusDelegate, AmazonExceptionDelegate errorDelegate)      Gets the status of the player.              void IsMimeTypeSupported(IsMimeTypeSupportedParameters isMimeTypeSupportedParameters, BooleanResult booleanResultDelegate, AmazonExceptionDelegate errorDelegate)      Returns a Boolean indicating if the mime type is supported.              void Pause(Player player, VoidResult voidResultDelegate, AmazonExceptionDelegate errorDelegate)      Pauses the media the player.              void Play(Player player, VoidResult voidResultDelegate, AmazonExceptionDelegate errorDelegate)      Plays the media on the player.              void Stop(Player player, VoidResult voidResultDelegate, AmazonExceptionDelegate errorDelegate)      Stops the media on the player.              void Seek(PlayerSeekParameters playerSeekParameters, VoidResult voidResultDelegate, AmazonExceptionDelegate errorDelegate)      Seeks to the desired position on the player.              void SetMediaSource (SetMediaSourceParameters setMediaSourceParameters, VoidResult voidResultDelegate, AmazonExceptionDelegate errorDelegate)      Sets the URL, and MetaData on the player. Also has options to auto play the media when set and play in background.              void SetPlayerStyle(SetPlayerStyleParameters setPlayerStyleParameters, VoidResult voidResultDelegate, AmazonExceptionDelegate errorDelegate)      Sets the style of the media player on the device. Note: the default media player does not implement this API.              void AddStatusListener(Player player, VoidResult voidResultDelegate, AmazonExceptionDelegate errorDelegate)      Adds a listener to the player that will allow it to trigger the OnStatusChanged event.              void RemoveStatusListener(Player player, VoidResult voidResultDelegate, AmazonExceptionDelegate errorDelegate)      Removes the listener to the player.              void SetPositionUpdateInterval(SetPositionUpdateIntervalParameters setPositionUpdateIntervalParameters, VoidResult voidResultDelegate, AmazonExceptionDelegate errorDelegate)      Sets the interval that dictates the amount of time between OnStatusChanged event calls.              void SendCommand(SendCommandParameters sendCommandParameters, VoidResult voidResultDelegate, AmazonExceptionDelegate errorDelegate)      Sends a command to the player. Note: the default media player does not implement this API.              void GetMediaInfo(Player player, PlayerInfo playerInfoDelegate, AmazonExceptionDelegate errorDelegate)      Gets the media info from the player.      Handling EventsTo handle an event, you must perform the following steps:  Define an event handler.  Register your event handler with an event listener.Example:private void PlayerDiscovered(Player args){}flingService.AddPlayerDiscoveredListener(PlayerDiscovered);            Method      Summary                  void AddPlayerDiscoveredListener(PlayerDiscoveredDelegate responseDelegate)      Registers the delegate with the service to be called when a player device is discovered. Returns a player representing a device hosting an Amazon Fling service as a parameter.              void AddPlayerLostListener(PlayerLostDelegate responseDelegate)      Registers the delegate with the service to be called when a player device is no longer available. Returns the player that is no longer available as a parameter.              void AddDiscoveryFailureListener (DiscoveryFailureDelegate responseDelegate)      Registers the delegate with the service to be called when a failure occurs during discovery.              void AddOnStatusChangedListener(OnStatusChangedDelegate responseDelegate)      Registers the delegate with the service to be called when a player has updated status information. Requires you to register a listener with that device using the AddStatusListener method. Returns the player, position and status as a parameter.      Additional Steps for iOS DeploymentAdd Plugin SDK Frameworks to Your Exported iOS Xcode Project:  In Xcode, select your Xcode project root.  Select the target Unity-iPhone.  Click the Build Phases tab.  Open the Link Binary with Libraries foldout.  Click the + at the bottom of this foldout.  Add all frameworks and libraries required by SDK          AmazonFling.framework (located in the framework directory of the SDK)      Bolts.framework (located in the framework directory of the SDK)      AdSupport.framework      Security.framework      Libc++.dylib        Follow iOS SDK’s specific guidelines for importing dependenciesAdditional Step for Android DeploymentThe plugin needs access permissions to communicate over the net, and the below permissions are required to be added to your AndroidManifest.xml:  android.permission.INTERNET: Allows applications to open network sockets.  android.permission.ACCESS_WIFI_STATE: Allows applications to access information about Wi-Fi networks.  android.permission.ACCESS_NETWORK_STATE: Allows applications to access information about networks.  android.permission.CHANGE_WIFI_MULTICAST_STATE: Allows applications to enter Wi-Fi Multicast mode. These permissions can be added manually or by renaming the Plugins/Android/AmazonFlingServiceSampleAndroidManifest.xml file to AndroidManifest.xml.Additional Step for Fire OS DeploymentThe plugin needs access permissions to communicate over the net, and the below permissions are required to be added to your AndroidManifest.xml:  android.permission.INTERNET: Allows applications to open network sockets.  android.permission.ACCESS_WIFI_STATE: Allows applications to access information about Wi-Fi networks.  android.permission.ACCESS_NETWORK_STATE: Allows applications to access information about networks. These permissions can be added manually by creating a Plugins/Android/AndroidManifest.xml file or by renaming and modifying the Plugins/Android/AmazonFlingServiceSampleAndroidManifest.xml file.Remove the Plugins/Android/WhisperPlay.jar and add the following line to the Plugins/Android/AndroidManifest.xml in the application section:uses-library android:name=\"com.amazon.whisperplay.contracts\"&gt;",
        "url": "unity-controller-plugin.html",
        "product": "Fling SDK"
      }
      ,
      
      
    
            

          


      "unity-player-plugin-html": {
        "title": "Integrating the Amazon Fling Player In Your Games",
        "tags": "[]",
        "content": "This page will walk you through the steps of setting up your Unity project to include the Amazon Fling Player Unity Plugin. It will also provide instruction on how to use the plugin. For additional information see the FlingPlayerSampleApp in the samples folder of the plugins SDK.  Import the Unity Package  Initialize the Player  Method Calls  Handling Events  Additional Step for DeploymentImport the Unity PackageWhen you import the Amazon Fling Player Unity package, Unity will override existing files in your project with those in the package. Before importing the Unity package, review the list of included files and compare this list with your current project to check for overlap.If a file exists in both your project and the package, verify that any changes you have made locally are backed up somewhere outside of your project. After you import the package, use your favorite file merging software to compare and merge the differences between the file in the package and the file you had backed up locally.  In Unity, click Assets, click Import Package, and then click Custom Package…  Select the plugin package.  Import the Package.Initialize the PlayerInitialize the service using a unique service ID. This service ID will need to match the service ID in the whisperplay.xml file described in the additional steps section.IAmazonFlingPlayerService flingPlayerService;flingPlayerService = AmazonFlingPlayerServiceImpl.Instance;StartServiceParameters startServiceParameters = new StartServiceParameters();startServiceParameters.PlayerId = \"your.unique.service.id\";flingPlayerService.StartService(startServiceParameters);Method CallsTo initiate a method call, you must perform the following general steps:  If needed, construct the object used to pass input to the operation.  Call the operation, passing in any required input as arguments.Example:MediaPlayerInfo mediaPlayerInfo = new MediaPlayerInfo ();mediaPlayerInfo.Source = setMediaSourceParameters.Source;mediaPlayerInfo.Metadata = setMediaSourceParameters.MetadataJson;flingPlayerService.UpdateMediaPlayerInfo(mediaPlayerInfo);            Method      Summary                  void StartService(StartServiceParameters startServiceParameters)      Starts the player service to allow controllers to interact with it. The startServiceParameters.PlayerID used will need to match the service ID of the controller trying to connect to it.              void UpdateVolume(Volume volume)      Updates the volume of the player service.              void UpdateMute (Mute mute)      Updates the mute status of the player service. This method will trigger a callback to any status listeners added by a controller.              void UpdatePosition(Position position)      Updates the position of the player service. This method will trigger a callback to any status listeners added by a controller.              void UpdateDuration(Duration duration)      Updates the duration of the player service. This method will trigger a callback to any status listeners added by a controller.              void UpdateMediaState(MediaState mediaState)       Updates the media state of the player service. This method will trigger a callback to any status listeners added by a controller.              void UpdateMediaCondition(MediaCondition mediaCondition)      Updates the media condition of the player service. This method will trigger a callback to any status listeners added by a controller.              void AddSupportedMimeType(MimeType mimeType)      Adds a mime type to the player service’s mime type list. The list is used when a controller calls the IsMimeTypeSupported() API on the controller.              void UpdateMediaPlayerInfo(MediaPlayerInfo mediaPlayerInfo)      Updates the media player info of the player service. This method will trigger a callback to any status listeners added by a controller.      Handling EventsTo handle an event, you must perform the following steps:  Define an event handler.  Register your event handler with an event listener.Example:private void SetMediaSourceCallback(SetMediaSourceParameters setMediaSourceParameters) {}flingPlayerService.AddSetMediaSourceListener(SetMediaSourceCallback);            Method      Summary              void AddSetVolumeListener(SetVolumeDelegate responseDelegate)      Registers the delegate with the player service to be called when a controller sends a request to set the volume.              void AddSetMuteListener(SetMuteDelegate responseDelegate)      Registers the delegate with the player service to be called when a controller sends a request to set the mute status.              void AddPauseListener(PauseDelegate responseDelegate)      Registers the delegate with the player service to be called when a controller sends a request to pause the media.              void AddPlayListener(PlayDelegate responseDelegate)      Registers the delegate with the player service to be called when a controller sends a request to play the media.              void AddStopListener(StopDelegate responseDelegate)      Registers the delegate with the player service to be called when a controller sends a request to stop the media.              void AddSeekListener(SeekDelegate responseDelegate)      Registers the delegate with the player service to be called when a controller sends a request to seek the media.              void AddSetMediaSourceListener(SetMediaSourceDelegate responseDelegate)      Registers the delegate with the player service to be called when a controller sends a request to set the media source.              void AddSetPlayerStyleListener (SetPlayerStyleDelegate responseDelegate)      Registers the delegate with the player service to be called when a controller sends a request to set the player style.              void AddSendCommandListener(SendCommandDelegate responseDelegate)      Registers the delegate with the player service to be called when a controller sends a command.      Additional Step for DeploymentThe player needs access permissions to communicate over the net, and the below permissions are required to be added to your AndroidManifest.xml:  android.permission.INTERNET: Allows applications to open network sockets.  android.permission.ACCESS_WIFI_STATE: Allows applications to access information about Wi-Fi networks.  android.permission.ACCESS_NETWORK_STATE: Allows applications to access information about networks.These permissions can be added manually or by renaming the Plugins/Android/AmazonFlingPlayerServiceSampleAndroidManifest.xml file to AndroidManifest.xml.The player also needs access to the WhisperPlay library on Fire TV and needs to tell the library what activity/service to start when a controller device tries to communicate with your app. WhisperPlay will start the activity/service for you if it is not already running. This is achieved by adding the following lines to your AndroidManifest.xml file. These permissions are also already included in the manifest file in the plugin, which you can rename and use.uses-library android:name=\"com.amazon.whisperplay.contracts\"/&gt;&lt;meta-data android:resource=\"@xml/whisperplay\" android:name=\"whisperplay\"/&gt;The whisperplay.xml file located in the Android/res/xml/ directory of the plugin specifies the activity/service that will be called if a controller device tries to use your service when it is not running. It also tells the player what service id to expect to connect to after it starts the application. You should update this file to have your unique service id in the &lt;sid&gt; section and the activity/service you would like to start in the &lt;startAction&gt; section (this is by default set to the activity defined in the AmazonFlingPlayerServiceSampleAndroidManifest.xml file):&lt;whisperplay&gt;    &lt;services&gt;        &lt;service&gt;            &lt;sid&gt;your.unique.service.id&lt;/sid&gt;            &lt;accessLevel&gt;ALL&lt;/accessLevel&gt;            &lt;startAction&gt;com.unity3d.player.UnityPlayerNativeActivity&lt;/startAction&gt;        &lt;/service&gt;    &lt;/services&gt;&lt;/whisperplay&gt;",
        "url": "unity-player-plugin.html",
        "product": "Fling SDK"
      }
      ,
      
      
    
            

          


      "using-amazon-fling-with-android-mediarouter-html": {
        "title": "Using Amazon Fling with Android MediaRouter",
        "tags": "[]",
        "content": "The MediaRouter framework in Android enables your app to direct the output of media playback to a specific device. The API included in the SDK provides a FlingMediaRouteProvider class for controller apps, which makes it easy to integrate this functionality into your MediaRouter-based app.  Integrating FlingMediaRouteProvider  Discovering Media Devices With MediaRouter  Using RemotePlaybackClient To Fling Content  Using sendControlRequest() To Fling Content  Getting Status UpdatesIntegrating FlingMediaRouteProviderThe FlingMediaRouteProvider class can be integrated into your app by adding the following lines to your existing activity:import com.amazon.whisperplay.fling.provider.FlingMediaRouteProvider;...    @Override    protected void onCreate(Bundle savedInstanceState) {        ...        MediaRouter.getInstance(this).addProvider(new FlingMediaRouteProvider(this, \"acme.fling.player\"));        ...    }MediaRouter provides routes to Amazon Fire TV apps implementing the service ID you provide. Change the service ID in the example above (acme.fling.player) to the service ID of your Amazon Fire TV application. The FlingMediaRouteProvider class provides all of the functionality accessible through RemotePlaybackClient, except queuing. Applications sending control intents directly to the route instead of using a RemotePlaybackClient support these standard MediaControlIntent intents:  MediaControlIntent.ACTION_PLAY  MediaControlIntent.ACTION_SEEK  MediaControlIntent.ACTION_GET_STATUS  MediaControlIntent.ACTION_PAUSE  MediaControlIntent.ACTION_RESUME  MediaControlIntent.ACTION_STOP  MediaControlIntent.ACTION_START_SESSION  MediaControlIntent.ACTION_GET_SESSION_STATUS  MediaControlIntent.ACTION_END_SESSIONIn addition, these intents provide additional functionality not provided by the default intents. More information on required intent extras and the extras returned from these intents can be found in the API documentation provided with the SDK (Javadocs).  FlingMediaControlIntent.ACTION_MUTE  FlingMediaControlIntent.ACTION_UNMUTE  FlingMediaControlIntent.ACTION_GET_IS_MUTE  FlingMediaControlIntent.ACTION_GET_MEDIA_INFO  FlingMediaControlIntent.ACTION_SEND_COMMAND  FlingMediaControlIntent.ACTION_SET_PLAYER_STYLE  FlingMediaControlIntent.ACTION_GET_IS_MIME_TYPE_SUPPORTEDDiscovering Media Devices With MediaRouterMediaRouter can be used to control device discovery on your controller app. Obtain a MediaRouter object with getInstance():    private MediaRouter mMediaRouter;    ...        mMediaRouter = MediaRouter.getInstance(this);After you get an instance of MediaRouter, add the provider, as documented in the previous section. Then, create a MediaRouteSelector and a MediaRouter.Callback to handle discovering devices, and then add them to MediaRouter. Note: The FlingMediaRouteProvider only provides routes if you are using the control category MediaControlIntent.CATEGORY_REMOTE_PLAYBACK when creating your MediaRouteSelector. The code sample below uses the flag MediaRouter.CALLBACK_FLAG_PERMFORM_ACTIVE_SCAN to continuously look for devices while the callback is registered.    private MediaRouter.Callback mMediaRouterCallback = new MediaRouter.Callback() {        public void onRouteAdded(MediaRouter router, MediaRouter.RouteInfo route) {            //your code for handling when a new route is discovered here        }        public void onRouteRemoved(MediaRouter router, MediaRouter.RouteInfo route) {            //your code for handling when a route is no longer available        }    };    ...        mMediaRouter.addProvider(new FlingMediaRouteProvider(this, \"acme.fling.player\"));        MediaRouteSelector mediaRouteSelector = new MediaRouteSelector.Builder()                .addControlCategory(MediaControlIntent.CATEGORY_REMOTE_PLAYBACK)                .build();        mMediaRouter.addCallback(mediaRouteSelector, mMediaRouterCallback,                MediaRouter.CALLBACK_FLAG_PERFORM_ACTIVE_SCAN);When device routes have been discovered your app can interact with those routes with a RemotePlaybackClient object, or with playback control requests.  Volume control is covered in the next section.Using RemotePlaybackClient To Fling ContentInitialize a RemotePlaybackClient object with the route provided by MediaRouter. In this example, the mCurrentRoute variable is a MediaRouter.RouteInfo instance provided by the onRouteAdded() method in your MediaRouter.Callback.    private MediaRouter.RouteInfo mCurrentRoute;    private RemotePlaybackClient mClient;    ...        mCurrentRoute.select();        mClient = new RemotePlaybackClient(getApplicationContext(), mCurrentRoute);Once the RemotePlaybackClient object is created your app can communicate with the remote device. Any calls to your remote device must include an asynchronous callback, which is called when the provider has received a response and has finished processing.The callback provides some variables such as sessionId, and a Bundle with data. See the RemotePlaybackClient and MediaControlIntent classes for details on the data provided by each call and for additional methods.mClient.startSession(null, new RemotePlaybackClient.SessionActionCallback() {    @Override    public void onResult(Bundle data, String sessionId, MediaSessionStatus sessionStatus) {        //code handling a successful result here    }    @Override    public void onError(String error, int code, Bundle data) {        //code handling failure here    }});Uri mUri = \"http://www.leanbackplayer.com/videos/360p/elephants_dream_640x360_2.30.mp4\";//build the metadata bundle that includes closed captioning informationBundle metadataBundle = new Bundle();metadataBundle.putString(MediaItemMetadata.KEY_TITLE, \"Elephants Dream\");metadataBundle.putString(MediaItemMetadata.KEY_ARTWORK_URI, \"http://en.wikipedia.org/wiki/Elephants_Dream#mediaviewer/File:Elephants_Dream_s5_both.jpg\");metadataBundle.putString(FireTVBuiltInReceiverMetadata.KEY_TYPE, \"video/mp4\");metadataBundle.putString(FireTVBuiltInReceiverMetadata.KEY_DESCRIPTION, \"Elephants Dream is the world?s first open movie, made entirely with open source graphics software such as Blender, and with all production files freely available to use however you please, under a Creative Commons license.\");metadataBundle.putString(FireTVBuiltInReceiverMetadata.KEY_NO_REPLAY, \"false\");ArrayList&lt;Bundle&gt; ccTracks = new ArrayList&lt;&gt;();Bundle track = new Bundle();track.putString(FireTVBuiltInReceiverMetadata.KEY_TRACK_SOURCE, \"http://www.leanbackplayer.com/subtitles/elephants_dream/english_en.vtt\");track.putString(FireTVBuiltInReceiverMetadata.KEY_TRACK_KIND, \"subtitles\");track.putString(FireTVBuiltInReceiverMetadata.KEY_TRACK_SOURCE_LANGUAGE, \"en-US\");track.putString(FireTVBuiltInReceiverMetadata.KEY_TRACK_LABEL, \"English\");ccTracks.add(track);  metadataBundle.putParcelableArrayList(FireTVBuiltInReceiverMetadata.KEY_TRACKS, tracks);String mItemID;mClient.play(mUri, \"video/mp4\", metadataBundle, 0, null, new RemotePlaybackClient.ItemActionCallback() {\t@Override\tpublic void onResult(Bundle data, String sessionId, MediaSessionStatus sessionStatus, String itemId, MediaItemStatus itemStatus) {\t\tmItemID = itemId;\t}});mClient.pause(null, new RemotePlaybackClient.SessionActionCallback() {});mClient.resume(null, new RemotePlaybackClient.SessionActionCallback() {});mClient.stop(null, new RemotePlaybackClient.SessionActionCallback() {});//seek to 10 seconds from the beginningint mPosition = 10000;mClient.seek(mItemID, mPosition, null, new RemotePlaybackClient.ItemActionCallback() {});mClient.endSession(null, new RemotePlaybackClient.SessionActionCallback() {});Using sendControlRequest() To Fling ContentOnce you obtain a MediaRouter.RouteInfo object from MediaRouter.Callback you can call the sendControlRequest() method directly. To use this method, build an Intent for the command you wish to send, and include a MediaRouter.ControlRequestCallback object.The callback is called when your request has received a response and has finished processing, and returns a Bundle containing the data you requested. The bundle data and additional actions not listed here are described at MediaControlIntent.Implementing fling with the sendControlRequest() method requires more work than using RemotePlaybackClient, as it requires you to manage your session ID and create intents for every request.String mSessionID;String mItemID;//Start SessionIntent intent = new Intent(MediaControlIntent.ACTION_START_SESSION);mCurrentRoute.sendControlRequest(intent, new MediaRouter.ControlRequestCallback() {    @Override    public void onResult(Bundle data) {        mSessionID = data.getString(MediaControlIntent.EXTRA_SESSION_ID);    }});//PlayUri mUri = \"http://distribution.bbb3d.renderfarming.net/video/mp4/bbb_sunflower_1080p_30fps_normal.mp4\";Intent intent = new Intent(MediaControlIntent.ACTION_PLAY).setDataAndType(mUri, \"video/mp4\");intent.putExtra(MediaControlIntent.EXTRA_SESSION_ID, mSessionID);mCurrentRoute.sendControlRequest(intent, new MediaRouter.ControlRequestCallback() {    @Override    public void onResult(Bundle data) {        mSessionID = data.getString(MediaControlIntent.EXTRA_SESSION_ID);        mItemID = data.getString(MediaControlIntent.EXTRA_ITEM_ID);    }});//PauseIntent intent = new Intent(MediaControlIntent.ACTION_PAUSE);intent.putExtra(MediaControlIntent.EXTRA_SESSION_ID, mSessionID);mCurrentRoute.sendControlRequest(intent, new MediaRouter.ControlRequestCallback() {});//ResumeIntent intent = new Intent(MediaControlIntent.ACTION_RESUME);intent.putExtra(MediaControlIntent.EXTRA_SESSION_ID, mSessionID);mCurrentRoute.sendControlRequest(intent, new MediaRouter.ControlRequestCallback() {});//StopIntent intent = new Intent(MediaControlIntent.ACTION_STOP);intent.putExtra(MediaControlIntent.EXTRA_SESSION_ID, mSessionID);mCurrentRoute.sendControlRequest(intent, new MediaRouter.ControlRequestCallback() {});//SeekIntent intent = new Intent(MediaControlIntent.ACTION_SEEK);intent.putExtra(MediaControlIntent.EXTRA_SESSION_ID, mSessionID);intent.putExtra(MediaControlIntent.EXTRA_ITEM_ID, mItemID);intent.putExtra(MediaControlIntent.EXTRA_ITEM_CONTENT_POSITION, 10000); //10 seconds into the videomCurrentRoute.sendControlRequest(intent, new MediaRouter.ControlRequestCallback() {});//End SessionIntent intent = new Intent(MediaControlIntent.ACTION_END_SESSION);intent.putExtra(MediaControlIntent.EXTRA_SESSION_ID, mSessionID);mCurrentRoute.sendControlRequest(intent, new MediaRouter.ControlRequestCallback() {});Getting Status UpdatesStatus updates from the MediaRouter.RouteInfo object can be obtained in two ways: from direct requests, or by setting up a listener. Direct requests work similarly to what was described in the previous section.mCurrentRoute.getStatus(mItemID, null, new RemotePlaybackClient.ItemActionCallback() {    @Override    public void onResult(final Bundle data, String sessionId, MediaSessionStatus sessionStatus, String itemId, MediaItemStatus itemStatus) {        //handle status here    }});Intent intent = new Intent(MediaControlIntent.ACTION_GET_STATUS);intent.putExtra(MediaControlIntent.EXTRA_SESSION_ID, mSessionID);intent.putExtra(MediaControlIntent.EXTRA_ITEM_ID, mItemID);mCurrentRoute.sendControlRequest(intent, new MediaRouter.ControlRequestCallback() {    @Override    public void onResult(Bundle data) {        //get status from bundle and use it here    }});You can add a listener when starting the session or playing content when using sendControlRequest(). If you’re using RemotePlaybackClient the listener can be added with the setStatusCallback() method. Set the listener before the session is created or any play commands are issued.//using RemotePlaybackClientmClient.setStatusCallback(new RemotePlaybackClient.StatusCallback() {    @Override    public void onItemStatusChanged(Bundle data,                String sessionId, MediaSessionStatus sessionStatus,                String itemId, MediaItemStatus itemStatus) {        //update status here    }    @Override    public void onSessionStatusChanged(Bundle data,                String sessionId, MediaSessionStatus sessionStatus) {        //update status here    }    @Override    public void onSessionChanged(String sessionId) {        //update status here    }});//using sendControlRequestString ACTION_RECEIVE_MEDIA_STATUS_UPDATE = \"acme.fling.player.ACTION_RECEIVE_MEDIA_STATUS_UPDATE\";mSessionStatusUpdateIntent = PendingIntent.getBroadcast(this, 0, intent, PendingIntent.FLAG_UPDATE_CURRENT);mMediaStatusBroadcastReceiver = new BroadcastReceiver() {    @Override    public void onReceive(Context context, Intent intent) {        //handle status update here    }};mMediaStatusBroadcastIntentFilter = new IntentFilter(ACTION_RECEIVE_MEDIA_STATUS_UPDATE);intent = new Intent(ACTION_RECEIVE_MEDIA_STATUS_UPDATE);intent.setComponent(getCallingActivity());mMediaStatusUpdateIntent = PendingIntent.getBroadcast(this, 0, intent,PendingIntent.FLAG_UPDATE_CURRENT);...Intent intent = new Intent(MediaControlIntent.ACTION_START_SESSION);intent.putExtra(MediaControlIntent.EXTRA_ITEM_STATUS_UPDATE_RECEIVER, mMediaStatusUpdateIntent);mCurrentRoute.sendControlRequest(intent, new MediaRouter.ControlRequestCallback() {}); Note: There is a bug in the MediaRouteProvider object used by Cast devices that causes onItemStatusChanged() in RemotePlaybackClient.StatusCallback to never be called due to a missing session ID. This method receives updates properly for FlingMediaRouteProvider. FlingMediaRouteProvider also triggers the item status update every time the media position changes (maximum 1 call per second), although this may not be the case for all MediaRouteProvider instances.",
        "url": "using-amazon-fling-with-android-mediarouter.html",
        "product": "Fling SDK"
      }
      ,
      
      
    
            

          


      "working-with-built-in-receiver-on-fire-tv-html": {
        "title": "Working with the Built-in Receiver on the Fire TV Platform",
        "tags": "[]",
        "content": "The Amazon Fire TV and Fire TV Stick have a built-in receiver application that supports Amazon Fling service. This means your controller app can send supported media content over to the Fire TV and Fire TV Stick without the need for a specific companion Fire TV application.Your controller application can discover the Fire TV or Fire TV Stick using the publically available unique service identifier (SID) of the built-in receiver and send media content to it.This page describes how you can achieve that and what you can do with this built-in receiver.  Discovering the Built-in Receiver          On Android/Fire OS      On iOS        Playing Media Content on the Built-in Receiver          Supported Media Types      How to Control Playback?      Format of the Metadata JSON      Discovering the Built-in ReceiverThe built-in receivers on the Fire TV and Fire TV Stick are identified by the service identifier (SID) \"amzn.thin.pl\".To discover these receivers, you can use the following code snippets to search:On Android/Fire OSmController = new DiscoveryController(this);mController.start(\"amzn.thin.pl\", mDiscoveryListener);On iOSmController = [DiscoveryController alloc];[mController open:@\"amzn.thin.pl\" : self];Playing Media Content on the Built-in ReceiverThe built-in receiver on the Fire TV and Fire TV Stick provides a rich set of features to your controller app. You can do the following:  Send video clips, audio clips, as well as images  If your app provides closed captioning for video content, closed captioning may be displayed on the Amazon Fire TV  Show title and description of the media clips  Show album art when playing audio  Control how the end of playback is handled, in case you want to send media clips continuously Note: The built-in media player receiver does not support the mute and volume API calls at this time.Supported Media TypesThe built-in receiver on the Amazon Fire TV and Fire TV Stick can play any media type supported by the Fire TV platform. The detailed list of content types is available here: Fire TV Device Specifications.How to Control Playback?The setMediaSource API allows you to control how the playback works on the built-in receiver. The metadataJson parameter of this API is responsible for setting values for UI elements on the playback interface.Format of the Metadata JSONIn your controller application, please send the metadata JSON string that conforms to the following format:{    \"type\" : string, // required (if not present, video is assumed)    \"title\" : string, // optional    \"description\" : string, // optional    \"poster\" : string, // optional – URL of the album art for an audio media source    \"tracks\" : // optional – subtitles presented to the user        [ // Array of subtitle objects            {                \"src\" : string, // required – URL of the WebVTT file                \"kind\" : string, // required – always \"subtitles\"                \"srclang\" : string, // required – language code                \"label\" : string // required – what is shown on the UI            }, …        ],    \"noreplay\": true|false, //optional}",
        "url": "working-with-built-in-receiver-on-fire-tv.html",
        "product": "Fling SDK"
      }
      ,
      
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            

          
      
    
            
    
            

          
      
    
          
          
            

          
      
    
            

          
      
    
            

          


      "search-fling-html": {
        "title": "Search - Fling SDK",
        "tags": "[]",
        "content": "{% include searchlogic.html %}",
        "url": "search-fling.html",
        "product": "Fling SDK"
      }
      ,
      
      
    
            
    
  };
</script>

<script src="assets/js/lunr.min.js"></script>
<script src="assets/js/search.js"></script>




            </div>
        </div><!--/.container-->


    </div><!--/.page-container-->
    
    <div class="footertop">
    <div class="container">
        <div class="col-md-6">
            <p></p>
        </div>
        <div class="col-md-6">
            <ul class="bottom_ul">
        </div>
    </div>
</div>

<footer>
    <div class="container">
        <div class="row">
            <div class="col-md-4 col-sm-6 footerleft ">
                <div class="logofooter"> About the Developer Portal</div>
                <p>The Amazon Developer Portal provides documentation for developers creating apps for the Amazon
                    appstore, including Alexa skills. Apps include streaming media apps, game apps, skills, and more. </p>

            </div>
            <div class="col-md-2 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Links</h6>
                <ul class="footer-ul">
                    <li><a class="noCrossRef" href="https://developer.amazon.com/"> Developer Portal</a></li>
                    <li><a class="noCrossRef" href="/index.html">Documentation Home</a></li>
                    <li class="noCrossRef"><a href="https://developer.amazon.com/support"> Support</a></li>
                    <li class="noCrossRef"><a href="https://aws.amazon.com/documentation/"> AWS docs</a></li>
                    <li class="noCrossRef"><a href="https://www.amazon.com/mobile-apps/b?ie=UTF8&node=2350149011"> Amazon Appstore</a></li>
                </ul>
            </div>

            <div class="col-md-3 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Amazon News</h6>
                <ul class="footer-ul">
                    <li class="noCrossRef"><a href="https://developer.amazon.com/blogs"> Blog</a></li>
                    <li class="noCrossRef"><a href="https://www.youtube.com/channel/UCT9ApARFgQJOeqD-ygmxnJQ"> YouTube</a></li>
                    <li class="noCrossRef"><a href="https://twitter.com/AmazonAppDev"> Twitter</a></li>
                    <li class="noCrossRef"><a href="http://phx.corporate-ir.net/phoenix.zhtml?p=irol-mediahome&c=176060"> Amazon Press Room</a></li>
                </ul>
            </div>

            <div class="col-md-3 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Forums</h6>
                <ul class="footer-ul">
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/23/index.html"> Alexa Skills Kit</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/33/index.html"> Smart Home Skill API</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/38/index.html"> Alexa Voice Service</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/167/index.html"> Appstore</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/12/index.html"> Underground</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/166/index.html"> Fire Devices</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/61/index.html"> Dash</a></li>
                </ul>
            </div>
        </div>
    </div>
    </div>
</footer>
<!--subfooter start from here -->

<div class="copyright">
    <div class="container">
        <div class="col-md-12">
            <p>© 1996-2017, Amazon.com, Inc. or its affiliates</p>
        </div>
    </div>
</div>

    
    <!--scripts loaded here-->



</body>

</html>
