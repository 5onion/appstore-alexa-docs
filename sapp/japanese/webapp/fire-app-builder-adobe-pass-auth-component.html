<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Adobe Pass認証コンポーネント | Fire App Builder</title>
    <base target="_self">
    <meta name="description" content="Adobe Primetime (旧称Adobe Pass) は、メディアを表示する前にユーザーにログインを求める認証メカニズムを提供します。ユーザーは各自のISPまたはコンテンツプロバイダーにサインインし、その認証情報に基づいてアプリで認証されます。Adobe Primetimeの詳細については、こちらを参照してください。  Note: “Adobe Primetime”はコンポーネントのコード作成時には”Adobe Pass”と呼ばれていました。Adobe Passという名前はコード内では引き続き使用されており、コンポーネントの名前はAdobePassAuthComponentです。そのため、このドキュメントではAdobe PassとAdobe Primetimeはほぼ同じ意味で使用されています。  Adobe Passを使用した場合のユーザーエクスペリエンス Adobe Pass認証コンポーネントを構成する... " />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google" value="notranslate">
    <link rel="icon"  type="image/x-icon" href="favicon.ico">


    <!-- Load sidebar component -->
    <link rel="stylesheet" type="text/css" href="assets/css/font-awesome.min.css">
    <script type="text/javascript" src="assets/js/jquery.min.js"></script>
    <!-- Load jquery.cookie plugin (optional) -->
    <script type="text/javascript" src="assets/js/jquery.cookie.min.js"></script>
    <!-- Load jquery.navgoco plugin js and css files -->
    <script type="text/javascript" src="assets/js/jquery.navgoco.min.js"></script>

    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/toc.js"></script>
    <script src="assets/js/anchor.min.js"></script>



    <script>
        $( document ).ready(function() {
            $("#docnavsidebar").navgoco({
                caretHtml: '',
                accordion: false,
                openClass: 'open', // open
                save: true,
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 300,
                    easing: 'swing'
                }
            });
            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#docnavsidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#docnavsidebar").navgoco('toggle', true);
            });
        });

    </script>
    <script src="assets/js/customscripts.js"></script>

    <script>
        $(document).ready(function() {
            $('[data-toggle=offcanvas]').click(function() {
                $('.row-offcanvas').toggleClass('active');
            });
        });
    </script>


    <!--stylesheets / link tags loaded here-->

    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />

    <link rel="stylesheet" href="assets/css/main.css" />
    <style>
        ul#markdown-toc::before  {
        content: "目次"
         }
    </style>

</head>
<body class="default">
<div class="page-container">


    <!-- Top Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container topnavlinks">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle topnav</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <button type="button" class="navbar-toggle toggle-sidebar-button"  data-toggle="offcanvas" data-target=".sidebar-nav">
                    <span class="sr-only">Toggle sidebar</span>
                    <span class="sidebarToggle fa fa-columns fa-2x"></span>
                </button>

                <a class="navbar-brand noCrossRef" href="/">
                    <img class="navbar-logo" src="amazonlogowhite.png"/>
            </div>

            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-left">

                    <!-- single item nav items appear here -->

                    
                    
                    
                    
                    <li><a href="https://developer.amazon.com/support" class="noCrossRef">サポート</a></li>
                    
                    
                    
                    <li><a href="https://developer.amazon.com/blogs" class="noCrossRef">ブログ</a></li>
                    
                    
                    

                    <!-- drop-down nav items appear here -->

                    



                </ul>

                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <!--start search -->
                        <!--
                        <div id="search-demo-container">
                            <form action="search.html" method="get">
                                <input type="text" id="search-input" placeholder="グローバル検索 ..." name="query">
                            </form>
                        </div>
                        -->
                        <!-- end search-->
                    </li>
                </ul>
            </div>

        </div>

        <!--<div class="navbarbottom">-->
        <!--<div class="container">-->
        <!--

-->
        <!--</div>-->
        <!--</div>-->
        <!-- /.container -->
    </nav>


<div class="container">
        <div class="row row-offcanvas row-offcanvas-left">

            <!-- sidebar -->
            <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar" role="navigation">

                


<div class="mydocsidebar">
<div class="sidebar-inner">
<!-- search bar -->

<div class="sidebarSearchBar">
<form action="search-fireappbuilder_ja.html" method="get">
  <div class="input-group search">
    <input type="text" id="search-box" name="query" class="form-control" placeholder="製品検索 ...">
    <div class="input-group-btn">
      <button class="btn btn-default" type="submit" value="search">
        <i class="glyphicon glyphicon-search"></i>
      </button>
    </div>
  </div>
</form>
</div>

<!-- end search bar -->


<div class="productTitle">Fire App Builder</div>
<p class="external">
    <a href="#" id="collapseAll">すべてを折りたたむ</a> | <a href="#" id="expandAll">すべて展開</a>
</p>



    <ul id="docnavsidebar" class="docnav">
    
    <li class="level1"><a href="#">Introduction</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-app-builder-overview.html">Fire App Builder: JavaベースのAmazon Fire TVおよびAndroidアプリ向けスターターキット</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-release-notes.html">リリースノート</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-end-to-end-process.html">アプリを作成するための一連のプロセス</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-questions-and-answers.html">よくある質問</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">1. Get Set Up</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-app-builder-download-and-build.html">Fire App Builderをダウンロードして、アプリをビルドする</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-connecting-adb-to-fire-tv.html">ADBを使用してFire TVに接続する</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-app-tour.html">アプリの概要</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">2. Configure Your Feed</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-app-builder-load-media-feed.html">メディアフィードをロードする</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-set-up-recipes-overview.html">レシピ構成の概要</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-set-up-recipes-categories.html">カテゴリレシピをセットアップする</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-set-up-recipes-content.html">コンテンツレシピをセットアップする</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-configure-navigator.html">Navigatorの構成の概要</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-configure-navigator-token-feeds.html">Navigatorの構成 -- トークンベースフィード</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-configure-navigator-open-feeds.html">Navigatorの構成 -- オープンフィード</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">3. Customize the Appearance</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-app-builder-customize-look-and-feel.html">アプリのルックアンドフィールをカスタマイズする</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">4. Add Components</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-app-builder-interfaces-and-components.html">コンポーネントの概要</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-load-a-component.html">アプリにコンポーネントをロードする</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-create-a-new-component.html">新しいFire App Builderコンポーネントを作成する</a></li>
            
            

            

            <li class="level2"><a class="subfoldersTitle" href="#">Ads components</a>
                <ul style="display:none;">
                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-freewheel-ads-component.html">Freewheel広告コンポーネント</a></li>
                    
                    

                    

                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-vast-ads-component.html">VAST広告コンポーネント</a></li>
                    
                    

                    

                    
                </ul>
            </li>

            

            <li class="level2"><a class="subfoldersTitle" href="#">Analytics components</a>
                <ul style="display:none;">
                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-crashlytics-component.html">Crashlyticsコンポーネント</a></li>
                    
                    

                    

                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-flurry-analytics-component.html">Flurry Analyticsコンポーネント</a></li>
                    
                    

                    

                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-google-analytics-component.html">Googleアナリティクスコンポーネント</a></li>
                    
                    

                    

                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-omniture-analytics-component.html">Omniture Analyticsコンポーネント</a></li>
                    
                    

                    

                    
                </ul>
            </li>

            

            <li class="level2"><a class="subfoldersTitle" href="#">Authorization components</a>
                <ul style="display:none;">
                    

                    
                    
                    <li class="level2items open"><a href="fire-app-builder-adobe-pass-auth-component.html">Adobe Pass認証コンポーネント</a></li>
                    
                    

                    

                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-facebook-auth-component.html">Facebook認証コンポーネント</a></li>
                    
                    

                    

                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-login-with-amazon-component.html">Login with Amazonコンポーネント</a></li>
                    
                    

                    

                    
                </ul>
            </li>

            

            <li class="level2"><a class="subfoldersTitle" href="#">Purchasing components</a>
                <ul style="display:none;">
                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-amazon-in-app-purchase-component.html">Amazonアプリ内課金のコンポーネント</a></li>
                    
                    

                    

                    
                </ul>
            </li>

            

            <li class="level2"><a class="subfoldersTitle" href="#">Media components</a>
                <ul style="display:none;">
                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-amazon-media-player-component.html">Amazon Media Playerコンポーネント</a></li>
                    
                    

                    

                    
                </ul>
            </li>

            

            
        </ul>

        
    <li class="level1"><a href="#">Other Development Topics</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-app-builder-pulling-updates-from-github.html">Githubから更新データをプルする</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-live-stream-configuration.html">ライブストリーミングを構成する</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-catalog-integration.html">Fire TVカタログにメディアを組み込む</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-use-an-android-tv-emulator.html">Android TVエミュレーターを使用してアプリを実行する</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-querying-json.html">JSONでクエリを実行する</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-querying-xml.html">XMLでクエリを実行する</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-troubleshooting.html">トラブルシューティング</a></li>
            
            

            

            
        </ul>

        

    </li>
</ul>

<hr class="resourceSeparator"></hr>
<div class="relatedResources">その他のリソース</div>
<ul id="entrypages">
        
        <li><a class="noCrossRef" href="/getting-started-developing-apps-and-games-for-amazon-fire-tv.html">Fire TV</a></li>
        
    </li>
</ul>
</div>
</div>
<script>$("li.open").parents('li').toggleClass("open");</script>






            </div>

            <!-- main area -->
            <div class="col-xs-12 col-sm-9 main">
                
                    <div class="subtitle"><a href="http://developer.amazon.com" class="noCrossRef productSubtitle"> 自宅</a> > <a href="index.html" class="noCrossRef productSubtitle"> ドキュメンテーション</a> > Fire App Builder > </div>
                    <h1>Adobe Pass認証コンポーネント</h1>

                    

                    <p>Adobe Primetime (旧称Adobe Pass) は、メディアを表示する前にユーザーにログインを求める認証メカニズムを提供します。ユーザーは各自のISPまたはコンテンツプロバイダーにサインインし、その認証情報に基づいてアプリで認証されます。Adobe Primetimeの詳細については、<a href="http://www.adobe.com/marketing-cloud/primetime-tv-platform.html">こちら</a>を参照してください。</p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> “Adobe Primetime”はコンポーネントのコード作成時には”Adobe Pass”と呼ばれていました。Adobe Passという名前はコード内では引き続き使用されており、コンポーネントの名前はAdobePassAuthComponentです。そのため、このドキュメントではAdobe PassとAdobe Primetimeはほぼ同じ意味で使用されています。</div>

<ul id="markdown-toc">
  <li><a href="#adobe-passを使用した場合のユーザーエクスペリエンス" id="markdown-toc-adobe-passを使用した場合のユーザーエクスペリエンス">Adobe Passを使用した場合のユーザーエクスペリエンス</a></li>
  <li><a href="#adobe-pass認証コンポーネントを構成する" id="markdown-toc-adobe-pass認証コンポーネントを構成する">Adobe Pass認証コンポーネントを構成する</a></li>
  <li><a href="#configurecomponent" id="markdown-toc-configurecomponent">手順 1. アプリでAdobe Pass認証コンポーネントを構成する</a></li>
  <li><a href="#generatingyourkeys" id="markdown-toc-generatingyourkeys">手順 2. Adobe Primetimeの鍵を暗号化する</a>    <ul>
      <li><a href="#他の値を暗号化する" id="markdown-toc-他の値を暗号化する">他の値を暗号化する</a></li>
    </ul>
  </li>
  <li><a href="#configurestrings" id="markdown-toc-configurestrings">手順 3. Adobe Primetimeのログインプロンプトの文字列を構成する</a></li>
  <li><a href="#customizestyles" id="markdown-toc-customizestyles">手順 4. Adobe Passの画面のスタイルをカスタマイズする</a></li>
  <li><a href="#configurescreens" id="markdown-toc-configurescreens">手順 5. ユーザーにログインを求める画面を構成する</a></li>
</ul>

<h2 id="adobe-passを使用した場合のユーザーエクスペリエンス">Adobe Passを使用した場合のユーザーエクスペリエンス</h2>

<p>サンプルアプリでのAdobe Pass/Primetimeの構成例を次に示します。</p>

<p>ユーザーが [Content Details] 画面で [Watch Now] ボタンをクリックすると、Adobe Primetimeのログインプロンプトが表示されます。</p>

<figure><img class="docimage " src="docs_ja/firetv/fireappbuilder/images/fireappbuilder_adobepassprompt.png" alt="" /><figcaption>Adobe Primetimeのログインプロンプト</figcaption></figure>

<p>ユーザーはコンピューターでブラウザを開き、指定されたURL (この例では、www.example.com/amazon/firetv) にアクセスし、登録コードを入力します。ケーブルプロバイダーにもサインインします。</p>

<figure><img class="docimage " src="docs_ja/firetv/fireappbuilder/images/fireappbuilder_adobepassbrowserlogin.png" alt="" /><figcaption>Adobe Passを使用した認証では、ユーザーがケーブルプロバイダーにサインインする必要があります。</figcaption></figure>

<p>ユーザーが登録コードとケーブルプロバイダーの認証情報を入力して、ログインすると、ログインに成功したことを示す次のような画面が表示されます(これらのURLと画面は、Adobe Primetimeアカウントを使用して構成します)。</p>

<figure><img class="docimage " src="docs_ja/firetv/fireappbuilder/images/fireappbuilder_adobepassloginsuccess.png" alt="" /><figcaption>ログインに成功しました。</figcaption></figure>

<p>ユーザーはFire TVに戻り、[<strong>Submit</strong>] ボタンをクリックして、ログインします。これで、メディアを視聴できます。</p>

<p>ログインに失敗すると、それを示すエラーメッセージが画面に表示されます。</p>

<figure><img class="docimage " src="docs_ja/firetv/fireappbuilder/images/fireappbuilder_adobepasserror.png" alt="" /><figcaption>Adobe Primetimeのログイン試行に失敗した場合に表示されることがあるエラーメッセージ画面。</figcaption></figure>

<h2 id="adobe-pass認証コンポーネントを構成する">Adobe Pass認証コンポーネントを構成する</h2>

<p>Adobe Passコンポーネントを構成するには、次の 5 つの手順を実行します。</p>

<ul>
  <li><a href="#configurecomponent">手順 1. アプリでAdobe Pass認証コンポーネントを構成する</a></li>
  <li><a href="#generatingyourkeys">手順 2. Adobe Passの鍵を暗号化する</a></li>
  <li><a href="#configurestrings">手順 3. Adobe Passのログインプロンプトの文字列を構成する</a></li>
  <li><a href="#customizestyles">手順 4. Adobe Passの画面のスタイルをカスタマイズする</a></li>
  <li><a href="#configurescreens">手順 5. ユーザーにログインを求める画面を構成する</a></li>
</ul>

<h2 id="configurecomponent">手順 1. アプリでAdobe Pass認証コンポーネントを構成する</h2>

<p>Adobe Pass認証コンポーネントには、カスタマイズ可能な 3 つの独立したファイルグループがあります。それらのファイルを使って、Adobe Passの情報と、ユーザーに表示するFire TVユーザーインターフェースを構成します。</p>

<p>Adobe Pass認証コンポーネントを構成するには:</p>

<ol>
  <li>Adobe Pass認証コンポーネントをアプリにロードします。コンポーネントをアプリにロードする方法の詳細については、「<a href="fire-app-builder-load-a-component.html">アプリにコンポーネントをロードする</a>」を参照してください。</li>
  <li>
    <p>アプリにロードされている他の認証コンポーネント (FacebookAuthComponentやLoginWithAmazonComponentなど) があれば削除します。詳細については、「<a href="fire-app-builder-load-a-component.html#removeacomponent">コンポーネントを削除する</a>」を参照してください。</p>

    <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> インターフェース 1 つにつきロードできるコンポーネントは <em>1 つ</em>だけです。たとえば、Adobe Pass認証コンポーネントとパススルーログインコンポーネントは同じ<code class="highlighter-rouge">IAuthentication</code>インターフェースを使用しているため、<em>両方</em>をロードすることはできません。インターフェースごとのコンポーネントのリストについては、「<a href="fire-app-builder-interfaces-and-components.html">コンポーネントの概要</a>」を参照してください。</div>
  </li>
  <li><strong>AdobePassAuthComponent &gt; res &gt; values</strong>に移動し、<strong>custom.xml</strong>ファイルを開きます。</li>
  <li>
    <p>次の値をコピーしてアプリの<strong>custom.xml</strong>ファイルに貼り付けます。</p>

    <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="c">&lt;!--Adobe pass clientless API Requestor ID --&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"adobe_pass_requestor_id"</span><span class="nt">&gt;</span>YOUR REQUESTOR ID<span class="nt">&lt;/string&gt;</span>
<span class="c">&lt;!-- Encrypted Adobe pass public key for your application, encrypt it using
KeyEncrypterStandaloneUtility --&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"encrypted_adobe_pass_public_key"</span><span class="nt">&gt;</span>YOUR ENCRYPTED PUBLIC KEY<span class="nt">&lt;/string&gt;</span>
<span class="c">&lt;!-- Encrypted Adobe pass secret key for your application, encrypt it using
KeyEncrypterStandaloneUtility --&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"encrypted_adobe_pass_private_key"</span><span class="nt">&gt;</span>YOUR ENCRYPTED PRIVATE KEY<span class="nt">&lt;/string&gt;</span>
<span class="c">&lt;!--Adobe pass clientless API registration URL for second screen login --&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"adobe_pass_registration_url"</span><span class="nt">&gt;</span>YOUR REGISTRATION URL<span class="nt">&lt;/string&gt;</span>
<span class="c">&lt;!--Adobe pass clientless API time to live value for the registration token --&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"adobe_pass_registration_code_ttl"</span><span class="nt">&gt;</span>YOUR TIME TO LIVE VALUE<span class="nt">&lt;/string&gt;</span>
<span class="c">&lt;!-- URL used by user to authenticate --&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"adobepass_login_instruction_line_2"</span><span class="nt">&gt;</span>Visit YOUR_AUTHENTICATION_URL<span class="nt">&lt;/string&gt;</span>
<span class="c">&lt;!-- PseudoRandom strings, used to generate random key for encrypting/decrypting resources.
These keys should always remain in sync with the keys used by encrypting utility --&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"random_key_1"</span><span class="nt">&gt;</span>random_key_1<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"random_key_2"</span><span class="nt">&gt;</span>random_key_2<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"random_key_3"</span><span class="nt">&gt;</span>random_key_3<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"random_key_4"</span><span class="nt">&gt;</span>random_key_4<span class="nt">&lt;/string&gt;</span>
</code></pre>
    </div>
  </li>
  <li>
    <p>次の表の説明に従って、各プロパティの値をカスタマイズします。</p>

    <table>
<colgroup>
<col width="40%" />
<col width="60%" />
</colgroup>
  <thead>
    <tr>
      <th>値</th>
      <th>説明</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><code>adobe_pass_requestor_id</code></td>
      <td>Adobe PrimetimeのリクエスターID。この値はAdobeから提供されます。</td>
    </tr>
    <tr>
      <td><code>encrypted_adobe_pass_public_key</code></td>
      <td>Adobe Primetimeの暗号化された公開鍵 (Adobeから提供されます)。この鍵はAdobeから提供されますが、暗号化する必要があります。この鍵の生成の詳細については、「<a href="#generatingyourkeys">Adobe Primetimeの鍵を暗号化する</a>」を参照してください。</td>
    </tr>
    <tr>
      <td><code>encrypted_adobe_pass_private_key</code></td>
      <td>Adobe Primetimeの暗号化された秘密鍵。この鍵はAdobeから提供されますが、暗号化する必要があります。この鍵の生成の詳細については、「<a href="#generatingyourkeys">Adobe Primetimeの鍵を暗号化する</a>」を参照してください。</td>
    </tr>
    <tr>
      <td><code>adobe_pass_registration_url</code></td>
      <td>登録URL。この値はAdobeから提供されます。</td>
    </tr>
    <tr>
      <td><code>adobe_pass_registration_code_ttl</code></td>
      <td>登録コードの有効期限。</td>
    </tr>
    <tr>
      <td><code>adobepass_login_instruction_line_2</code></td>
      <td>ユーザーがログインする場所に関する情報。</td>
    </tr>
    <tr>
      <td><code>random_key_1</code></td>
      <td>公開鍵と秘密鍵の暗号化に使用されるランダムな文字列。値には、任意の英数字の文字列を入力します。</td>
    </tr>
    <tr>
      <td><code>random_key_2</code></td>
      <td>公開鍵と秘密鍵の暗号化に使用されるランダムな文字列。値には、任意の英数字の文字列を入力します。</td>
    </tr>
    <tr>
      <td><code>random_key_3</code></td>
      <td>公開鍵と秘密鍵の暗号化に使用されるランダムな文字列。値には、任意の英数字の文字列を入力します。</td>
    </tr>
    <tr>
      <td><code>random_key_4</code></td>
      <td>公開鍵と秘密鍵の暗号化に使用されるランダムな文字列。値には、任意の英数字の文字列を入力します。</td>
    </tr>
  </tbody>
</table>
  </li>
</ol>

<h2 id="generatingyourkeys">手順 2. Adobe Primetimeの鍵を暗号化する</h2>

<p>Adobe Primetimeアカウントをセットアップすると、公開鍵と秘密鍵が提供されます。これらの値を安全に保持するために、Fire App BuilderのAdobe Passコンポーネントでは、セキュリティアルゴリズムを使用して鍵を暗号化します。このアルゴリズムは、アプリのUtilsフォルダーにある<code class="highlighter-rouge">ResourceObfuscator</code>クラスと<code class="highlighter-rouge">ResourceObfuscationStandaloneUtility</code>クラスを使用して実装されます。</p>

<p>Adobe Primetimeの公開鍵と秘密鍵を暗号化するには:</p>

<ol>
  <li>Androidビューで、<strong>Utils &gt; java &gt; com &gt; amazon &gt; utils &gt; security</strong>フォルダーの順に展開し、<strong>ResourceObfuscationStandaloneUtility</strong>クラスを開きます。</li>
  <li>
    <p><code class="highlighter-rouge">getRandomStringsForKey()</code> メソッドで、(コンポーネントのcustom.xmlファイル内にある) <code class="highlighter-rouge">random_key_1</code>、<code class="highlighter-rouge">random_key_4</code>、および<code class="highlighter-rouge">random_key_3</code> に使用した値をそれぞれ入力します。</p>

    <p>たとえば、custom.xmlファイルで次のランダムな文字列を使用したとします。</p>

    <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"random_key_1"</span><span class="nt">&gt;</span>calypso<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"random_key_2"</span><span class="nt">&gt;</span>dadadadadappppp<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"random_key_3"</span><span class="nt">&gt;</span>more_random_stuff<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"random_key_4"</span><span class="nt">&gt;</span>something_random<span class="nt">&lt;/string&gt;</span>
</code></pre>
    </div>
    <p>その場合は、<code class="highlighter-rouge">ResourceObfuscationStandaloneUtility</code>クラスの文字列を次のようにカスタマイズします。</p>

    <div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">private</span> <span class="kd">static</span> <span class="n">String</span><span class="o">[]</span> <span class="nf">getRandomStringsForKey</span><span class="o">()</span> <span class="o">{</span>

    <span class="k">return</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]{</span>
            <span class="s">"calypso"</span><span class="o">,</span>
            <span class="s">"something_random"</span><span class="o">,</span>
            <span class="s">"more_random_stuff"</span>
    <span class="o">};</span>
<span class="o">}</span>
</code></pre>
    </div>

    <p>この例では、値は次のとおりです。</p>

    <ul>
      <li><code class="highlighter-rouge">calypso</code>は<code class="highlighter-rouge">random_key_1</code> に使用した値です。</li>
      <li><code class="highlighter-rouge">something_random</code>は<code class="highlighter-rouge">random_key_4</code> に使用した値です。</li>
      <li><code class="highlighter-rouge">more_random_stuff</code>は<code class="highlighter-rouge">random_key_3</code> に使用した値です。</li>
    </ul>
  </li>
  <li>
    <p><code class="highlighter-rouge">getRandomStringsForIv()</code> メソッドで、<code class="highlighter-rouge">random_key_2</code> および<code class="highlighter-rouge">random_key_3</code> に使用した値をそれぞれ入力します。</p>

    <div class="language-java highlighter-rouge"><pre class="highlight"><code>    <span class="kd">private</span> <span class="kd">static</span> <span class="n">String</span><span class="o">[]</span> <span class="nf">getRandomStringsForIv</span><span class="o">()</span> <span class="o">{</span>

        <span class="k">return</span> <span class="k">new</span> <span class="n">String</span><span class="o">[]{</span>
                <span class="s">"dadadadadappppp"</span><span class="o">,</span>
                <span class="s">"more_random_stuff"</span>
        <span class="o">};</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre>
    </div>

    <p>この例では、値は次のとおりです。</p>

    <ul>
      <li><code class="highlighter-rouge">dadadadadappppp</code>は<code class="highlighter-rouge">random_key_2</code> に使用した値です。</li>
      <li><code class="highlighter-rouge">more_random_stuff</code>は<code class="highlighter-rouge">random_key_3</code> に使用した値です(前述と同じです)。</li>
    </ul>
  </li>
  <li>
    <p><code class="highlighter-rouge">getPlainTextToEncrypt()</code> メソッドで、<code class="highlighter-rouge">Encrypt_this_text</code>の代わりにAdobe Passの公開鍵を挿入します。</p>

    <div class="language-java highlighter-rouge"><pre class="highlight"><code> <span class="kd">private</span> <span class="kd">static</span> <span class="n">String</span> <span class="nf">getPlainTextToEncrypt</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"Encrypt_this_text"</span><span class="o">;</span>
    <span class="o">}</span>
</code></pre>
    </div>
  </li>
  <li>
    <p><strong>ResourceObfuscationStandaloneUtility.java</strong>ファイルを右クリックし、[<strong>Run ‘ResourceObfusc…main()</strong>] を選択します。</p>
  </li>
  <li>
    <p>暗号化された結果がコンソールに出力されていることを確認します。これは次のように表示されます。</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>Encrypted version of plain text 123456789 is gnobHJEIxnkBMobJk7mBaQ==
</code></pre>
    </div>
  </li>
  <li>
    <p>暗号化された鍵をコピーします。前のセクションの手順に従って、この鍵をアプリの<strong>custom.xml</strong>ファイルの<code class="highlighter-rouge">encrypted_adobe_pass_public_key</code>の値に貼り付けます。次に例を示します。</p>

    <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"encrypted_adobe_pass_public_key"</span><span class="nt">&gt;</span>gnobHJEIxnkBMobJk7mBaQ==<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"encrypted_adobe_pass_private_key"</span><span class="nt">&gt;</span>YOUR ENCRYPTED PRIVATE KEY<span class="nt">&lt;/string&gt;</span>
</code></pre>
    </div>
  </li>
  <li>
    <p>Adobe Passの<em>秘密</em>鍵を<code class="highlighter-rouge">getPlainTextToEncrypt()</code> メソッドに挿入し、(同じランダム文字列を使用して) スクリプトを再実行します。暗号化された鍵をコピーして、アプリの<strong>custom.xml</strong>ファイルの<code class="highlighter-rouge">encrypted_adobe_pass_private_key</code>の文字列値に貼り付けます。次に例を示します。</p>

    <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"encrypted_adobe_pass_public_key"</span><span class="nt">&gt;</span>gnobHJEIxnkBMobJk7mBaQ==<span class="nt">&lt;/string&gt;</span>
<span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"encrypted_adobe_pass_private_key"</span><span class="nt">&gt;</span>bhjKDUYhdlkNNbUEYyvbn==<span class="nt">&lt;/string&gt;</span>
</code></pre>
    </div>

    <div class="alert alert-success" role="alert"><i class="fa fa-check-square-o"></i> <b>Tip:</b> 会社のWikiなどの安全な場所にランダム鍵を保存しておくと、いつでも簡単に取り出すことができます。</div>
  </li>
</ol>

<h3 id="他の値を暗号化する">他の値を暗号化する</h3>

<p>暗号化ユーティリティは、Adobe Primetimeの鍵だけでなく、アプリ内で暗号化するどの鍵にも使用できます。<code class="highlighter-rouge">ResourceObfuscatorStandaloneUitility</code>クラスを使用して鍵を暗号化し、<code class="highlighter-rouge">ResourceObfuscator</code>クラスを使用して鍵の暗号化を解除することができます。</p>

<p>Adobe Passコンポーネントでは、鍵の暗号化解除に<code class="highlighter-rouge">ResourceObfuscator</code>クラスが使用されています。(コンポーネントのcustom.xmlファイルに) 入力したランダムな文字列は、暗号化を行う<code class="highlighter-rouge">ResourceObfuscator</code>クラスに渡されます。Adobe Pass認証コンポーネントのAdobepassRestClient.javaクラスは、この<code class="highlighter-rouge">ResourceObfuscator</code>クラスをインスタンス化し、ランダムな文字列を渡します。</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code>  <span class="n">ResourceObfuscator</span> <span class="n">obfuscator</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ResourceObfuscator</span><span class="o">();</span>

        <span class="n">String</span> <span class="n">plainKey</span> <span class="o">=</span> <span class="n">obfuscator</span><span class="o">.</span><span class="na">unobfuscate</span><span class="o">(</span><span class="n">key</span><span class="o">,</span> <span class="n">getRandomStringsForKey</span><span class="o">(</span><span class="n">appContext</span><span class="o">),</span>
                                                 <span class="n">getRandomStringsForIv</span><span class="o">(</span><span class="n">appContext</span><span class="o">));</span>
        <span class="k">return</span> <span class="n">plainKey</span><span class="o">;</span>
    <span class="o">}</span>
</code></pre>
</div>

<p>この暗号化手法にはハッキング耐性がないことに注意してください。もっと強力な暗号化方法はありますが、このアルゴリズムは悪意のあるユーザーが鍵を簡単に見つけて使用するのを防ぐのに役立ちます。</p>

<h2 id="configurestrings">手順 3. Adobe Primetimeのログインプロンプトの文字列を構成する</h2>

<p>Adobe Primetimeのログインプロンプト画面に表示される文字列を構成できます。</p>

<figure><img class="docimage " src="docs_ja/firetv/fireappbuilder/images/fireappbuilder_adobepassprompt.png" alt="" /><figcaption>Adobe Primetimeのログインプロンプト</figcaption></figure>

<p>ログインに失敗した場合にエラーメッセージ画面に表示されるテキストを制御することもできます。</p>

<figure><img class="docimage " src="docs_ja/firetv/fireappbuilder/images/fireappbuilder_adobepasserror.png" alt="" /><figcaption>Adobe Passのエラーメッセージ</figcaption></figure>

<p>これらの画面に表示されるテキストをカスタマイズするには:</p>

<ol>
  <li><strong>AdobepassAuthComponent &gt; res &gt; values</strong>に移動し、<strong>strings.xml</strong>ファイルを開きます。</li>
  <li>
    <p>各要素の文字列値をカスタマイズします。</p>

    <div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"app_name"</span><span class="nt">&gt;</span>AdobepassAuthComponent<span class="nt">&lt;/string&gt;</span>

   <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"title_activity_adobe_authentication"</span><span class="nt">&gt;</span>Authentication<span class="nt">&lt;/string&gt;</span>
   <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"adobepass_login_instruction_line_1"</span><span class="nt">&gt;</span>Go to your computer or mobile device<span class="nt">&lt;/string&gt;</span>
   <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"adobepass_login_instruction_line_3"</span><span class="nt">&gt;</span>Enter the following case-sensitive code:<span class="nt">&lt;/string&gt;</span>
   <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"adobepass_login_instruction_line_4"</span><span class="nt">&gt;</span>Loading...<span class="nt">&lt;/string&gt;</span>
   <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"btn_submit"</span><span class="nt">&gt;</span>SUBMIT<span class="nt">&lt;/string&gt;</span>
   <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"btn_get_new_code"</span><span class="nt">&gt;</span>GET NEW CODE<span class="nt">&lt;/string&gt;</span>
   <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"adobe_pass_error_authentication_message"</span><span class="nt">&gt;</span>There was an error authenticating the account. Please try again later.<span class="nt">&lt;/string&gt;</span>
   <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"adobe_pass_error_registration_message"</span><span class="nt">&gt;</span>There was an error authenticating the account. Please try again later.<span class="nt">&lt;/string&gt;</span>
   <span class="nt">&lt;string</span> <span class="na">name=</span><span class="s">"adobe_pass_no_authorization_message"</span><span class="nt">&gt;</span>Your subscription package does not include this video.
</code></pre>
    </div>
  </li>
</ol>

<h2 id="customizestyles">手順 4. Adobe Passの画面のスタイルをカスタマイズする</h2>

<p>アプリ内のAdobe Primetimeのログインユーザーインターフェースのロゴと色をカスタマイズできます。</p>

<p>スタイルをカスタマイズするには:</p>

<ol>
  <li><strong>AdobepassAuthComponent &gt; res &gt; values</strong>に移動し、<strong>styles.xml</strong>ファイルを開きます。</li>
  <li>
    <p>各要素の文字列値をカスタマイズします。要素名とテキストが表示にどのように影響するかは、上のスクリーンショットを参照してください。</p>

    <div class="language-xml highlighter-rouge"><pre class="highlight"><code>    <span class="nt">&lt;style</span> <span class="na">name=</span><span class="s">"AppTheme"</span> <span class="na">parent=</span><span class="s">"android:Theme.Holo.Light.DarkActionBar"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/style&gt;</span>

    <span class="nt">&lt;drawable</span> <span class="na">name=</span><span class="s">"company_logo"</span><span class="nt">&gt;</span>@drawable/logo<span class="nt">&lt;/drawable&gt;</span>
    <span class="nt">&lt;drawable</span> <span class="na">name=</span><span class="s">"splash_background"</span><span class="nt">&gt;</span>@drawable/bg_generic_nopreview<span class="nt">&lt;/drawable&gt;</span>
    <span class="nt">&lt;drawable</span> <span class="na">name=</span><span class="s">"action_button_focused"</span><span class="nt">&gt;</span>@drawable/btn_generic_focused<span class="nt">&lt;/drawable&gt;</span>
    <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"action_button_text_color"</span><span class="nt">&gt;</span>#E6FFFFFF<span class="nt">&lt;/color&gt;</span>
    <span class="nt">&lt;color</span> <span class="na">name=</span><span class="s">"action_button_text_color_focused"</span><span class="nt">&gt;</span>#E6FFFFFF<span class="nt">&lt;/color&gt;</span>
    <span class="nt">&lt;drawable</span> <span class="na">name=</span><span class="s">"action_button_normal"</span><span class="nt">&gt;</span>@drawable/btn_normal<span class="nt">&lt;/drawable&gt;</span>
</code></pre>
    </div>
  </li>
</ol>

<h2 id="configurescreens">手順 5. ユーザーにログインを求める画面を構成する</h2>

<p>どの画面に認証を実装するかを構成する必要があります。たとえば、[Content Renderer] 画面の<code class="highlighter-rouge">PlaybackActivity</code>に対してのみ認証を要求することで、アプリ内のメディアに興味を持った未認証のユーザーにログインを促すことができます。</p>

<p>認証を求める画面を構成するには:</p>

<ol>
  <li><strong>Navigator.json</strong>ファイル (<strong>app &gt; assets</strong>にあります) を開きます。</li>
  <li>
    <p><code class="highlighter-rouge">graph</code>オブジェクトで、制限するアクティビティ (<code class="highlighter-rouge">PlaybackActivity</code>など) を探し、<code class="highlighter-rouge">verifyScreenAccess</code>をtrueに変更します。次に例を示します。</p>

    <div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="s2">"com.amazon.android.uamp.ui.PlaybackActivity"</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
  </span><span class="nt">"verifyScreenAccess"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"verifyNetworkConnection"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nt">"onAction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"CONTENT_RENDERER_SCREEN"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
    </div>
  </li>
</ol>

<!-- common links -->


                    <div class="toc-main-column">
                        

                    </div>

            </div>
        </div><!--/.container-->


    </div><!--/.page-container-->
    
    <div class="footertop">
    <div class="container">
        <div class="col-md-6">
            <p></p>
        </div>
        <div class="col-md-6">
            <ul class="bottom_ul">
                <!--<li><a href="http://developer.amazon.com" class="noCrossRef productSubtitle"> Home</a> </li><li> <a href="index.html" class="noCrossRef productSubtitle"> Documentation</a></li><li>Fire App Builder</li>-->
        </div>
    </div>
</div>

<footer>
    <div class="container">
        <div class="row">
            <div class="col-md-4 col-sm-6 footerleft ">
                <div class="logofooter"> About the Developer Portal</div>
                <p>The Amazon Developer Portal provides documentation for developers creating apps for the Amazon
                    appstore, including Alexa skills. Apps include streaming media apps, game apps, and more. </p>
                <p><i class="fa fa-map-pin"></i> 1120 Enterprise Way, Sunnyvale, California</p>
                <p><i class="fa fa-envelope"></i> E-mail : someemail@amazon.com</p>

            </div>
            <div class="col-md-2 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Links</h6>
                <ul class="footer-ul">
                    <li><a href="#"> Doc index</a></li>
                    <li><a href="#"> Blog</a></li>
                    <li><a href="#"> Developer.amazon.com</a></li>
                    <li><a href="#"> AWS docs</a></li>
                    <li><a href="#"> Amazon Appstore</a></li>
                </ul>
            </div>

            <div class="col-md-3 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Amazon News</h6>
                <ul class="footer-ul">
                    <li><a href="#">Developer.amazon.com blog</a></li>
                    <li><a href="#">AWS blog</a></li>
                    <li><a href="#">Amazon newsroom</a></li>
                    <li><a href="#">Other Amazon blogs</a></li>
                </ul>
            </div>

            <div class="col-md-3 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Forums</h6>
                <ul class="footer-ul">
                    <li><a href="#">Amazon Underground</a></li>
                    <li><a href="#">General Android</a></li>
                    <li><a href="#">Amazon Dash Replenishment</a></li>
                    <li><a href="#">Merch by Amazon</a></li>
                    <li><a href="#">Alexa</a></li>
                    <li><a href="#">Amazon Fire Devices</a></li>
                    <li><a href="#">Appstore</a></li>
                    <li><a href="#">Mobile APIs and Services</a></li>
                </ul>
            </div>
        </div>
    </div>
    </div>
</footer>
<!--subfooter start from here -->

<div class="copyright">
    <div class="container">
        <div class="col-md-6">
            <p>© 2017 -  Amazon</p>
        </div>
        <div class="col-md-6">
            <ul class="bottom_ul">
                <li><a href="#">About us</a></li>
                <li><a href="#">Blog</a></li>
                <li><a href="#">Faq's</a></li>
                <li><a href="#">Contact us</a></li>
                <li><a href="#">Site Map</a></li>
            </ul>
        </div>
    </div>
</div>

    
    <!--scripts loaded here-->





</body>

</html>
