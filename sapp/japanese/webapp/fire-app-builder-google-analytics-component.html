<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Googleアナリティクスコンポーネント | Fire App Builder</title>
    <base target="_self">
    <meta name="description" content="Googleアナリティクスコンポーネントでは、Googleアナリティクスを使用してAndroidアプリから分析データを収集できます。この分析サービスの詳細については、「Googleアナリティクス」を参照してください。このコンポーネントを構成するには、Googleアナリティクスから生成したgoogle-services.jsonファイルを設定し、GoogleアナリティクスとFire App Builderのコンポーネントの間でディメンションおよび指標のインデックスを一致させる必要があります。必要なディメンションと指標が含まれるカスタムレポートも設定する必要があります。 Googleアナリティクスコンポーネントを構成するには、以下の各セクションを完了してください。  手順 1. Googleアナリティクスコンポーネントを構成する 手順 2. google-services.jsonファイルを設定する 手順 3. ディメンションを設定する 手順 4. 指標のインデックスを設定する{#step4} 手順... " />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google" value="notranslate">
    <link rel="icon"  type="image/x-icon" href="favicon.ico">


    <!-- Load sidebar component -->
    <link rel="stylesheet" type="text/css" href="assets/css/font-awesome.min.css">
    <script type="text/javascript" src="assets/js/jquery.min.js"></script>
    <!-- Load jquery.cookie plugin (optional) -->
    <script type="text/javascript" src="assets/js/jquery.cookie.min.js"></script>
    <!-- Load jquery.navgoco plugin js and css files -->
    <script type="text/javascript" src="assets/js/jquery.navgoco.min.js"></script>

    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/toc.js"></script>
    <script src="assets/js/anchor.min.js"></script>



    <script>
        $( document ).ready(function() {
            $("#docnavsidebar").navgoco({
                caretHtml: '',
                accordion: false,
                openClass: 'open', // open
                save: true,
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 300,
                    easing: 'swing'
                }
            });
            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#docnavsidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#docnavsidebar").navgoco('toggle', true);
            });
        });

    </script>
    <script src="assets/js/customscripts.js"></script>

    <script>
        $(document).ready(function() {
            $('[data-toggle=offcanvas]').click(function() {
                $('.row-offcanvas').toggleClass('active');
            });
        });
    </script>


    <!--stylesheets / link tags loaded here-->

    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />

    <link rel="stylesheet" href="assets/css/main.css" />
    <style>
        ul#markdown-toc::before  {
        content: "目次"
         }
    </style>

</head>
<body class="default">
<div class="page-container">


    <!-- Top Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container topnavlinks">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle topnav</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <button type="button" class="navbar-toggle toggle-sidebar-button"  data-toggle="offcanvas" data-target=".sidebar-nav">
                    <span class="sr-only">Toggle sidebar</span>
                    <span class="sidebarToggle fa fa-columns fa-2x"></span>
                </button>

                <a class="navbar-brand noCrossRef" href="/">
                    <img class="navbar-logo" src="amazonlogowhite.png"/>
            </div>

            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-left">

                    <!-- single item nav items appear here -->

                    
                    
                    
                    
                    <li><a href="https://developer.amazon.com/support" class="noCrossRef">サポート</a></li>
                    
                    
                    
                    <li><a href="https://developer.amazon.com/blogs" class="noCrossRef">ブログ</a></li>
                    
                    
                    

                    <!-- drop-down nav items appear here -->

                    



                </ul>

                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <!--start search -->
                        <!--
                        <div id="search-demo-container">
                            <form action="search.html" method="get">
                                <input type="text" id="search-input" placeholder="グローバル検索 ..." name="query">
                            </form>
                        </div>
                        -->
                        <!-- end search-->
                    </li>
                </ul>
            </div>

        </div>

        <!--<div class="navbarbottom">-->
        <!--<div class="container">-->
        <!--

-->
        <!--</div>-->
        <!--</div>-->
        <!-- /.container -->
    </nav>


<div class="container">
        <div class="row row-offcanvas row-offcanvas-left">

            <!-- sidebar -->
            <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar" role="navigation">

                


<div class="mydocsidebar">
<div class="sidebar-inner">
<!-- search bar -->

<div class="sidebarSearchBar">
<form action="search-fireappbuilder_ja.html" method="get">
  <div class="input-group search">
    <input type="text" id="search-box" name="query" class="form-control" placeholder="製品検索 ...">
    <div class="input-group-btn">
      <button class="btn btn-default" type="submit" value="search">
        <i class="glyphicon glyphicon-search"></i>
      </button>
    </div>
  </div>
</form>
</div>

<!-- end search bar -->


<div class="productTitle">Fire App Builder</div>
<p class="external">
    <a href="#" id="collapseAll">すべてを折りたたむ</a> | <a href="#" id="expandAll">すべて展開</a>
</p>



    <ul id="docnavsidebar" class="docnav">
    
    <li class="level1"><a href="#">Introduction</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-app-builder-overview.html">Fire App Builder: JavaベースのAmazon Fire TVおよびAndroidアプリ向けスターターキット</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-release-notes.html">リリースノート</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-end-to-end-process.html">アプリを作成するための一連のプロセス</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-questions-and-answers.html">よくある質問</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">1. Get Set Up</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-app-builder-download-and-build.html">Fire App Builderをダウンロードして、アプリをビルドする</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-connecting-adb-to-fire-tv.html">ADBを使用してFire TVに接続する</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-app-tour.html">アプリの概要</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">2. Configure Your Feed</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-app-builder-load-media-feed.html">メディアフィードをロードする</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-set-up-recipes-overview.html">レシピ構成の概要</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-set-up-recipes-categories.html">カテゴリレシピをセットアップする</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-set-up-recipes-content.html">コンテンツレシピをセットアップする</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-configure-navigator.html">Navigatorの構成の概要</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-configure-navigator-token-feeds.html">Navigatorの構成 -- トークンベースフィード</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-configure-navigator-open-feeds.html">Navigatorの構成 -- オープンフィード</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">3. Customize the Appearance</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-app-builder-customize-look-and-feel.html">アプリのルックアンドフィールをカスタマイズする</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">4. Add Components</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-app-builder-interfaces-and-components.html">コンポーネントの概要</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-load-a-component.html">アプリにコンポーネントをロードする</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-create-a-new-component.html">新しいFire App Builderコンポーネントを作成する</a></li>
            
            

            

            <li class="level2"><a class="subfoldersTitle" href="#">Ads components</a>
                <ul style="display:none;">
                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-freewheel-ads-component.html">Freewheel広告コンポーネント</a></li>
                    
                    

                    

                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-vast-ads-component.html">VAST広告コンポーネント</a></li>
                    
                    

                    

                    
                </ul>
            </li>

            

            <li class="level2"><a class="subfoldersTitle" href="#">Analytics components</a>
                <ul style="display:none;">
                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-crashlytics-component.html">Crashlyticsコンポーネント</a></li>
                    
                    

                    

                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-flurry-analytics-component.html">Flurry Analyticsコンポーネント</a></li>
                    
                    

                    

                    

                    
                    
                    <li class="level2items open"><a href="fire-app-builder-google-analytics-component.html">Googleアナリティクスコンポーネント</a></li>
                    
                    

                    

                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-omniture-analytics-component.html">Omniture Analyticsコンポーネント</a></li>
                    
                    

                    

                    
                </ul>
            </li>

            

            <li class="level2"><a class="subfoldersTitle" href="#">Authorization components</a>
                <ul style="display:none;">
                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-adobe-pass-auth-component.html">Adobe Pass認証コンポーネント</a></li>
                    
                    

                    

                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-facebook-auth-component.html">Facebook認証コンポーネント</a></li>
                    
                    

                    

                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-login-with-amazon-component.html">Login with Amazonコンポーネント</a></li>
                    
                    

                    

                    
                </ul>
            </li>

            

            <li class="level2"><a class="subfoldersTitle" href="#">Purchasing components</a>
                <ul style="display:none;">
                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-amazon-in-app-purchase-component.html">Amazonアプリ内課金のコンポーネント</a></li>
                    
                    

                    

                    
                </ul>
            </li>

            

            <li class="level2"><a class="subfoldersTitle" href="#">Media components</a>
                <ul style="display:none;">
                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-amazon-media-player-component.html">Amazon Media Playerコンポーネント</a></li>
                    
                    

                    

                    
                </ul>
            </li>

            

            
        </ul>

        
    <li class="level1"><a href="#">Other Development Topics</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-app-builder-pulling-updates-from-github.html">Githubから更新データをプルする</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-live-stream-configuration.html">ライブストリーミングを構成する</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-catalog-integration.html">Fire TVカタログにメディアを組み込む</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-use-an-android-tv-emulator.html">Android TVエミュレーターを使用してアプリを実行する</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-querying-json.html">JSONでクエリを実行する</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-querying-xml.html">XMLでクエリを実行する</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-troubleshooting.html">トラブルシューティング</a></li>
            
            

            

            
        </ul>

        

    </li>
</ul>

<hr class="resourceSeparator"></hr>
<div class="relatedResources">その他のリソース</div>
<ul id="entrypages">
        
        <li><a class="noCrossRef" href="/getting-started-developing-apps-and-games-for-amazon-fire-tv.html">Fire TV</a></li>
        
    </li>
</ul>
</div>
</div>
<script>$("li.open").parents('li').toggleClass("open");</script>






            </div>

            <!-- main area -->
            <div class="col-xs-12 col-sm-9 main">
                
                    <div class="subtitle"><a href="http://developer.amazon.com" class="noCrossRef productSubtitle"> 自宅</a> > <a href="index.html" class="noCrossRef productSubtitle"> ドキュメンテーション</a> > Fire App Builder > </div>
                    <h1>Googleアナリティクスコンポーネント</h1>

                    

                    <p>Googleアナリティクスコンポーネントでは、Googleアナリティクスを使用してAndroidアプリから分析データを収集できます。この分析サービスの詳細については、「<a href="https://developers.google.com/analytics/">Googleアナリティクス</a>」を参照してください。このコンポーネントを構成するには、Googleアナリティクスから生成したgoogle-services.jsonファイルを設定し、GoogleアナリティクスとFire App Builderのコンポーネントの間でディメンションおよび指標のインデックスを一致させる必要があります。必要なディメンションと指標が含まれるカスタムレポートも設定する必要があります。</p>

<p>Googleアナリティクスコンポーネントを構成するには、以下の各セクションを完了してください。</p>

<ul id="markdown-toc">
  <li><a href="#step1" id="markdown-toc-step1">手順 1. Googleアナリティクスコンポーネントを構成する</a></li>
  <li><a href="#step2" id="markdown-toc-step2">手順 2. google-services.jsonファイルを設定する</a></li>
  <li><a href="#step3" id="markdown-toc-step3">手順 3. ディメンションを設定する</a></li>
  <li><a href="#手順-4-指標のインデックスを設定するstep4" id="markdown-toc-手順-4-指標のインデックスを設定するstep4">手順 4. 指標のインデックスを設定する{#step4}</a></li>
  <li><a href="#step5" id="markdown-toc-step5">手順 5. レポートを設定する</a></li>
  <li><a href="#step6" id="markdown-toc-step6">手順 6. すべてが動作していることを確認する</a></li>
</ul>

<h2 id="step1">手順 1. Googleアナリティクスコンポーネントを構成する</h2>

<ol>
  <li>
    <p>アプリにロードされている他の分析コンポーネント (Crashlytics、OmnitureAnalyticsComponent、LoggerAnalyticsComponentなど) を削除します。詳細については、「<a href="fire-app-builder-load-a-component.html#removeacomponent">コンポーネントを削除する</a>」を参照してください。</p>

    <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> You can load only <em>one</em> component per interface. For example, you cannot load both the Flurry Analytics component <em>and</em> the Omniture Analytics component, because both components use the same <code class="highlighter-rouge">IAnalytics</code> interface. For a list of the components by interface, see <a href="fire-app-builder-interfaces-and-components.html">Components Overview</a>.</div>
  </li>
  <li>
    <p>Googleアナリティクスコンポーネントをアプリにロードします。コンポーネントをアプリにロードする方法の詳細については、「<a href="fire-app-builder-load-a-component.html">アプリにコンポーネントをロードする</a>」を参照してください。</p>

    <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 次の 2 つの手順を完了するまで [Sync Gradle] ボタンをクリックしないでください。</div>
  </li>
  <li>Androidビューで、<strong>Gradle Scripts</strong>ディレクトリを展開し、<strong>build.gradle (Project: Application)</strong> ファイルを開きます (“Fire App Builder” を実際のプロジェクト名に置き換えます)。</li>
  <li>
    <p>Googleアナリティクスコンポーネントのコメントの下にある<code class="highlighter-rouge">classpath</code>行をコメント解除します。</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>// Uncomment when using Google Analytics component
classpath 'com.google.gms:google-services:3.0.0'
</code></pre>
    </div>

    <p>これで [Sync Gradle] ボタン <img class="inline " src="docs_ja/firetv/fireappbuilder/images/fireappbuilder_syncgradlebutton.png" alt="" />
 をクリックすると、プロジェクトのGradleファイルを同期できます。</p>
  </li>
</ol>

<h2 id="step2">手順 2. google-services.jsonファイルを設定する</h2>

<p>Googleアナリティクスにより、すべての分析設定がgoogle-services.jsonファイルにパッケージ化されます。このファイルを生成してダウンロードした後、Googleアナリティクスコンポーネントのフォルダーに保存します。</p>

<ol>
  <li>Googleアカウントにサインインします。</li>
  <li>Googleアナリティクスサイトの「<a href="https://developers.google.com/analytics/devguides/collection/android/v4/">アナリティクスをAndroidアプリに追加する</a>」に移動します。</li>
  <li>「<strong>設定ファイルを取得する</strong>」セクションで、[<strong>設定ファイルを取得</strong>] をクリックします。</li>
  <li>[<strong>App name</strong>] と [<strong>Android package name</strong>] に情報を入力します。
    <ul>
      <li>[App name] には、アプリの名前を入力します。</li>
      <li>[Android package name] には、GoogleアナリティクスコンポーネントのAndroidManifest.xmlファイルにあるパッケージ名<strong>com.amazon.analytics.google</strong>を使用します。</li>
    </ul>
  </li>
  <li>
    <p>[<strong>Continue to choose and configure services</strong>] をクリックします。</p>

    <p>画面には “Select which Google services you’d like to add to your app below” と表示されますが、統合に使用できるのはアナリティクスのみです。</p>
  </li>
  <li>[<strong>Continue to generate configuration files</strong>] をクリックします。</li>
  <li>[<strong>Download google-services.json</strong>] をクリックし、JSONファイルをダウンロードします。</li>
  <li>google-services.jsonファイルを<strong>GoogleAnalyticsComponent</strong>フォルダーに移動します。</li>
</ol>

<h2 id="step3">手順 3. ディメンションを設定する</h2>

<p>この手順では、Googleアナリティクスで設定したディメンションに対応するディメンションをアプリで設定します。<a href="https://support.google.com/analytics/answer/1033861?hl=ja">Googleアナリティクスのドキュメント</a>には、”ディメンションはデータの属性です。たとえば、ディメンション「市区町村」はセッションの性質を表し、「横浜」、「川崎」などセッションが発生した市区町村を指定します。ディメンション「ページ」は、閲覧されたページのURLを表します。” という記述があります。</p>

<ol>
  <li>アプリで、<strong>GoogleAnalyticsComponent</strong> &gt; <strong>java</strong> &gt; <strong>com.amazon.analytics.google</strong>を展開し、<strong>GoogleAnalytics</strong>ファイルを開きます。</li>
  <li>
    <p>次のディメンションのインデックスを探します。</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>/**
 * Custom dimension indexes.
 */
private final int PLATFORM_IDX = 1;
private final int SEARCH_IDX = 2;
private final int ERROR_MSG_IDX = 10;
private final int PLAYBACK_SOURCE_IDX = 3;
private final int PURCHASE_RESULT_IDX = 8;
private final int PURCHASE_SKU_IDX = 9;
private final int TITLE_IDX = 4;
private final int SUBTITLE_IDX = 5;
private final int VIDEO_TYPE_IDX = 6;
private final int PURCHASE_TYPE_IDX = 7;
</code></pre>
    </div>

    <p>ここにあるディメンションとインデックスに対応する、Googleアナリティクスのディメンションを作成します (ここではまだコードに何もする必要はありません。ファイルは後で調整するため、開いたままにしておいてください)。</p>
  </li>
  <li><a href="https://analytics.google.com/">Googleアナリティクスのダッシュボード</a>にサインインします。</li>
  <li>上部のナビゲーションバーで [<strong>Admin</strong>] をクリックします。</li>
  <li>
    <p>[<strong>Property</strong>] 列 (中央の列) で、[<strong>Custom Definitions</strong>] &gt; [<strong>Custom Dimensions</strong>] の順にクリックします。</p>

    <figure><img class="docimage " src="docs_ja/firetv/fireappbuilder/images/fireappbuilder_custom_dimensions.png" alt="" /></figure>
  </li>
  <li>
    <p>[<strong>New Custom Dimension</strong>] ボタンをクリックします。</p>

    <div class="alert alert-danger" role="alert"><i class="fa fa-exclamation-circle"></i> <b>Warning:</b> 作成できるディメンションは 20 個までです。また、ディメンションは、作成後に編集することができないため、ここでは注意してください。失敗して変更が必要な場合は、別のGoogleアカウントでのサインインが必要になることがあります。</div>
  </li>
  <li>最初のディメンションに、わかりやすい名前を入力します。たとえば、「PLATFORM_IDX」ではなく「Platform」と入力します。</li>
  <li>[<strong>Scope</strong>] は [<strong>Hit</strong>] (デフォルト) のままにします。</li>
  <li>[<strong>Active</strong>] チェックボックスをオンのままにします。</li>
  <li>
    <p>[<strong>Create</strong>] をクリックします。</p>

    <figure><img class="docimage " src="docs_ja/firetv/fireappbuilder/images/fireappbuilder_google_dimensions.png" alt="" /></figure>
  </li>
  <li>[<strong>Done</strong>] をクリックします。</li>
  <li>次のすべての値に対してカスタムディメンションを作成するまで、この処理を繰り返します。
    <ul>
      <li>Platform</li>
      <li>Search Term</li>
      <li>Error Message</li>
      <li>Playback Source</li>
      <li>Purchase Source</li>
      <li>Purchase Result</li>
      <li>Purchase SKU</li>
      <li>Title</li>
      <li>Subtitle</li>
      <li>Video Type</li>
      <li>Purchase Type</li>
    </ul>

    <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> ここにある名前 (“Platform” など) は、GoogleAnalytics.javaファイルにある名前 (“PLATFORM_IDX” など) と一致させる必要はありません。Googleは、インデックス値に基づいてディメンションを一致させます。</div>
  </li>
  <li>
    <p><strong>GoogleAnalytics.java</strong>ファイル (GoogleAnalyticsComponent &gt; java &gt; com.amazon.analytics.googleにあります) のインデックス番号を、Googleアナリティクスのダッシュボードで自動的に作成されたディメンションのインデックス番号 (以下のスクリーンショットで黄色で強調表示されています) に対応するよう変更します。</p>

    <figure><img class="docimage " src="docs_ja/firetv/fireappbuilder/images/fireappbuilder_index_values.png" alt="" /></figure>

    <p>(Googleアナリティクスではインデックス値をカスタマイズできないため、コンポーネントのインデックス値を、Googleによって作成されたインデックス値に一致させる必要があります。)</p>

    <div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="cm">/**
 * Custom dimension indexes.
 */</span>
<span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">PLATFORM_IDX</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
<span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">SEARCH_IDX</span> <span class="o">=</span> <span class="mi">2</span><span class="o">;</span>
<span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">ERROR_MSG_IDX</span> <span class="o">=</span> <span class="mi">10</span><span class="o">;</span>
<span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">PLAYBACK_SOURCE_IDX</span> <span class="o">=</span> <span class="mi">3</span><span class="o">;</span>
<span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">PURCHASE_RESULT_IDX</span> <span class="o">=</span> <span class="mi">8</span><span class="o">;</span>
<span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">PURCHASE_SKU_IDX</span> <span class="o">=</span> <span class="mi">9</span><span class="o">;</span>
<span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">TITLE_IDX</span> <span class="o">=</span> <span class="mi">4</span><span class="o">;</span>
<span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">SUBTITLE_IDX</span> <span class="o">=</span> <span class="mi">5</span><span class="o">;</span>
<span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">VIDEO_TYPE_IDX</span> <span class="o">=</span> <span class="mi">6</span><span class="o">;</span>
<span class="kd">private</span> <span class="kd">final</span> <span class="kt">int</span> <span class="n">PURCHASE_TYPE_IDX</span> <span class="o">=</span> <span class="mi">7</span><span class="o">;</span>
</code></pre>
    </div>

    <p>Googleのディメンションをまったく同じ順序で作成した場合を除き、インデックス値は若干異なる可能性があります。Googleアナリティクスで作成した各ディメンション (例: Error Message, 10) がコンポーネントのディメンションとインデックス (例: <code class="highlighter-rouge">ERROR_MSG_IDX = 10</code>) に対応していることを確認してください。</p>
  </li>
</ol>

<h2 id="手順-4-指標のインデックスを設定するstep4">手順 4. 指標のインデックスを設定する{#step4}</h2>

<p>このセクションでは、指標のインデックスに対して、前のセクションと同じ手順を実行します。<a href="https://support.google.com/analytics/answer/1033861?hl=ja">Googleアナリティクスのドキュメント</a>には、”指標はデータを定量化したものです。指標「セッション」はセッションの合計数です。指標「ページ/セッション」は、セッションあたりの平均閲覧ページ数です。” という記述があります。</p>

<ol>
  <li>
    <p>アプリで、<strong>GoogleAnalyticsComponent</strong> &gt; <strong>java</strong> &gt; <strong>com.amazon.analytics.google</strong>を展開し、<strong>GoogleAnalytics</strong>ファイルを開きます。2.  次の指標のインデックスを探します。</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>/**
 * Custom metric indexes.
 */
private final int AD_SECONDS_WATCHED_IDX = 1;
private final int VIDEO_SECONDS_WATCHED_IDX = 2;
private final int VIDEO_ID_IDX = 3;
private final int AD_ID_IDX = 4;
</code></pre>
    </div>

    <p>ディメンションと同様に、ここにある指標とインデックスに対応する、Googleアナリティクスの指標を作成します (ここではまだコードに何もする必要はありません。ファイルは後で調整するため、開いたままにしておいてください)。</p>
  </li>
  <li>
    <p><a href="https://analytics.google.com/">Googleアナリティクスのダッシュボード</a>にサインインします。4.  上部のナビゲーションバーで [<strong>Admin</strong>] をクリックします。5.  [<strong>Property</strong>] 列 (中央) で、[<strong>Custom Definitions</strong>] &gt; [<strong>Custom Metrics</strong>] の順にクリックします。</p>
  </li>
  <li>
    <p>[<strong>New Custom Metric</strong>] ボタンをクリックします。</p>

    <div class="alert alert-danger" role="alert"><i class="fa fa-exclamation-circle"></i> <b>Warning:</b> 作成できる指標は 20 個までです。また、指標は、作成後に編集することができないため、ここでは注意してください。失敗して変更が必要な場合は、別のGoogleアカウントでのサインインが必要になることがあります。</div>
  </li>
  <li>最初の指標に、わかりやすい名前を入力します。たとえば、「AD_SECONDS_WATCHED_IDX」ではなく「Ad Seconds Watched」と入力します。</li>
  <li>他の値 (Scope、Formatting Type、Minimum Value、Maximum Value、およびActive) は、特に調整が必要な場合を除き、デフォルトのままにします。9.  [<strong>Create</strong>] をクリックします。</li>
  <li>[<strong>Done</strong>] をクリックします。</li>
  <li>次のすべての値に対してカスタムディメンションを作成するまで、この処理を繰り返します。
    <ul>
      <li>Ad Seconds Watched</li>
      <li>Video Seconds Watched</li>
      <li>Video ID</li>
      <li>Ad ID</li>
    </ul>

    <div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> 前述のとおり、ここにある名前 (“Ad Seconds Watched” など) は、GoogleAnalytics.javaファイルにある名前 (“AD_SECONDS_WATCHED_IDX” など) と一致させる必要はありません。Googleは、インデックス値に基づいて指標を一致させます。</div>
  </li>
  <li>
    <p>GoogleAnalytics.javaファイル (GoogleAnalyticsComponent &gt; java &gt; com.amazon.analytics.googleにあります) の指標のインデックス番号を、Googleアナリティクスのダッシュボードで自動的に作成された指標のインデックス番号に対応するよう変更します。</p>

    <p>(Googleアナリティクスではインデックス値をカスタマイズできないため、コンポーネントのインデックス値を、Googleによって作成されたインデックス値に一致させる必要があります。)</p>
  </li>
</ol>

<h2 id="step5">手順 5. レポートを設定する</h2>

<p>最後の手順では、コンポーネントのディメンションと指標に基づいたレポートを作成します。</p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> ここで提供するのは、カスタムレポートを作成するための最小限の情報のみです。完全なドキュメントについては、Googleのドキュメントで「<a href="https://support.google.com/analytics/answer/2709828">カスタムディメンション/指標</a>」を参照してください。自身にとって重要な情報に基づいて、レポートのディメンションと指標を一致させる方法を選択する必要があります。</div>

<ol>
  <li>Googleアナリティクスで、[<strong>Customization</strong>] をクリックします。</li>
  <li>[<strong>New Custom Report</strong>] ボタンをクリックします。</li>
  <li>カスタムレポートに<strong>タイトル</strong>を付けます。4.  [<strong>Dimensions</strong>] セクションで、[<strong>+ add dimension</strong>] をクリックし、[<strong>Custom Dimensions</strong>] を展開して、必要なディメンションを選択します。</li>
  <li>
    <p>[Metrics Groups] セクションで、[<strong>+ add metric</strong>] をクリックし、[<strong>Custom Metrics</strong>] を展開して、必要な指標を選択します。</p>

    <figure><img class="docimage " src="docs_ja/firetv/fireappbuilder/images/fireappbuilder_googleanalytics_customreport.png" alt="" /></figure>
  </li>
  <li>レポートにその他の調整を加えて、[<strong>Save</strong>] をクリックします。</li>
</ol>

<h2 id="step6">手順 6. すべてが動作していることを確認する</h2>

<p>次の手順に従って、Googleの統合を確認できます。</p>

<ol>
  <li>Android Studioで、アプリを起動します。</li>
  <li>
    <p>Googleアナリティクスで、[<strong>Reporting</strong>] をクリックし、[<strong>Real-Time</strong>] &gt; [<strong>Overview</strong>] の順に移動します。</p>

    <p>アクティブなユーザーが表示されます。</p>

    <figure><img class="docimage " src="docs_ja/firetv/fireappbuilder/images/fireappbuilder_googleanalytics_activeusers.png" alt="" /></figure>
  </li>
</ol>

<!-- common links -->


                    <div class="toc-main-column">
                        

                    </div>

            </div>
        </div><!--/.container-->


    </div><!--/.page-container-->
    
    <div class="footertop">
    <div class="container">
        <div class="col-md-6">
            <p></p>
        </div>
        <div class="col-md-6">
            <ul class="bottom_ul">
                <!--<li><a href="http://developer.amazon.com" class="noCrossRef productSubtitle"> Home</a> </li><li> <a href="index.html" class="noCrossRef productSubtitle"> Documentation</a></li><li>Fire App Builder</li>-->
        </div>
    </div>
</div>

<footer>
    <div class="container">
        <div class="row">
            <div class="col-md-4 col-sm-6 footerleft ">
                <div class="logofooter"> About the Developer Portal</div>
                <p>The Amazon Developer Portal provides documentation for developers creating apps for the Amazon
                    appstore, including Alexa skills. Apps include streaming media apps, game apps, and more. </p>
                <p><i class="fa fa-map-pin"></i> 1120 Enterprise Way, Sunnyvale, California</p>
                <p><i class="fa fa-envelope"></i> E-mail : someemail@amazon.com</p>

            </div>
            <div class="col-md-2 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Links</h6>
                <ul class="footer-ul">
                    <li><a href="#"> Doc index</a></li>
                    <li><a href="#"> Blog</a></li>
                    <li><a href="#"> Developer.amazon.com</a></li>
                    <li><a href="#"> AWS docs</a></li>
                    <li><a href="#"> Amazon Appstore</a></li>
                </ul>
            </div>

            <div class="col-md-3 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Amazon News</h6>
                <ul class="footer-ul">
                    <li><a href="#">Developer.amazon.com blog</a></li>
                    <li><a href="#">AWS blog</a></li>
                    <li><a href="#">Amazon newsroom</a></li>
                    <li><a href="#">Other Amazon blogs</a></li>
                </ul>
            </div>

            <div class="col-md-3 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Forums</h6>
                <ul class="footer-ul">
                    <li><a href="#">Amazon Underground</a></li>
                    <li><a href="#">General Android</a></li>
                    <li><a href="#">Amazon Dash Replenishment</a></li>
                    <li><a href="#">Merch by Amazon</a></li>
                    <li><a href="#">Alexa</a></li>
                    <li><a href="#">Amazon Fire Devices</a></li>
                    <li><a href="#">Appstore</a></li>
                    <li><a href="#">Mobile APIs and Services</a></li>
                </ul>
            </div>
        </div>
    </div>
    </div>
</footer>
<!--subfooter start from here -->

<div class="copyright">
    <div class="container">
        <div class="col-md-6">
            <p>© 2017 -  Amazon</p>
        </div>
        <div class="col-md-6">
            <ul class="bottom_ul">
                <li><a href="#">About us</a></li>
                <li><a href="#">Blog</a></li>
                <li><a href="#">Faq's</a></li>
                <li><a href="#">Contact us</a></li>
                <li><a href="#">Site Map</a></li>
            </ul>
        </div>
    </div>
</div>

    
    <!--scripts loaded here-->





</body>

</html>
