<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>JSONでクエリを実行する | Fire App Builder</title>
    <base target="_self">
    <meta name="description" content="レシピのセットアップでは、queryパラメータにJayway JsonPath構文を使用しました。JSONクエリ構文の詳細については、Jayway JsonPathを参照してください。 クエリ構文の記述方法について理解を深めるために、Jayway JsonPath Evaluatorを使用することもできます。各種の構文 ($, @, *, .., .&lt;name&gt;, [?(&lt;expression&gt;)]) でJSON内の特定の要素をターゲットにする具体的な方法については、「Operators」セクションを参照してください。 以下のセクションでは、Jayway JsonPathクエリを作成する方法の例を示します。  JSON Pathクエリの例 1 <a href="#json-pathクエリの例-2"... " />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google" value="notranslate">
    <link rel="icon"  type="image/x-icon" href="favicon.ico">


    <!-- Load sidebar component -->
    <link rel="stylesheet" type="text/css" href="assets/css/font-awesome.min.css">
    <script type="text/javascript" src="assets/js/jquery.min.js"></script>
    <!-- Load jquery.cookie plugin (optional) -->
    <script type="text/javascript" src="assets/js/jquery.cookie.min.js"></script>
    <!-- Load jquery.navgoco plugin js and css files -->
    <script type="text/javascript" src="assets/js/jquery.navgoco.min.js"></script>

    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/js/toc.js"></script>
    <script src="assets/js/anchor.min.js"></script>



    <script>
        $( document ).ready(function() {
            $("#docnavsidebar").navgoco({
                caretHtml: '',
                accordion: false,
                openClass: 'open', // open
                save: true,
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 300,
                    easing: 'swing'
                }
            });
            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#docnavsidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#docnavsidebar").navgoco('toggle', true);
            });
        });

    </script>
    <script src="assets/js/customscripts.js"></script>

    <script>
        $(document).ready(function() {
            $('[data-toggle=offcanvas]').click(function() {
                $('.row-offcanvas').toggleClass('active');
            });
        });
    </script>


    <!--stylesheets / link tags loaded here-->

    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />

    <link rel="stylesheet" href="assets/css/main.css" />
    <style>
        ul#markdown-toc::before  {
        content: "目次"
         }
    </style>

</head>
<body class="default">
<div class="page-container">


    <!-- Top Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container topnavlinks">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle topnav</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <button type="button" class="navbar-toggle toggle-sidebar-button"  data-toggle="offcanvas" data-target=".sidebar-nav">
                    <span class="sr-only">Toggle sidebar</span>
                    <span class="sidebarToggle fa fa-columns fa-2x"></span>
                </button>

                <a class="navbar-brand noCrossRef" href="/">
                    <img class="navbar-logo" src="amazonlogowhite.png"/>
            </div>

            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-left">

                    <!-- single item nav items appear here -->

                    
                    
                    
                    
                    <li><a href="https://developer.amazon.com/support" class="noCrossRef">サポート</a></li>
                    
                    
                    
                    <li><a href="https://developer.amazon.com/blogs" class="noCrossRef">ブログ</a></li>
                    
                    
                    

                    <!-- drop-down nav items appear here -->

                    



                </ul>

                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <!--start search -->
                        <!--
                        <div id="search-demo-container">
                            <form action="search.html" method="get">
                                <input type="text" id="search-input" placeholder="グローバル検索 ..." name="query">
                            </form>
                        </div>
                        -->
                        <!-- end search-->
                    </li>
                </ul>
            </div>

        </div>

        <!--<div class="navbarbottom">-->
        <!--<div class="container">-->
        <!--

-->
        <!--</div>-->
        <!--</div>-->
        <!-- /.container -->
    </nav>


<div class="container">
        <div class="row row-offcanvas row-offcanvas-left">

            <!-- sidebar -->
            <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar" role="navigation">

                


<div class="mydocsidebar">
<div class="sidebar-inner">
<!-- search bar -->

<div class="sidebarSearchBar">
<form action="search-fireappbuilder_ja.html" method="get">
  <div class="input-group search">
    <input type="text" id="search-box" name="query" class="form-control" placeholder="製品検索 ...">
    <div class="input-group-btn">
      <button class="btn btn-default" type="submit" value="search">
        <i class="glyphicon glyphicon-search"></i>
      </button>
    </div>
  </div>
</form>
</div>

<!-- end search bar -->


<div class="productTitle">Fire App Builder</div>
<p class="external">
    <a href="#" id="collapseAll">すべてを折りたたむ</a> | <a href="#" id="expandAll">すべて展開</a>
</p>



    <ul id="docnavsidebar" class="docnav">
    
    <li class="level1"><a href="#">Introduction</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-app-builder-overview.html">Fire App Builder: JavaベースのAmazon Fire TVおよびAndroidアプリ向けスターターキット</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-release-notes.html">リリースノート</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-end-to-end-process.html">アプリを作成するための一連のプロセス</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-questions-and-answers.html">よくある質問</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">1. Get Set Up</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-app-builder-download-and-build.html">Fire App Builderをダウンロードして、アプリをビルドする</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-connecting-adb-to-fire-tv.html">ADBを使用してFire TVに接続する</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-app-tour.html">アプリの概要</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">2. Configure Your Feed</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-app-builder-load-media-feed.html">メディアフィードをロードする</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-set-up-recipes-overview.html">レシピ構成の概要</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-set-up-recipes-categories.html">カテゴリレシピをセットアップする</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-set-up-recipes-content.html">コンテンツレシピをセットアップする</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-configure-navigator.html">Navigatorの構成の概要</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-configure-navigator-token-feeds.html">Navigatorの構成 -- トークンベースフィード</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-configure-navigator-open-feeds.html">Navigatorの構成 -- オープンフィード</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">3. Customize the Appearance</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-app-builder-customize-look-and-feel.html">アプリのルックアンドフィールをカスタマイズする</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">4. Add Components</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-app-builder-interfaces-and-components.html">コンポーネントの概要</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-load-a-component.html">アプリにコンポーネントをロードする</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-create-a-new-component.html">新しいFire App Builderコンポーネントを作成する</a></li>
            
            

            

            <li class="level2"><a class="subfoldersTitle" href="#">Ads components</a>
                <ul style="display:none;">
                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-freewheel-ads-component.html">Freewheel広告コンポーネント</a></li>
                    
                    

                    

                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-vast-ads-component.html">VAST広告コンポーネント</a></li>
                    
                    

                    

                    
                </ul>
            </li>

            

            <li class="level2"><a class="subfoldersTitle" href="#">Analytics components</a>
                <ul style="display:none;">
                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-crashlytics-component.html">Crashlyticsコンポーネント</a></li>
                    
                    

                    

                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-flurry-analytics-component.html">Flurry Analyticsコンポーネント</a></li>
                    
                    

                    

                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-google-analytics-component.html">Googleアナリティクスコンポーネント</a></li>
                    
                    

                    

                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-omniture-analytics-component.html">Omniture Analyticsコンポーネント</a></li>
                    
                    

                    

                    
                </ul>
            </li>

            

            <li class="level2"><a class="subfoldersTitle" href="#">Authorization components</a>
                <ul style="display:none;">
                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-adobe-pass-auth-component.html">Adobe Pass認証コンポーネント</a></li>
                    
                    

                    

                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-facebook-auth-component.html">Facebook認証コンポーネント</a></li>
                    
                    

                    

                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-login-with-amazon-component.html">Login with Amazonコンポーネント</a></li>
                    
                    

                    

                    
                </ul>
            </li>

            

            <li class="level2"><a class="subfoldersTitle" href="#">Purchasing components</a>
                <ul style="display:none;">
                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-amazon-in-app-purchase-component.html">Amazonアプリ内課金のコンポーネント</a></li>
                    
                    

                    

                    
                </ul>
            </li>

            

            <li class="level2"><a class="subfoldersTitle" href="#">Media components</a>
                <ul style="display:none;">
                    

                    
                    
                    <li class="level2items"><a href="fire-app-builder-amazon-media-player-component.html">Amazon Media Playerコンポーネント</a></li>
                    
                    

                    

                    
                </ul>
            </li>

            

            
        </ul>

        
    <li class="level1"><a href="#">Other Development Topics</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-app-builder-pulling-updates-from-github.html">Githubから更新データをプルする</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-live-stream-configuration.html">ライブストリーミングを構成する</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-catalog-integration.html">Fire TVカタログにメディアを組み込む</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-use-an-android-tv-emulator.html">Android TVエミュレーターを使用してアプリを実行する</a></li>
            
            

            

            

            
            
            <li class="level1items open"><a href="fire-app-builder-querying-json.html">JSONでクエリを実行する</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-querying-xml.html">XMLでクエリを実行する</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-app-builder-troubleshooting.html">トラブルシューティング</a></li>
            
            

            

            
        </ul>

        

    </li>
</ul>

<hr class="resourceSeparator"></hr>
<div class="relatedResources">その他のリソース</div>
<ul id="entrypages">
        
        <li><a class="noCrossRef" href="/getting-started-developing-apps-and-games-for-amazon-fire-tv.html">Fire TV</a></li>
        
    </li>
</ul>
</div>
</div>
<script>$("li.open").parents('li').toggleClass("open");</script>






            </div>

            <!-- main area -->
            <div class="col-xs-12 col-sm-9 main">
                
                    <div class="subtitle"><a href="http://developer.amazon.com" class="noCrossRef productSubtitle"> 自宅</a> > <a href="index.html" class="noCrossRef productSubtitle"> ドキュメンテーション</a> > Fire App Builder > </div>
                    <h1>JSONでクエリを実行する</h1>

                    

                    <p><a href="fire-app-builder-set-up-recipes-overview.html">レシピのセットアップ</a>では、<code class="highlighter-rouge">query</code>パラメータにJayway JsonPath構文を使用しました。JSONクエリ構文の詳細については、<a href="https://github.com/jayway/JsonPath">Jayway JsonPath</a>を参照してください。</p>

<p>クエリ構文の記述方法について理解を深めるために、<a href="http://jsonpath.herokuapp.com/">Jayway JsonPath Evaluator</a>を使用することもできます。各種の構文 (<code class="highlighter-rouge">$, @, *, .., .&lt;name&gt;, [?(&lt;expression&gt;)]</code>) でJSON内の特定の要素をターゲットにする具体的な方法については、「<a href="https://github.com/jayway/JsonPath#operators">Operators</a>」セクションを参照してください。</p>

<p>以下のセクションでは、Jayway JsonPathクエリを作成する方法の例を示します。</p>

<ul id="markdown-toc">
  <li><a href="#json-pathクエリの例-1" id="markdown-toc-json-pathクエリの例-1">JSON Pathクエリの例 1</a></li>
  <li><a href="#json-pathクエリの例-2" id="markdown-toc-json-pathクエリの例-2">JSON Pathクエリの例 2</a></li>
  <li><a href="#json-pathクエリの例-3" id="markdown-toc-json-pathクエリの例-3">JSON Pathクエリの例 3</a></li>
  <li><a href="#例-4" id="markdown-toc-例-4">例 4</a></li>
</ul>

<h3 id="json-pathクエリの例-1">JSON Pathクエリの例 1</h3>

<p>この例では、Jayway JsonPathクエリについて詳しく説明します。</p>

<ol>
  <li><strong>urlFile.json</strong> (app &gt; assetsにあります) を開きます。</li>
  <li>
    <p>最初のURLをコピーします。</p>

    <div class="language-html highlighter-rouge"><pre class="highlight"><code>http://www.lightcast.com/api/firetv/channels.php?app_id=257<span class="err">&amp;</span>app_key=0ojbgtfcsq12<span class="err">&amp;</span>action=channels_videos
</code></pre>
    </div>
  </li>
  <li>このURLをブラウザにコピーし、<strong>Return</strong>キーを押して内容を表示します。</li>
  <li>内容をコピーし、<a href="http://jsonprettyprint.com/">jsonprettyprint.com</a>などのツールを使用してJSONを整形します。</li>
  <li>整形されたJSONをコピーし、<a href="http://jsonpath.herokuapp.com/">Jayway JsonPath Evaluator</a>に貼り付けます。</li>
  <li>
    <p>[<strong>Go!</strong>] ボックスに、すべてのカテゴリを取得するクエリを入力します。</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>$..categories[*]
</code></pre>
    </div>
  </li>
  <li>
    <p>[<strong>Go!</strong>] をクリックします。</p>

    <p>フィードのすべてのカテゴリが結果に表示されます。</p>

    <div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">[</span><span class="w">
   </span><span class="s2">"Bahamas Islands"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Islands"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Islands"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Islands"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Islands"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Underwater"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Islands"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Islands"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Islands"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Attractions"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Islands"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Attractions"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Underwater"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Islands"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Attractions"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Islands"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Islands"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Attractions"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Weddings"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Weddings"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Attractions"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Underwater"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Islands"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Attractions"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Islands"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Weddings"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Islands"</span><span class="p">,</span><span class="w">
   </span><span class="s2">"Bahamas Underwater"</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
    </div>

    <p>このフィードの各メディアオブジェクトには、カテゴリのリストがあります。そのため、クエリを実行すると「Bahamas Islands」という結果が多数 (このカテゴリが含まれているメディアオブジェクトごとに 1 つずつ) 表示されます。</p>

    <figure><img class="docimage " src="docs_ja/firetv/fireappbuilder/images/fireappbuilder_jsonpath_evaluator.png" alt="JsonPath Evaluatorの例" /><figcaption>Jayway JsonPathクエリ構文を使用した、フィードのすべてのカテゴリの抽出</figcaption></figure>

    <p><code class="highlighter-rouge">$..categories[*]</code> という構文は、ルートディレクトリ (<code class="highlighter-rouge">$</code>) から開始し、すべてのサブディレクトリ (<code class="highlighter-rouge">..</code>) でキー<code class="highlighter-rouge">categories</code>を検索することを意味しています。このキーには配列 (<code class="highlighter-rouge">[]</code>) が含まれている必要がありますが、配列の内容は任意 (<code class="highlighter-rouge">*</code>) です。</p>

    <p>クエリを<code class="highlighter-rouge">$..title[*]</code> に変更すると何も一致しません。フィード内のtitleは配列を含んでいるキーではないためです。すべてのtitleを取得するには、<code class="highlighter-rouge">$..title</code>を使用します。</p>

    <p>Fire App BuilderコードのDynamicParserクラスによって、これらのカテゴリがマップに配置される際に重複が排除されます。</p>

    <div class="alert alert-success" role="alert"><i class="fa fa-check-square-o"></i> <b>Tip:</b> フィード内の特定の要素をターゲットにする際に使用できるさまざまなクエリの詳細については、JsonPathドキュメントの「<a href="https://github.com/jayway/JsonPath#path-examples">Path Examples</a>」を参照してください。</div>
  </li>
</ol>

<h3 id="json-pathクエリの例-2">JSON Pathクエリの例 2</h3>

<p>メディアのフィード構造の別の例を以下に示します。</p>

<div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">  
   </span><span class="nt">"total"</span><span class="p">:</span><span class="s2">"13"</span><span class="p">,</span><span class="w">
   </span><span class="nt">"results"</span><span class="p">:[</span><span class="w">  
      </span><span class="p">{</span><span class="w">  
         </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"45454333"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"title"</span><span class="p">:</span><span class="s2">"'Sample video title1"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"link"</span><span class="p">:</span><span class="s2">"http:\/\/example.com\/assets\/some\/media\/path\/myvideo1.mp4"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"pubDate"</span><span class="p">:</span><span class="s2">"Tue, 01 Oct 2016 18:29:52 +0530"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"media:thumbnail"</span><span class="p">:</span><span class="s2">"http:\/\/example.com\/assets\/some\/someimage1.jpg"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"media:duration"</span><span class="p">:</span><span class="s2">"1913"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"This is a sample description1"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"media:filepath"</span><span class="p">:</span><span class="s2">"http:\/\/example.com\/videos\/1234\/myvideo1.mp4"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"media:fullimage"</span><span class="p">:</span><span class="s2">"http:\/\/example.com\/videos\/1234\/thumbnail1.jpg"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"media:keywords"</span><span class="p">:</span><span class="s2">"some, sample, keywords,random"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="p">{</span><span class="w">  
         </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"44545333"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"title"</span><span class="p">:</span><span class="s2">"'Sample video title 2"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"link"</span><span class="p">:</span><span class="s2">"http:\/\/example.com\/assets\/some\/media\/path\/myvideo2.mp4"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"pubDate"</span><span class="p">:</span><span class="s2">"Tue, 01 Sep 2016 18:29:52 +0530"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"media:thumbnail"</span><span class="p">:</span><span class="s2">"http:\/\/example.com\/assets\/some\/someimage2.jpg"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"media:duration"</span><span class="p">:</span><span class="s2">"1945"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"This is a sample description 2"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"media:filepath"</span><span class="p">:</span><span class="s2">"http:\/\/example.com\/videos\/1234\/myvideo2.mp4"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"media:fullimage"</span><span class="p">:</span><span class="s2">"http:\/\/example.com\/videos\/1234\/thumbnail2.jpg"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"media:keywords"</span><span class="p">:</span><span class="s2">"some, sample, keywords,random"</span><span class="w">
      </span><span class="p">},</span><span class="w">
           </span><span class="p">{</span><span class="w">  
         </span><span class="nt">"id"</span><span class="p">:</span><span class="s2">"4543434333"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"title"</span><span class="p">:</span><span class="s2">"'Sample video title3"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"link"</span><span class="p">:</span><span class="s2">"http:\/\/example.com\/assets\/some\/media\/path\/myvideo3.mp4"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"pubDate"</span><span class="p">:</span><span class="s2">"Tue, 01 Aug 2016 18:29:52 +0530"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"media:thumbnail"</span><span class="p">:</span><span class="s2">"http:\/\/example.com\/assets\/some\/someimage3.jpg"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"media:duration"</span><span class="p">:</span><span class="s2">"1955"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"description"</span><span class="p">:</span><span class="s2">"This is a sample description"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"media:filepath"</span><span class="p">:</span><span class="s2">"http:\/\/example.com\/videos\/1234\/myvideo3.mp4"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"media:fullimage"</span><span class="p">:</span><span class="s2">"http:\/\/example.com\/videos\/1234\/thumbnail3.jpg"</span><span class="p">,</span><span class="w">
         </span><span class="nt">"media:keywords"</span><span class="p">:</span><span class="s2">"some, sample, keywords,random"</span><span class="w">
      </span><span class="p">}</span><span class="w">
      
   </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
</div>

<p>すべてのアイテムのmedia:thumbnailの値を選択したいとします。この場合は、次の構文を使用できます。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$..results[*].media:thumbnail
</code></pre>
</div>

<p>この構文は、ルートから開始してすべてのアイテムを再帰的に検索したうえで、結果の配列内のすべてを照合して<code class="highlighter-rouge">media:thumbnail</code>要素を選択します。以下の結果が返されます。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[
   "http://example.com/assets/some/someimage1.jpg",
   "http://example.com/assets/some/someimage2.jpg",
   "http://example.com/assets/some/someimage3.jpg"
]
</code></pre>
</div>

<h3 id="json-pathクエリの例-3">JSON Pathクエリの例 3</h3>

<p>この例では、Fire App Builderのフィードを使用する代わりに、より複雑なフィード構造から内容を取得します。</p>

<ol>
  <li>
    <p>以下のフィードをコピーし、<a href="http://jsonpath.herokuapp.com/">Jayway JsonPath Evaluator</a>に挿入します。</p>

    <div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="w">
</span><span class="nt">"brand"</span><span class="p">:</span><span class="w"> </span><span class="s2">"myChannel"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"version"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2.0"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"creationDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1462590933</span><span class="p">,</span><span class="w">

    </span><span class="nt">"containers"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movie.Container"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"subtype"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movies"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"common"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Movies"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"movies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"subtype"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movie"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"cat"</span><span class="p">:</span><span class="w"> </span><span class="s2">"romance"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"availableDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1351631300</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"expirationDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1364764900</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"common"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"authId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample Movie Title"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My sample subtitle for the movie"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is a description for the movie. It describes the basic plot and story."</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="s2">"Some"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"Tags"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"Here"</span><span class="w">
                        </span><span class="p">],</span><span class="w">
                        </span><span class="nt">"promotionalText"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"theshareURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://yourcompany.com/mymovieurl1"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"imageUrls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"1000x500_portal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.yourcompany.com/moviethumbl.jpg"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">},</span><span class="w">

        </span><span class="p">{</span><span class="w">
            </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movie.Container"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"subtype"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movies"</span><span class="p">,</span><span class="w">
            </span><span class="nt">"common"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Movies"</span><span class="w">
            </span><span class="p">},</span><span class="w">
            </span><span class="nt">"movies"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                </span><span class="p">{</span><span class="w">
                    </span><span class="nt">"subtype"</span><span class="p">:</span><span class="w"> </span><span class="s2">"movie"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"cat"</span><span class="p">:</span><span class="w"> </span><span class="s2">"adventure"</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"availableDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1351631400</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"expirationDate"</span><span class="p">:</span><span class="w"> </span><span class="mi">1364765900</span><span class="p">,</span><span class="w">
                    </span><span class="nt">"common"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                        </span><span class="nt">"authId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5678"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"title"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sample Movie Title 2"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"subtitle"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Another sample subtitle for the movie"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"description"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This is another sample movie title."</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"tags"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
                            </span><span class="s2">"Some"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"Tags"</span><span class="p">,</span><span class="w">
                            </span><span class="s2">"Here"</span><span class="w">
                        </span><span class="p">],</span><span class="w">
                        </span><span class="nt">"promotionalText"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"theshareURL"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://yourcompany.com/mymovieurl2"</span><span class="p">,</span><span class="w">
                        </span><span class="nt">"imageUrls"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                            </span><span class="nt">"1000x500_portal"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://www.yourcompany.com/moviethumb2.jpg"</span><span class="w">
                        </span><span class="p">}</span><span class="w">
                    </span><span class="p">}</span><span class="w">
                </span><span class="p">}</span><span class="w">
            </span><span class="p">]</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
    </div>
  </li>
  <li>
    <p>[<strong>Go!</strong>] ボックスに、以下を入力します。</p>

    <div class="highlighter-rouge"><pre class="highlight"><code>$.containers[?(@.type == 'movie.Container')].movies[*].cat
</code></pre>
    </div>

    <p>このクエリの意味は以下のとおりです。</p>

    <table>
      <thead>
        <tr>
          <th>クエリ構文</th>
          <th>意味</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code class="highlighter-rouge">$</code></td>
          <td>ルートレベルから開始する</td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">.containers[</code></td>
          <td>ルートレベルで (特定の内容を持つ) 配列が含まれたキー「containers」のすべてのインスタンスに一致する</td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">?(@.type == 'movie.Container')]</code>: タイプが<code class="highlighter-rouge">movie.Container</code>に等しいキー<code class="highlighter-rouge">type</code>に一致するフィルターを作成する</td>
          <td> </td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">.movies[*]</code></td>
          <td>配列<code class="highlighter-rouge">movies</code>内のすべての内容に一致する</td>
        </tr>
        <tr>
          <td><code class="highlighter-rouge">.cat</code></td>
          <td>配列<code class="highlighter-rouge">movies</code>内の<code class="highlighter-rouge">cat</code>に一致する</td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p>[<strong>Go!</strong>] をクリックします。</p>

    <p>結果として以下のcatが取得されます。</p>

    <div class="highlighter-rouge"><pre class="highlight"><code> [
    "romance",
    "adventure"
 ]
</code></pre>
    </div>
  </li>
</ol>

<h2 id="例-4">例 4</h2>

<p>フィード構造が以下のようなものであったとします。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>[
  {
    "ChannelLang": "English",
    "VideoId": "239870",
    "VidTitle": "Top Stories",
    "videoKeywords": "news, stories, crime,",
    "videoDescription": "This is my video description.",
    "slug": "top-news-stories",
    "duration": 4318,
    "image": "http:\/\/example.com\/2016\/11\/43434.jpg",
    "thumb": "http:\/\/example.com\/2016\/11\/43434_thumb.jpg",
    "vidUrl": "http:\/\/example.com\/2016\/10\/myvideo.mp4",
    "created": "2016-11-02 23:08:42",
    "vidcategory": "Adventure"
  },
  {
    "ChannelLang": "English",
    "VideoId": "239870",
    "VidTitle": "Top Stories",
    "videoKeywords": "news, stories, crime,",
    "videoDescription": "This is my video description.",
    "slug": "top-news-stories",
    "duration": 4318,
    "image": "http:\/\/example.com\/2016\/11\/43434.jpg",
    "thumb": "http:\/\/example.com\/2016\/11\/43434_thumb.jpg",
    "vidUrl": "http:\/\/example.com\/2016\/10\/myvideo.mp4",
    "created": "2016-11-02 23:08:42",
    "vidcategory": "Adventure"
  },
   {
     "ChannelLang": "English",
     "VideoId": "239870",
     "VidTitle": "Top Stories",
     "videoKeywords": "news, stories, crime,",
     "videoDescription": "This is my video description.",
     "slug": "top-news-stories",
     "duration": 4318,
     "image": "http:\/\/example.com\/2016\/11\/43434.jpg",
     "thumb": "http:\/\/example.com\/2016\/11\/43434_thumb.jpg",
     "vidUrl": "http:\/\/example.com\/2016\/10\/myvideo.mp4",
     "created": "2016-11-02 23:08:42",
     "vidcategory": "Adventure"
   }
]
</code></pre>
</div>

<p>カテゴリをターゲットにするクエリは以下のようになります。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>$..vidcategory
</code></pre>
</div>

<!-- common links -->


                    <div class="toc-main-column">
                        

                    </div>

            </div>
        </div><!--/.container-->


    </div><!--/.page-container-->
    
    <div class="footertop">
    <div class="container">
        <div class="col-md-6">
            <p></p>
        </div>
        <div class="col-md-6">
            <ul class="bottom_ul">
                <!--<li><a href="http://developer.amazon.com" class="noCrossRef productSubtitle"> Home</a> </li><li> <a href="index.html" class="noCrossRef productSubtitle"> Documentation</a></li><li>Fire App Builder</li>-->
        </div>
    </div>
</div>

<footer>
    <div class="container">
        <div class="row">
            <div class="col-md-4 col-sm-6 footerleft ">
                <div class="logofooter"> About the Developer Portal</div>
                <p>The Amazon Developer Portal provides documentation for developers creating apps for the Amazon
                    appstore, including Alexa skills. Apps include streaming media apps, game apps, and more. </p>
                <p><i class="fa fa-map-pin"></i> 1120 Enterprise Way, Sunnyvale, California</p>
                <p><i class="fa fa-envelope"></i> E-mail : someemail@amazon.com</p>

            </div>
            <div class="col-md-2 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Links</h6>
                <ul class="footer-ul">
                    <li><a href="#"> Doc index</a></li>
                    <li><a href="#"> Blog</a></li>
                    <li><a href="#"> Developer.amazon.com</a></li>
                    <li><a href="#"> AWS docs</a></li>
                    <li><a href="#"> Amazon Appstore</a></li>
                </ul>
            </div>

            <div class="col-md-3 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Amazon News</h6>
                <ul class="footer-ul">
                    <li><a href="#">Developer.amazon.com blog</a></li>
                    <li><a href="#">AWS blog</a></li>
                    <li><a href="#">Amazon newsroom</a></li>
                    <li><a href="#">Other Amazon blogs</a></li>
                </ul>
            </div>

            <div class="col-md-3 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Forums</h6>
                <ul class="footer-ul">
                    <li><a href="#">Amazon Underground</a></li>
                    <li><a href="#">General Android</a></li>
                    <li><a href="#">Amazon Dash Replenishment</a></li>
                    <li><a href="#">Merch by Amazon</a></li>
                    <li><a href="#">Alexa</a></li>
                    <li><a href="#">Amazon Fire Devices</a></li>
                    <li><a href="#">Appstore</a></li>
                    <li><a href="#">Mobile APIs and Services</a></li>
                </ul>
            </div>
        </div>
    </div>
    </div>
</footer>
<!--subfooter start from here -->

<div class="copyright">
    <div class="container">
        <div class="col-md-6">
            <p>© 2017 -  Amazon</p>
        </div>
        <div class="col-md-6">
            <ul class="bottom_ul">
                <li><a href="#">About us</a></li>
                <li><a href="#">Blog</a></li>
                <li><a href="#">Faq's</a></li>
                <li><a href="#">Contact us</a></li>
                <li><a href="#">Site Map</a></li>
            </ul>
        </div>
    </div>
</div>

    
    <!--scripts loaded here-->





</body>

</html>
