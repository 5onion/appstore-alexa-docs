<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <title>Send Recommendations that Include Amazon Extras | Fire TV</title>
    
    <base target="_self">
    <meta name="description" content="You create recommendations by creating ContentRecommendation objects through the ContentRecommendation.Builder() class. In addition to the attributes in this class, you can also include Amazon-specific extras to better integrate... " />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google" value="notranslate">
    <link rel="icon"  type="image/x-icon" href="favicon.ico">
<!--
    Licensed under the Apache License, Version 2.0 (the "License"). You may not use this file except in compliance with the License. A copy of the License is located at http://aws.amazon.com/apache2.0/ or in the "license" file accompanying this file. This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. This site also includes third-party software subject to various copyrights. The licenses for these third party components are referenced in the NOTICE file.
-->

    <!-- FontAwesome -->
   <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <!-- jQuery -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
    <!-- Navgoco -->
    <script type="text/javascript" src="assets/js/jquery.navgoco.min.js"></script>
    <!-- Bootstrap -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- TOC generator-->
    <script src="assets/js/toc.js"></script>
    <!-- Anchor JS -->
    
        <script src="assets/js/anchor.min.js"></script>
    

    <script>
        $( document ).ready(function() {
            $("#docnavsidebar").navgoco({
                caretHtml: '',
                accordion: false,
                openClass: 'open', // open
                save: true,
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 300,
                    easing: 'swing'
                }
            });
            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#docnavsidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#docnavsidebar").navgoco('toggle', true);
            });
        });

    </script>
    <script src="assets/js/customscripts.js"></script>

    <script>
        $(document).ready(function() {
            $('[data-toggle=offcanvas]').click(function() {
                $('.row-offcanvas').toggleClass('active');
            });
        });
    </script>


    <!--Bootstrap -->

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <style>
        ul#markdown-toc::before  {
        content: "Table of Contents"
         }
    </style>

</head>
<body class="default">
<div class="page-container">


    <!-- Top Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container topnavlinks">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="fa fa-bars fa-2x"></span>
                </button>
                <button type="button" class="navbar-toggle toggle-sidebar-button"  data-toggle="offcanvas" data-target=".sidebar-nav">
                    <span class="sidebarToggle fa fa-columns fa-2x"></span>
                </button>

                <a class="navbar-brand noCrossRef" href="https://developer.amazon.com/">
                    <img class="navbar-logo" src="amazonlogowhite.png"/>
            </div>

            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-left">

                    <!-- single item nav items appear here -->

                    
                    
                    
                    
                    <li><a href="index.html">Documentation Home</a></li>
                    
                    
                    <li><a href="https://github.com/amzn/appstore-alexa-docs/issues" class="noCrossRef">Log Doc Issue</a></li>
                    <li><a target="_blank" href="https://github.com/amzn/appstore-alexa-docs/blob/github-docs/_docs/firetv/getting_started/Recommendations/fire-tv-recommendations-send-recommendations.md" class="editButton noCrossRef"><i class="fa fa-github fa-lg"></i> Edit on GitHub</a></li>
                    
                    <li><a href="https://forums.developer.amazon.com/spaces/43/index.html" class="editButton noCrossRef">Fire TV Forum</a></li>
                    
                    
                    

                    <!-- drop-down nav items appear here -->

                    


                </ul>

                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <!--start search -->
                        <!--
                        <div id="search-demo-container">
                            <form action="search.html" method="get">
                                <input type="text" id="search-input" placeholder="Global Search ..." name="query">
                            </form>
                        </div>
                        -->
                        <!-- end search-->
                    </li>
                </ul>
            </div>

        </div>


        <!-- /.container -->
    </nav>


<div class="container">
        <div class="row row-offcanvas row-offcanvas-left">

            <!-- sidebar -->
            <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar" role="navigation">

                


<div class="mydocsidebar">
<div class="sidebar-inner">
<!-- search bar - uses Lunr.js  -->

<div class="sidebarSearchBar">
<form action="search-firetv.html" method="get">
  <div class="input-group search">
    <input type="text" id="search-box" name="query" class="form-control" placeholder="Product Search ...">
    <div class="input-group-btn">
      <button class="btn btn-default" type="submit" value="search">
        <i class="glyphicon glyphicon-search"></i>
      </button>
    </div>
  </div>
</form>
</div>

<!-- end search bar -->


<div class="productTitle">Fire TV</div>
<p class="external">
    <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
</p>



    <ul id="docnavsidebar" class="docnav">
    
    <li class="level1"><a href="#">Overview</a>
        <ul>
            

            
            
            <li class="level1items"><a href="getting-started-developing-apps-and-games-for-amazon-fire-tv.html">Get Started Developing Apps and Games for Fire TV</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="device-and-platform-specifications.html">Fire TV Device Specifications</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-tv-development-framework-comparison.html">Fire TV Development Frameworks: WASK and FireBuilder</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="amazon-fire-tv-differences-from-android-tv-development.html">How Fire TV Development Differs from Android TV Development</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="design-and-user-experience-guidelines.html">TV App Design UX Guidelines</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-tv-fire-os-overview.html">What Is Fire OS?</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="whats-new-in-the-fire-tv-sdk.html">What's New in Fire TV Development</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="amazon-fire-tv-sdk-frequently-asked-questions.html">Fire TV FAQs</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="submitting-your-fire-tv-app-to-the-amazon-appstore.html">Submitting Your Fire TV App to the Appstore</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Set Up Your Development Environment</a>
        <ul>
            

            
            
            <li class="level1items"><a href="setting-up-your-development-environment.html">Set Up Your Development Environment</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="connecting-adb-to-fire-tv-device.html">Connect to Fire TV through ADB</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="installing-and-running-your-app.html">Install and Run Your Fire TV App</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Controllers in Android Apps</a>
        <ul>
            

            
            
            <li class="level1items"><a href="supporting-controllers-on-amazon-fire-tv.html">Controllers Overview</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="amazon-fire-tv-remote-input.html">Remote Input</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="amazon-fire-game-controller-input.html">Game Controller Input</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="controller-input-with-unity.html">Controller Input with Unity</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="identifying-controllers.html">Identifying Controllers</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="controller-behavior-guidelines.html">Controller Behavior Guidelines</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="controller-image-assets.html">Controller Image Assets</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Development Best Practices</a>
        <ul>
            

            
            
            <li class="level1items"><a href="customizing-mouse-pointer.html">Mouse Pointers</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="display-and-layout.html">Display and Layout</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="user-agent-strings.html">User Agent Strings</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="managing-audio-focus.html">Managing Audio Focus</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-tv-media-players.html">Media Players</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="amazon-fire-tv-dolby-integration-guidelines.html">Dolby Integration</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="identifying-amazon-fire-tv-devices.html">Identifying Fire TV Devices</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-tv-handling-hdmi-events.html">HDMI Events</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-tv-4k-ultra-hd.html">4K Ultra HD Videos</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="user-interface.html">Android Menu and ActionBar widgets</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="dial-integration.html">DIAL Integration</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="implementing-search-fire-tv.html">Search</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="notifications-for-amazon-fire-tv.html">Notifications</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="specifying-installation-location.html">App Installation Location</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-tv-advertising-id.html">Advertising ID</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-tv-international-locales.html">Resources for International Locales</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Troubleshooting Fire TV Issues with Developer Tools</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-tv-system-xray-developer-tools.html">Developer Tool Options</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-tv-system-xray.html">System X-Ray</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-tv-system-xray-customized-metrics.html">Customize System X-Ray</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Accessibility</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-tv-assistive-technologies.html">Understanding Assistive Technologies for Fire OS</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-tv-accessibility.html">Implementing Accessibility in Fire OS</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-tv-preview-future-voiceview-accessibility-features.html">PREVIEW: Implementing Future VoiceView Accessibility Features</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Recommendations</a>
        <ul>
            

            
            
            <li class="level1items"><a href="fire-tv-recommendations-overview.html">Recommendations Overview</a></li>
            
            

            

            

            
            
            <li class="level1items open"><a href="fire-tv-recommendations-send-recommendations.html">Send Recommendations that Include Amazon Enhancements</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-tv-recommendations-testing.html">Test Your Recommendations</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-tv-recommendations-best-practices.html">Best Practices with Recommendations</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Build Webapps for Fire TV</a>
        <ul>
            

            
            
            <li class="level1items"><a href="getting-started-with-web-apps-for-fire-tv.html">Get Started with Web Apps</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="supporting-controllers-in-web-apps.html">Web App Controllers</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="the-web-app-starter-kit-for-fire-tv.html">Web App Starter Kit</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="customizing-your-fire-tv-web-app.html">Customize your App</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="migrating-your-web-app-to-fire-tv.html">Migrate Your App to Fire TV</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-tv-web-app-faq.html">Web App FAQ</a></li>
            
            

            

            
        </ul>

        

    </li>
</ul>

<hr class="resourceSeparator"></hr>
<div class="relatedResources">Related Resources</div>
<ul id="entrypages">
        
        <li><a class="noCrossRef" href="/integrating-your-catalog-with-fire-tv.html">Fire TV Catalog Integration</a></li>
        
        <li><a class="noCrossRef" href="/fire-app-builder-overview.html">Fire App Builder</a></li>
        
        <li><a class="noCrossRef" href="https://developer.amazon.com/app-testing-service">App Testing Service</a></li>
        
        <li><a class="noCrossRef" href="/appstore-understanding-submission.html">Appstore Publishing</a></li>
        
        <li><a class="noCrossRef" href="/getting-started-with-iap.html">In-App Purchasing API</a></li>
        
        <li><a class="noCrossRef" href="/understanding-the-amazon-fling-service">Fling SDK</a></li>
        
        <li><a class="noCrossRef" href="">Developer Portal Forums</a></li>
        
    </li>
</ul>
</div>
</div>
<script>$("li.open").parents('li').toggleClass("open");</script>






            </div>

            <!-- main area -->
            <div class="col-xs-12 col-sm-9 main">

                    <div class="subtitle"><a href="http://developer.amazon.com" class="noCrossRef productSubtitle"> Home</a> > <a href="index.html" class="noCrossRef productSubtitle"> Documentation</a> > Fire TV </div>

                    <h1>Send Recommendations that Include Amazon Extras</h1>

                    <p>You create recommendations by creating <code class="highlighter-rouge">ContentRecommendation</code> objects through the <code class="highlighter-rouge">ContentRecommendation.Builder()</code> class. In addition to the attributes in this class, you can also include Amazon-specific extras to better integrate with Fire TV.</p>

<ul id="markdown-toc">
  <li><a href="#documentation-for-creating-recommendations" id="markdown-toc-documentation-for-creating-recommendations">Documentation for Creating Recommendations</a></li>
  <li><a href="#sample-recommendation" id="markdown-toc-sample-recommendation">Sample Recommendation</a></li>
  <li><a href="#code-example-for-a-recommendation" id="markdown-toc-code-example-for-a-recommendation">Code Example for a Recommendation</a></li>
  <li><a href="#androidrecommendations" id="markdown-toc-androidrecommendations">Recommended Attributes for Android API code</a></li>
  <li><a href="#amazon-enhancements" id="markdown-toc-amazon-enhancements">Amazon Enhancements to Recommendations</a></li>
  <li><a href="#configuring-the-manifest" id="markdown-toc-configuring-the-manifest">Configuring the Manifest</a></li>
  <li><a href="#delete-recommendations" id="markdown-toc-delete-recommendations">Delete Recommendations</a></li>
  <li><a href="#next-steps" id="markdown-toc-next-steps">Next steps</a></li>
</ul>

<h2 id="documentation-for-creating-recommendations">Documentation for Creating Recommendations</h2>

<p>Amazon’s recommendations use the standard Android <code class="highlighter-rouge">ContentRecommendation.Builder</code> API. For full details, see the Android documentation on <a href="https://developer.android.com/training/tv/discovery/recommendations.html">Recommending TV Content</a> and the <a href="http://developer.android.com/reference/android/support/app/recommendation/ContentRecommendation.Builder.html"><code class="highlighter-rouge">ContentRecommendation.Builder</code></a> class.</p>

<p>In addition what’s included in the Android documentation, you can expand the recommendations functionality in your notification objects with <a href="#amazon-enhancements">Amazon-specific extras</a>. These extras help integrate the recommendations into Fire TV in deeper ways.</p>

<h2 id="sample-recommendation">Sample Recommendation</h2>

<p>Before diving into code examples, let’s look at a sample recommendation card. The numbers show several attributes set through the Android API and one Amazon extra.</p>

<figure><img class="docimage " src="docs/firetv/getting_started/images/firetv_recommendations-high-level.png" alt="" /></figure>

<div class="number_legend">
<img class="inline " src="docs/firetv/getting_started/images/firetv_one.png" alt="" />
 <a href="[setTitle](http://developer.android.com/reference/android/support/app/recommendation/ContentRecommendation.Builder.html#setTitle%28java.lang.String%29)">setTitle</a>. Sets the title for the recommendation. (Android API)<br />
<img class="inline " src="docs/firetv/getting_started/images/firetv_two.png" alt="" />
 <a href="[setText](http://developer.android.com/reference/android/support/app/recommendation/ContentRecommendation.Builder.html#setText%28java.lang.String%29)">setText</a>. Sets the description for the recommendation. (Android API)<br />
<img class="inline " src="docs/firetv/getting_started/images/firetv_three.png" alt="" />
 <a href="[setContentImage](http://developer.android.com/reference/android/support/app/recommendation/ContentRecommendation.Builder.html#setContentImage%28android.graphics.Bitmap%29)">setContentImage</a>. Sets the image used for the recommendation. (Android API)<br />

<img class="inline " src="docs/firetv/getting_started/images/firetv_four.png" alt="" />
 Sets an abbreviated name for your app, which is used in the launch menu. This is set by one of the Amazon <code class="highlighter-rouge">extra</code> fields: <code class="highlighter-rouge">com.amazon.extra.DISPLAY_NAME", "displayName"</code>.
</div>

<p>For example, if your app has a long name, such as “World Premier Association Videos,” this long title will be truncated in the launch menu. Instead of accepting the default truncation, you can specify the shortened name for your app through the Amazon extras (in this case, the <code class="highlighter-rouge">DISPLAY_NAME</code>).</p>

<h2 id="code-example-for-a-recommendation">Code Example for a Recommendation</h2>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> Before creating recommendations, you must add the <a href="https://developer.android.com/topic/libraries/support-library/packages.html#recommendation">Application Recommendation Support Library for TV</a> to the <code class="highlighter-rouge">dependencies</code> block of your app’s <strong>build.gradle</strong> file.</div>

<p>The following code shows how to create a <code class="highlighter-rouge">ContentRecommendation</code> object and <code class="highlighter-rouge">getNotificationObject</code> that includes Amazon extras:</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">mNotificationManager</span> <span class="o">=</span> <span class="o">(</span><span class="n">NotificationManager</span><span class="o">)</span> <span class="n">getSystemService</span><span class="o">(</span><span class="n">Context</span><span class="o">.</span><span class="na">NOTIFICATION_SERVICE</span><span class="o">);</span>
<span class="c1">//Sets an ID for the notification, so it can be updated</span>
<span class="kt">int</span> <span class="n">notifyID</span> <span class="o">=</span> <span class="n">int_value</span><span class="o">;</span>

<span class="n">ContentRecommendation</span> <span class="n">rec</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ContentRecommendation</span><span class="o">.</span><span class="na">Builder</span><span class="o">()</span>
        <span class="o">.</span><span class="na">setContentImage</span><span class="o">(</span><span class="n">myBitmap</span><span class="o">)</span> <span class="c1">// From API 23 this method also accepts Icon as argument.</span>
        <span class="o">.</span><span class="na">setBackgroundImageUri</span><span class="o">(</span><span class="n">myBackgroundImageUri</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setContentIntentData</span><span class="o">(</span><span class="n">ContentRecommendation</span><span class="o">.</span><span class="na">INTENT_TYPE_</span><span class="o">***,</span> <span class="n">mIntent</span><span class="o">,</span> <span class="n">mRequestCode</span><span class="o">,</span> <span class="n">mBundle</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setText</span><span class="o">(</span><span class="n">mText</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="n">mTitle</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setBadgeIcon</span><span class="o">(</span><span class="n">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.&lt;</span><span class="n">app_icon</span><span class="o">&gt;)</span>
        <span class="o">.</span><span class="na">setGenres</span><span class="o">(</span><span class="n">mGenres</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setContentTypes</span><span class="o">(</span><span class="n">mTypes</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setProgress</span><span class="o">(</span><span class="n">mMaxLength</span><span class="o">,</span><span class="n">mProgress</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setMaturityRating</span><span class="o">(</span><span class="n">mMaturityRating</span><span class="o">)</span><span class="c1">//This is optional if com.amazon.extra.MATURITY_RATING is filled.</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Notification</span> <span class="n">notification</span> <span class="o">=</span> <span class="n">rec</span><span class="o">.</span><span class="na">getNotificationObject</span><span class="o">(</span><span class="n">mContext</span><span class="o">);</span>

<span class="c1">//The additional Amazon extra values get added as follows:</span>

<span class="c1">//Assign a business name for the application which may be shown on the UI</span>
<span class="n">notification</span><span class="o">.</span><span class="na">extras</span><span class="o">.</span><span class="na">putString</span><span class="o">(</span><span class="s">"com.amazon.extra.DISPLAY_NAME"</span><span class="o">,</span> <span class="n">mDisplayName</span><span class="o">);</span>

<span class="c1">//Assign a Maturity rating to this recommendation</span>
<span class="n">notification</span><span class="o">.</span><span class="na">extras</span><span class="o">.</span><span class="na">putString</span><span class="o">(</span><span class="s">"com.amazon.extra.MATURITY_RATING"</span><span class="o">,</span> <span class="n">mMaturityRating</span><span class="o">);</span>

<span class="c1">//Specifies how recommendations from one app is ordered.</span>
<span class="n">notification</span><span class="o">.</span><span class="na">extras</span><span class="o">.</span><span class="na">putInt</span><span class="o">(</span><span class="s">"com.amazon.extra.RANK"</span><span class="o">,</span> <span class="n">mRank</span><span class="o">);</span>

<span class="c1">//Assign a long description to this recommendation</span>
<span class="n">notification</span><span class="o">.</span><span class="na">extras</span><span class="o">.</span><span class="na">putString</span><span class="o">(</span><span class="s">"com.amazon.extra.LONG_DESCRIPTION"</span><span class="o">,</span> <span class="n">mLongDescription</span><span class="o">);</span>

<span class="c1">//Assign a last watched time to this recommendation</span>
<span class="n">notification</span><span class="o">.</span><span class="na">extras</span><span class="o">.</span><span class="na">putLong</span><span class="o">(</span><span class="s">"com.amazon.extra.LAST_WATCHED_DATETIME"</span><span class="o">,</span> <span class="n">mLastWatchedTime</span><span class="o">);</span>

<span class="c1">//Assign a preview video or image URL of this recommendation</span>
<span class="n">notification</span><span class="o">.</span><span class="na">extras</span><span class="o">.</span><span class="na">putString</span><span class="o">(</span><span class="s">"com.amazon.extra.PREVIEW_URL"</span><span class="o">,</span> <span class="n">mPreviewUrl</span><span class="o">);</span>

<span class="n">mNotificationManager</span><span class="o">.</span><span class="na">notify</span><span class="o">(</span><span class="n">notifyID</span><span class="o">,</span> <span class="n">notification</span><span class="o">);</span>
</code></pre>
</div>

<div class="alert alert-success" role="alert"><i class="fa fa-check-square-o"></i> <b>Tip:</b> For more information on <code class="highlighter-rouge">setContentIntentData()</code>, see <a href="https://developer.android.com/reference/android/support/app/recommendation/ContentRecommendation.html"><code class="highlighter-rouge">ContentRecommendation</code></a>.</div>

<p>The Amazon extras are added to the notification object. More information for using the Android recommendations API and Amazon extras are provided in the following sections.</p>

<h2 id="androidrecommendations">Recommended Attributes for Android API code</h2>

<p>Follow these guidelines when using the <a href="https://developer.android.com/reference/android/support/app/recommendation/ContentRecommendation.Builder.html">ContentRecommendation.Builder</a> from the Android API. These guidelines will help your recommendations align with the look and feel of Fire TV.</p>

<table class="grid">
   <colgroup>
      <col width="35%" />
      <col width="50%" />
      <col width="15%" />
   </colgroup>
   <thead>
      <tr>
         <th>API</th>
         <th>Description</th>
         <th>Required</th>
      </tr>
   </thead>
   <tbody>
      <tr>
         <td><a href="http://developer.android.com/reference/android/support/app/recommendation/ContentRecommendation.Builder.html#setTitle(java.lang.String)"><code>setTitle</code></a>(java.lang.String)</td>
         <td>Sets the content title for the recommendation. The length limit is 125 characters. Additional text is truncated.</td>
         <td>Yes</td>
      </tr>
      <tr>
         <td><a href="http://developer.android.com/reference/android/support/app/recommendation/ContentRecommendation.Builder.html#setText(java.lang.String)"><code>setText</code></a>(java.lang.String)</td>
         <td>Sets the description text for the recommendation. The length limit is 125 characters. Additional text is truncated.</td>
         <td>Yes</td>
      </tr>
      <tr>
         <td><a href="http://developer.android.com/reference/android/support/app/recommendation/ContentRecommendation.Builder.html#setContentImage%28android.graphics.Bitmap%29"><code>setContentImage</code></a>(<a href="http://developer.android.com/reference/android/graphics/Bitmap.html">Bitmap image</a>)</td>
         <td>
            Use the following specifications for the large icon image:
            <ul>
               <li>Height: 252px</li>
               <li>Aspect ratio: 16:9 </li>
               <li>Title: Embedded within image</li>
               <li>Transparency: No transparency</li>
            </ul>
            <p>Recommendations without images either won't be displayed or will receive a default placeholder instead. Recommendations with an aspect ratio other than 16:9 will be letterboxed. (Letterboxing means black bars will appear along the sides or top to compensate for the empty space.)</p>
         </td>
         <td>Yes</td>
      </tr>
      <tr>
         <td><a href="http://developer.android.com/reference/android/support/app/recommendation/ContentRecommendation.Builder.html#setContentIntentData%28int,%20android.content.Intent,%20int,%20android.os.Bundle%29"><code>setContentIntentData</code></a>(int intentType, <a href="http://developer.android.com/reference/android/content/Intent.html">Intent</a> intent, int requestCode, <a href="http://developer.android.com/reference/android/os/Bundle.html">Bundle options</a>)</td>
         <td>
            Sets the data for the Intent that will be issued when the user clicks the recommendation. This pending intent deep links to the recommended content. When launched, the content plays.
            <p>The Intent data fields correspond to the fields passed into the <code>PendingIntent</code> factory methods. The actual <a href="http://developer.android.com/reference/android/app/PendingIntent.html">PendingIntent</a> object will  be created only at the time a recommendation is posted to the Fire TV Home screen.</p>
         </td>
         <td>Yes</td>
      </tr>
      <tr>
         <td><a href="https://developer.android.com/reference/android/support/app/recommendation/ContentRecommendation.Builder.html#setBadgeIcon(int)"><code>setBadgeIcon</code></a>(int iconResourceId)</td>
         <td>
            Sets the resource ID for the recommendation badging icon.
            <p>The resource id represents the icon resource in the source application package. If not set, or an invalid resource ID is specified, the application icon retrieved from its package will be used by default.</p>
         </td>
         <td>Yes</td>
         </tr>
      <tr>
         <td><a href="https://developer.android.com/reference/android/support/app/recommendation/ContentRecommendation.Builder.html#setGenres(java.lang.String[])"><code>setGenres</code></a>(String[] <a href="https://developer.android.com/reference/android/media/tv/TvContract.Programs.Genres.html">genres</a>) </td>
         <td>Sets the content genres for the recommendation. These genres may be used for content ranking. Genres are open ended String tags. Use the standard Android genres.</td>
         <td>No</td>
      </tr>
      <tr>
         <td><a href="https://developer.android.com/reference/android/support/app/recommendation/ContentRecommendation.Builder.html#setContentTypes(java.lang.String[])"><code>setContentTypes</code></a>(String[] types) </td>
         <td>Sets the content types associated with the content recommendation. The first tag entry will be considered the content's priority type and will be used for ranking. Other secondary type tags may be provided, if applicable, and can be used for filtering. Only standard Android <a href="https://developer.android.com/reference/android/support/app/recommendation/ContentRecommendation.html#CONTENT_TYPE_APP">content recommendation categories</a> are allowed.</td>
         <td>No</td>
      </tr>
      <tr>
         <td><a href="https://developer.android.com/reference/android/support/app/recommendation/ContentRecommendation.Builder.html?hl=ja#setProgress(int, int)"><code>setProgress</code></a>(int max, int progress) </td>
         <td>Sets the progress information for the content pointed to by the recommendation. The progress amount for the content must be in the range (0 - max). The unit is seconds.</td>
         <td>No</td>
      </tr>
      <tr>
         <td><a href="https://developer.android.com/reference/android/support/app/recommendation/ContentRecommendation.Builder.html#setBackgroundImageUri%28java.lang.String%29"><code>setBackgroundImageUri</code></a>(String imageUri) </td>
         <td>Sets the Content URI that will be used to retrieve the background image for the recommendation. 1080P / 16:9 image is recommended.</td>
         <td>Yes</td>
      </tr>
   </tbody>
</table>

<h2 id="amazon-enhancements">Amazon Enhancements to Recommendations</h2>

<p>The following table lists extras that you can add to your notification objects.</p>

<table class="grid">
   <colgroup>
   <col width="35%" />
   <col width="15%" />
   <col width="50%" />
   </colgroup>
   <thead>
      <tr>
         <th>Extra name</th>
         <th>Data type</th>
         <th>Details</th>
      </tr>
   </thead>
   <tbody>
      <tr>
         <td><code>com.amazon.extra.DISPLAY_NAME</code></td>
         <td>String</td>
         <td>A shorter app name displayed in the Launch menu (#4 in the earlier screenshot with annotations). The length limit is 15 characters. Additional characters are truncated.</td>
      </tr>
      <tr>
         <td><code>com.amazon.extra.MATURITY_RATING</code></td>
         <td>String</td>
         <td>Used by the Parental Control settings on Fire TV to determine if content playback needs to be behind a PIN. Any recommendation without this extra or without <code>setMaturityRating()</code> will be treated as Mature content and may require a PIN subject to the Parental Control settings on the device.
            <p>Currently, supported values are as follows:</p>
            <ul>
            <li><b>US Marketplace:</b> <code>G</code>, <code>PG</code>, <code>PG13</code>, <code>R</code>, <code>NC17</code>, <code>NR</code>, <code>TVY</code>, <code>TVY7</code>, <code>TVG</code>, <code>TVPG</code>, <code>TV14</code>, <code>TVMA</code></li>
            <li><b>German Marketplace:</b> <code>FSK0</code>, <code>FSK6</code>, <code>FSK12</code>, <code>FSK16</code>, <code>FSK18</code></li>
            <li><b>Great Britain Marketplace:</b> <code>BBFCPG</code>, <code>BBFC12</code>, <code>BBFC18</code>, <code>BBFCU</code></li>
            <li><b>Japan Marketplace:</b> <code>EIRIN_G</code>, <code>EIRIN_PG12</code>, <code>EIRIN_R15</code>, <code>EIRIN_18</code></li>
            </ul>
            </td>
      </tr>
      <tr>
               <td><code>com.amazon.extra.RANK</code></td>
               <td>int</td>
               <td>Specifies the application's preferred ordering of recommendations. Fire TV's selection algorithm selects recommendations with lower rank numbers more often than higher numbers. Note that there is no guarantee for the sort order of recommendations displayed from different apps.</td>
            </tr>
            <tr>
               <td><code>com.amazon.extra.ACTIONS</code></td>
               <td>ArrayList&lt;int&gt;</td>
               <td>Helps determine the context menu options displayed for each recommendation. Note that two context menu actions are supported, but only the first action is configurable.<p>When users click a recommendation tile or its first context menu option, Fire TV uses the corresponding content intent data passed with recommendation to launch the app.</p>
                <p>Possible values to include are as follows:</p>
                   <ul>
                   <li><code>1</code>: Watch with <code>&lt;App name&gt;</code></li>
                   <li><code>101</code>: Watch</li>
                   <li><code>2</code>: Resume with <code>&lt;App name&gt;</code></li>
                   <li><code>102</code>: Resume</li>
                   <li><code>3</code>: Switch <code>&lt;App name&gt;</code> Profile</li>
                   <li><code>4</code>: Change <code>&lt;App name&gt;</code> Settings</li>
                   <li><code>104</code>: Change Settings</li>
                   <li><code>5</code>: View with <code>&lt;App name&gt;</code></li>
                   <li><code>105</code>: View</li>
                   <li><code>6</code>: Play with <code>&lt;App name&gt;</code></li>
                   <li><code>106</code>: Play</li>
                   <li><code>7</code>: Listen with <code>&lt;App name&gt;</code></li>
                   <li><code>107</code>: Listen</li>
                   </ul>
                   <p>If no value is provided, the default action will be <code>Open</code>.</p>
              </td>
            </tr>
      <tr>
         <td><code>com.amazon.extra.LIVE_CONTENT</code></td>
         <td>int</td>
         <td>Helps determine whether a recommendation is live content and needs to be displayed or hidden based on <code>CONTENT_START_TIME</code> and <code>CONTENT_END_TIME</code>. Supported values are as follows:
             <ul>
             <li><code>0</code>: Not a Live content</li>
             <li><code>1</code>: Live Content</li>
            </ul>
          </td>
      </tr>
      <tr>
         <td><code>com.amazon.extra.CONTENT_RELEASE_DATE</code></td>
         <td>String</td>
         <td>Content release year. Example: 2016, 2015, 1977 etc. </td>
      </tr>
      <tr>
         <td><code>com.amazon.extra.CONTENT_CAPTION_AVAILABILITY</code></td>
         <td>String</td>
         <td>Caption availability of content.
             <ul>
             <li><b>0</b>: Caption not available for content</li>
             <li><b>1</b>: Caption available for content</li>
             </ul>
             </td>
      </tr>
      <tr>
         <td><code>com.amazon.extra.IMDB_ID</code></td>
         <td>String</td>
         <td>IMDB ID of content.</td>
      </tr>
      <tr>
         <td><code>com.amazon.extra.CONTENT_START_TIME</code></td>
         <td>long</td>
         <td>Start time in milliseconds (EPOCH).</td>
      </tr>
      <tr>
         <td><code>com.amazon.extra.CONTENT_END_TIME</code></td>
         <td>long</td>
         <td>End time in milliseconds (EPOCH).</td>
      </tr>
      <tr>
         <td><code>com.amazon.extra.TEXT_EMBEDDED_IMAGE</code></td>
         <td>int</td>
         <td>Whether recommendation image has text embedded on it.
             <ul>
             <li>0: Text not embedded</li>
             <li>1: Text embedded</li>
        </ul>
        </td>
      </tr>
      <tr>
        <td><code>com.amazon.extra.LONG_DESCRIPTION</code></td>
        <td>String</td>
        <td>Long description of a recommendation. Length is limited to 512 characters.</td>
      </tr>
      <tr>
        <td><code>com.amazon.extra.LAST_WATCHED_DATETIME</code></td>
        <td>long</td>
        <td>Last watched time of the recommended content in milliseconds (EPOCH).</td>
      </tr>
      <tr>
        <td><code>com.amazon.extra.PREVIEW_URL</code></td>
        <td>String</td>
        <td>Preview video or image URL for the recommendation.</td>
      </tr>
   </tbody>
</table>

<h2 id="configuring-the-manifest">Configuring the Manifest</h2>

<p>To send recommendations when the device boots up, your app must have the <code class="highlighter-rouge">RECEIVE_BOOT_COMPLETED</code> permission. This permission lets your app receive and handle the broadcast that tells the app  your device was booted.</p>

<p>To receive the broadcast, add the following permission (to your Android Manifest) as a child of the <code class="highlighter-rouge">&lt;manifest&gt;</code> element:</p>

<div class="language-xml highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;uses-permission</span> <span class="na">android:name=</span><span class="s">"android.permission.RECEIVE_BOOT_COMPLETED"</span><span class="nt">/&gt;</span>
</code></pre>
</div>

<p>The initial launch point for supporting recommendations is to create a subclass of <code class="highlighter-rouge">BroadcastReceiver</code>. In the manifest, register the receiver as handling the <code class="highlighter-rouge">ACTION_BOOT_COMPLETED</code> intent. When the system first boots up, all applications that are interested will get an initial ‘ping’ to generate their recommendations.</p>

<p>For the broadcast to work reliably, make sure your app is not installed on external storage.  Refer to the following for more details about storage locations:</p>

<ul>
  <li><a href="specifying-installation-location.html">Specifying Your App’s Installation Location</a></li>
  <li><a href="http://developer.android.com/guide/topics/data/install-location.html#ShouldNot">App install location</a></li>
  <li><a href="http://developer.android.com/guide/topics/manifest/manifest-element.html#install">android:installLocation manifest attribute</a></li>
</ul>

<h2 id="delete-recommendations">Delete Recommendations</h2>

<p>As a best practice, delete recommendations after users watch the recommended content. You can call <a href="http://developer.android.com/reference/android/app/NotificationManager.html#cancel%28int%29">cancel()</a> for a specific notification ID to delete the recommendation.</p>

<p>The following code sample shows how to delete recommendations:</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="n">Notification</span> <span class="n">notification</span> <span class="o">=</span> <span class="n">rec</span><span class="o">.</span><span class="na">getNotificationObject</span><span class="o">(</span><span class="n">mContext</span><span class="o">);</span>
<span class="c1">//Use the same notification id which you used while creating this notification</span>
<span class="n">notification</span><span class="o">.</span><span class="na">cancel</span><span class="o">(</span><span class="n">notifyID</span><span class="o">);</span>
</code></pre>
</div>

<h2 id="next-steps">Next steps</h2>

<p>To learn more, see the following:</p>

<ul>
  <li><a href="fire-tv-recommendations-overview.html">Recommendations Overview</a></li>
  <li><a href="fire-tv-recommendations-testing.html">Test Your Recommendations</a></li>
  <li><a href="fire-tv-recommendations-send-recommendations.html">Best Practices for Recommendations</a></li>
</ul>




            </div>
        </div><!--/.container-->


    </div><!--/.page-container-->
    
    <div class="footertop">
    <div class="container">
        <div class="col-md-6">
            <p></p>
        </div>
        <div class="col-md-6">
            <ul class="bottom_ul">
        </div>
    </div>
</div>

<footer>
    <div class="container">
        <div class="row">
            <div class="col-md-4 col-sm-6 footerleft ">
                <div class="logofooter"> About the Developer Portal</div>
                <p>The Amazon Developer Portal provides documentation for developers creating apps for the Amazon
                    appstore, including Alexa skills. Apps include streaming media apps, game apps, skills, and more. </p>

            </div>
            <div class="col-md-2 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Links</h6>
                <ul class="footer-ul">
                    <li><a class="noCrossRef" href="https://developer.amazon.com/"> Developer Portal</a></li>
                    <li><a class="noCrossRef" href="/index.html">Documentation Home</a></li>
                    <li class="noCrossRef"><a href="https://developer.amazon.com/support"> Support</a></li>
                    <li class="noCrossRef"><a href="https://aws.amazon.com/documentation/"> AWS docs</a></li>
                    <li class="noCrossRef"><a href="https://www.amazon.com/mobile-apps/b?ie=UTF8&node=2350149011"> Amazon Appstore</a></li>
                </ul>
            </div>

            <div class="col-md-3 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Amazon News</h6>
                <ul class="footer-ul">
                    <li class="noCrossRef"><a href="https://developer.amazon.com/blogs"> Blog</a></li>
                    <li class="noCrossRef"><a href="https://www.youtube.com/channel/UCT9ApARFgQJOeqD-ygmxnJQ"> YouTube</a></li>
                    <li class="noCrossRef"><a href="https://twitter.com/AmazonAppDev"> Twitter</a></li>
                    <li class="noCrossRef"><a href="http://phx.corporate-ir.net/phoenix.zhtml?p=irol-mediahome&c=176060"> Amazon Press Room</a></li>
                </ul>
            </div>

            <div class="col-md-3 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Forums</h6>
                <ul class="footer-ul">
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/23/index.html"> Alexa Skills Kit</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/33/index.html"> Smart Home Skill API</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/38/index.html"> Alexa Voice Service</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/167/index.html"> Appstore</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/12/index.html"> Underground</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/166/index.html"> Fire Devices</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/61/index.html"> Dash</a></li>
                </ul>
            </div>
        </div>
    </div>
    </div>
</footer>
<!--subfooter start from here -->

<div class="copyright">
    <div class="container">
        <div class="col-md-12">
            <p>© 1996-2017, Amazon.com, Inc. or its affiliates</p>
        </div>
    </div>
</div>

    
    <!--scripts loaded here-->



</body>

</html>
