<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    
    <title>Integrating Your App with the Fire TV Home Screen Launcher | Fire TV Catalog</title>
    
    <base target="_self">
    <meta name="description" content="Modifying your app to be used with Amazon Fire TV’s home screen launcher integrates your media content and your users’ subscription statuses with other content in the Amazon Fire TV... " />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google" value="notranslate">
    <link rel="icon"  type="image/x-icon" href="favicon.ico">
<!--
    Licensed under the Apache License, Version 2.0 (the "License"). You may not use this file except in compliance with the License. A copy of the License is located at http://aws.amazon.com/apache2.0/ or in the "license" file accompanying this file. This file is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. This site also includes third-party software subject to various copyrights. The licenses for these third party components are referenced in the NOTICE file.
-->

    <!-- FontAwesome -->
   <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
    <!-- jQuery -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.js"></script>
    <!-- Navgoco -->
    <script type="text/javascript" src="assets/js/jquery.navgoco.min.js"></script>
    <!-- Bootstrap -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <!-- TOC generator-->
    <script src="assets/js/toc.js"></script>
    <!-- Anchor JS -->
    
        <script src="assets/js/anchor.min.js"></script>
    

    <script>
        $( document ).ready(function() {
            $("#docnavsidebar").navgoco({
                caretHtml: '',
                accordion: false,
                openClass: 'open', // open
                save: true,
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 300,
                    easing: 'swing'
                }
            });
            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#docnavsidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#docnavsidebar").navgoco('toggle', true);
            });
        });

    </script>
    <script src="assets/js/customscripts.js"></script>

    <script>
        $(document).ready(function() {
            $('[data-toggle=offcanvas]').click(function() {
                $('.row-offcanvas').toggleClass('active');
            });
        });
    </script>


    <!--Bootstrap -->

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/main.css" />
    <style>
        ul#markdown-toc::before  {
        content: "Table of Contents"
         }
    </style>

</head>
<body class="default">
<div class="page-container">


    <!-- Top Navigation -->
    <nav class="navbar navbar-default navbar-fixed-top">
        <div class="container topnavlinks">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="fa fa-bars fa-2x"></span>
                </button>
                <button type="button" class="navbar-toggle toggle-sidebar-button"  data-toggle="offcanvas" data-target=".sidebar-nav">
                    <span class="sidebarToggle fa fa-columns fa-2x"></span>
                </button>

                <a class="navbar-brand noCrossRef" href="https://developer.amazon.com/">
                    <img class="navbar-logo" src="amazonlogowhite.png"/>
            </div>

            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-left">

                    <!-- single item nav items appear here -->

                    
                    
                    
                    
                    <li><a href="index.html">Documentation Home</a></li>
                    
                    
                    <li><a href="https://github.com/amzn/appstore-alexa-docs/issues" class="noCrossRef">Log Doc Issue</a></li>
                    <li><a target="_blank" href="https://github.com/amzn/appstore-alexa-docs/blob/github-docs/_docs/firetv/catalog/launcher-integration.md" class="editButton noCrossRef"><i class="fa fa-github fa-lg"></i> Edit on GitHub</a></li>
                    
                    <li><a href="https://forums.developer.amazon.com/spaces/43/index.html" class="editButton noCrossRef">Fire TV Forum</a></li>
                    
                    
                    

                    <!-- drop-down nav items appear here -->

                    


                </ul>

                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <!--start search -->
                        <!--
                        <div id="search-demo-container">
                            <form action="search.html" method="get">
                                <input type="text" id="search-input" placeholder="Global Search ..." name="query">
                            </form>
                        </div>
                        -->
                        <!-- end search-->
                    </li>
                </ul>
            </div>

        </div>


        <!-- /.container -->
    </nav>


<div class="container">
        <div class="row row-offcanvas row-offcanvas-left">

            <!-- sidebar -->
            <div class="col-xs-6 col-sm-3 sidebar-offcanvas" id="sidebar" role="navigation">

                


<div class="mydocsidebar">
<div class="sidebar-inner">
<!-- search bar - uses Lunr.js  -->

<div class="sidebarSearchBar">
<form action="search-catalog.html" method="get">
  <div class="input-group search">
    <input type="text" id="search-box" name="query" class="form-control" placeholder="Product Search ...">
    <div class="input-group-btn">
      <button class="btn btn-default" type="submit" value="search">
        <i class="glyphicon glyphicon-search"></i>
      </button>
    </div>
  </div>
</form>
</div>

<!-- end search bar -->


<div class="productTitle">Fire TV Catalog Integration</div>
<p class="external">
    <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
</p>



    <ul id="docnavsidebar" class="docnav">
    
    <li class="level1"><a href="#">Getting Started</a>
        <ul>
            

            
            
            <li class="level1items"><a href="integrating-your-catalog-with-fire-tv.html">Catalog Integration Overview</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="understanding-fire-tv-catalog-integration.html">Understanding Catalog Integration</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="getting-started-catalog-integration.html">Getting Started with Catalog Integration</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="about-the-cdf.html">About the Catalog Data Format (CDF)</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="setting-up-your-aws-account-for-fire-tv-catalog-integration.html">Setting Up Your AWS Account</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="fire-tv-catalog-integration-faqs.html">Catalog Integration FAQs</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Integration</a>
        <ul>
            

            
            
            <li class="level1items"><a href="uploading-your-catalog.html">Uploading Your Catalog</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="receiving-and-understanding-the-catalog-ingestion-report.html">Catalog Ingestion Reports</a></li>
            
            

            

            

            
            
            <li class="level1items open"><a href="launcher-integration.html">Integrating with the Launcher</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="test-cases-for-verifying-deep-links-from-your-fire-tv-catalog.html">Verifying Fire TV Deep Links</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Testing</a>
        <ul>
            

            
            
            <li class="level1items"><a href="testing-launcher-integration-with-adb.html">Testing Launcher Integration with ADB</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="testing-launcher-integration-with-the-test-app.html">Testing Launcher Integration with the Test App</a></li>
            
            

            

            

            
            
            <li class="level1items"><a href="catalog-data-format-ingestion-report-messages.html">Ingestion Report Messages</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Migration</a>
        <ul>
            

            
            
            <li class="level1items"><a href="migrating-a-cdf-file-to-the-latest-version.html">Migrating CDF Versions</a></li>
            
            

            

            
        </ul>

        
    <li class="level1"><a href="#">Catalog Data Format Reference</a>
        <ul>
            

            
            
            <li class="level1items"><a href="catalog-data-format-schema-reference.html">CDF Schema Reference</a></li>
            
            

            

            

            
            
            <li class="level1items"><a  class="noCrossRef" href="https://s3.amazonaws.com/com.amazon.aftb.cdf/catalog.xsd">CDF Schema Definition (XSD)</a></li>
            
            

            

            

            
            
            <li class="level1items"><a  class="noCrossRef" href="https://s3.amazonaws.com/com.amazon.aftb.cdf/cdf-examples.zip">CDF Examples (ZIP)</a></li>
            
            

            

            
        </ul>

        

    </li>
</ul>

<hr class="resourceSeparator"></hr>
<div class="relatedResources">Other Resources</div>
<ul id="entrypages">
        
        <li><a class="noCrossRef" href="/getting-started-developing-apps-and-games-for-amazon-fire-tv.html">Fire TV</a></li>
        
        <li><a class="noCrossRef" href="/fire-app-builder-overview.html">Fire App Builder</a></li>
        
        <li><a class="noCrossRef" href="/setting-up-your-development-environment-for-fire-tablets.html">Fire Tablets</a></li>
        
        <li><a class="noCrossRef" href="/fire-os-overview.html">Fire OS</a></li>
        
        <li><a class="noCrossRef" href="/environment.html">HTML5 Web API</a></li>
        
        <li><a class="noCrossRef" href="/appstore-understanding-submission">Appstore Publishing</a></li>
        
        <li><a class="noCrossRef" href="/getting-started-with-iap">In-App Purchasing API</a></li>
        
        <li><a class="noCrossRef" href="/understanding-the-amazon-fling-service">Fling SDK</a></li>
        
        <li><a class="noCrossRef" href="/obtaining-an-access-token-for-the-developer-publishing-api">Developer Publishing API</a></li>
        
        <li><a class="noCrossRef" href="">Developer Portal Forums</a></li>
        
    </li>
</ul>
</div>
</div>
<script>$("li.open").parents('li').toggleClass("open");</script>






            </div>

            <!-- main area -->
            <div class="col-xs-12 col-sm-9 main">

                    <div class="subtitle"><a href="http://developer.amazon.com" class="noCrossRef productSubtitle"> Home</a> > <a href="index.html" class="noCrossRef productSubtitle"> Documentation</a> > Fire TV Catalog </div>

                    <h1>Integrating Your App with the Fire TV Home Screen Launcher</h1>

                    <p>Modifying your app to be used with Amazon Fire TV’s home screen launcher integrates your media content and your users’ subscription statuses with other content in the Amazon Fire TV user interface. This process is also known as “deep linking” Amazon Fire TV’s content to your content. This deep linking is the other major piece (in addition to <a href="uploading-your-catalog.html">uploading your catalog</a>) in integrating your app’s catalog with Fire TV.</p>

<p>This page describes the required app changes to integrate your catalog with the Fire TV home screen launcher. After you have modified your app, test your integration before re-publishing your app. See <a href="testing-launcher-integration-with-adb.html">Testing Launcher Integration with ADB</a> and <a href="testing-launcher-integration-with-the-test-app.html">Testing Fire TV Launcher Integration with the Integration Test App</a> for information.</p>

<ul id="markdown-toc">
  <li><a href="#process-overview" id="markdown-toc-process-overview">Process Overview</a></li>
  <li><a href="#step-1-broadcast-an-intent-from-your-app-containing-its-capabilities" id="markdown-toc-step-1-broadcast-an-intent-from-your-app-containing-its-capabilities">Step 1: Broadcast An Intent From Your App Containing Its Capabilities</a>    <ul>
      <li><a href="#types-of-intents-playback-and-sign-in-intents" id="markdown-toc-types-of-intents-playback-and-sign-in-intents">Types of Intents: Playback and Sign-in Intents</a></li>
      <li><a href="#building-and-sending-an-intent" id="markdown-toc-building-and-sending-an-intent">Building and Sending an Intent</a></li>
      <li><a href="#intent-extras" id="markdown-toc-intent-extras">Intent Extras</a></li>
      <li><a href="#examples" id="markdown-toc-examples">Examples</a></li>
    </ul>
  </li>
  <li><a href="#step-2-receive-capability-requests-from-the-launcher" id="markdown-toc-step-2-receive-capability-requests-from-the-launcher">Step 2: Receive Capability Requests from the Launcher</a></li>
  <li><a href="#step-3-handling-playback-and-sign-in-intents-from-the-launcher" id="markdown-toc-step-3-handling-playback-and-sign-in-intents-from-the-launcher">Step 3: Handling Playback and Sign In Intents from the Launcher</a></li>
  <li><a href="#step-4-add-error-handling-code-to-deal-with-sync-issues-between-your-catalog-and-available-content" id="markdown-toc-step-4-add-error-handling-code-to-deal-with-sync-issues-between-your-catalog-and-available-content">Step 4: Add Error-handling Code to Deal with Sync Issues Between Your Catalog and Available Content</a></li>
  <li><a href="#step-5-configure-the-android-manifest" id="markdown-toc-step-5-configure-the-android-manifest">Step 5: Configure the Android Manifest</a>    <ul>
      <li><a href="#add-intent-filters-for-playback-and-sign-in" id="markdown-toc-add-intent-filters-for-playback-and-sign-in">Add Intent Filters for Playback and Sign in</a></li>
      <li><a href="#add-a-receiver-for-launcher-requests" id="markdown-toc-add-a-receiver-for-launcher-requests">Add a Receiver for Launcher Requests</a></li>
      <li><a href="#add-permissions" id="markdown-toc-add-permissions">Add Permissions</a></li>
    </ul>
  </li>
  <li><a href="#step-6-test-your-launcher-integration" id="markdown-toc-step-6-test-your-launcher-integration">Step 6: Test Your Launcher Integration</a></li>
</ul>

<h2 id="process-overview">Process Overview</h2>

<p>There are five steps to integrate your app with the home screen launcher:</p>

<ol>
  <li>Broadcast an Android Intent that contains the user’s subscription status and other information about your app’s capabilities.</li>
  <li>Receive capability requests from the launcher and respond with the same information in Step 1.</li>
  <li>Receive playback or sign in requests from the launcher.</li>
  <li>Add error-handling code to deal with sync issues between your catalog and available content.</li>
  <li>Configure your Android manifest to handle all of these changes.</li>
  <li>Validate your launcher integration.</li>
  <li>Re-publish your updated app to make your changes available to your user base.</li>
</ol>

<p>Your app is still responsible for:</p>

<ul>
  <li>Playback and sign-in Activities and behavior.</li>
  <li>Management of users’ subscription status with your service.</li>
</ul>

<h2 id="step-1-broadcast-an-intent-from-your-app-containing-its-capabilities">Step 1: Broadcast An Intent From Your App Containing Its Capabilities</h2>

<p>To play your content, the Fire TV home screen launcher needs user information from your app to be able to later play your content or to request that the user sign in to your service. Your app must send this information as an Android broadcast Intent at these times:</p>

<ul>
  <li>Each time your app starts up.</li>
  <li>When the launcher requests it (see Step 2).</li>
  <li>When your user’s subscription status changes, for example, if they sign into or out of your service.</li>
</ul>

<h3 id="types-of-intents-playback-and-sign-in-intents">Types of Intents: Playback and Sign-in Intents</h3>

<p>For Fire TV Launcher integration and deep-linking, create two different types of Android Intents, which your app will need to broadcast:</p>

<ul>
  <li><strong>Sign-In Intents</strong>: Broadcast a sign-in Intent if the current user is not signed in to your app.</li>
  <li><strong>Playback Intents</strong>: Broadcast a playback Intent if the current user is already signed in to your app, such as when a user has just signed in to or activates your app.</li>
</ul>

<p>Use these two Intent types to communicate your app’s capabilities to Amazon Fire TV.</p>

<h3 id="building-and-sending-an-intent">Building and Sending an Intent</h3>

<p>To broadcast your app’s capabilities, build a standard Android Intent, and send it to the app’s context with the <a href="http://developer.android.com/reference/android/content/Context.html#sendBroadcast%28android.content.Intent%29"><code class="highlighter-rouge">sendBroadcast()</code></a> method. When you construct your Intent:</p>

<ul>
  <li>Name the Intent package <code class="highlighter-rouge">com.amazon.tv.launcher</code>.</li>
  <li>Set the Intent action to <code class="highlighter-rouge">com.amazon.device.CAPABILITIES</code>.</li>
  <li>Specify all other Intent information as Intent extras.</li>
</ul>

<p>The following example shows a sample <code class="highlighter-rouge">BroadcastCapabilities()</code> method that broadcasts different Intent extras based on a Boolean <code class="highlighter-rouge">userIsSignedIn</code> variable. All values in this example are sample data and must be replaced with your own values.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">BroadcastCapabilities</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">)</span>
<span class="o">{</span>
    <span class="n">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Intent</span><span class="o">();</span>
    <span class="n">intent</span><span class="o">.</span><span class="na">setPackage</span><span class="o">(</span><span class="s">"com.amazon.tv.launcher"</span><span class="o">);</span>
    <span class="n">intent</span><span class="o">.</span><span class="na">setAction</span><span class="o">(</span><span class="s">"com.amazon.device.CAPABILITIES"</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">userIsSignedIn</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">"amazon.intent.extra.PLAY_INTENT_ACTION"</span><span class="o">,</span><span class="s">"android.intent.action.VIEW"</span><span class="o">);</span>
        <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">"amazon.intent.extra.PLAY_INTENT_PACKAGE"</span><span class="o">,</span><span class="s">"com.contentcompany.player"</span><span class="o">);</span>
        <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">"amazon.intent.extra.PLAY_INTENT_CLASS"</span><span class="o">,</span><span class="s">"com.contentcompany.player.PlayActivity"</span><span class="o">);</span>
        <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">"amazon.intent.extra.PLAY_INTENT_FLAGS"</span><span class="o">,</span> <span class="n">Intent</span><span class="o">.</span><span class="na">FLAG_ACTIVITY_NEW_TASK</span> <span class="o">|</span> <span class="n">Intent</span><span class="o">.</span><span class="na">MORE_FLAGS</span><span class="o">);</span>
    <span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
        <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">"amazon.intent.extra.SIGNIN_INTENT_ACTION"</span><span class="o">,</span><span class="s">"android.intent.action.VIEW"</span><span class="o">);</span>
        <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">"amazon.intent.extra.SIGNIN_INTENT_PACKAGE"</span><span class="o">,</span><span class="s">"com.contentcompany.player"</span><span class="o">);</span>
        <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">"amazon.intent.extra.SIGNIN_INTENT_CLASS"</span><span class="o">,</span><span class="s">"com.contentcompany.player.SignInActivity"</span><span class="o">);</span>
        <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">"amazon.intent.extra.SIGNIN_INTENT_FLAGS"</span><span class="o">,</span> <span class="n">Intent</span><span class="o">.</span><span class="na">FLAG_ACTIVITY_NEW_TASK</span> <span class="o">|</span> <span class="n">Intent</span><span class="o">.</span><span class="na">MORE_FLAGS</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="s">"amazon.intent.extra.PARTNER_ID"</span><span class="o">,</span><span class="s">"contentcompany"</span><span class="o">);</span>

    <span class="c1">//Send the intent to the Launcher</span>
    <span class="n">context</span><span class="o">.</span><span class="na">sendBroadcast</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
<span class="o">}</span>
</code></pre>
</div>

<h3 id="intent-extras">Intent Extras</h3>

<p>Specify the capabilities of your app in the keys and values of the extras field, using the <a href="http://developer.android.com/reference/android/content/Intent.html#putExtra%28java.lang.String,%20java.lang.String%29"><code class="highlighter-rouge">Intent.putExtra()</code></a> method. All of the Intent extras have a prefix package of <code class="highlighter-rouge">amazon.intent.extra</code>.</p>

<p>The following table shows the all required Intent extras and the specific extras for playback and sign-in. All of the Intent extra values are prefixed with <code class="highlighter-rouge">amazon.intent.extra</code>.</p>

<table>
  <tbody>
    <tr>
      <td><code class="highlighter-rouge">PARTNER_ID</code></td>
      <td>Always</td>
      <td>Your Partner ID (supplied by Amazon) is the same ID that you use for catalog integration in the Partner field of your CDF file. Note that this ID is unique to your app, not to an individual or organization; if you or your organization has multiple Fire TV apps, each app will all have different Partner IDs.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">DATA_EXTRA_NAME</code></td>
      <td>Conditional</td>
      <td>The name of the extra containing the content ID for your data, for example, titleData. Specify this value only if your content ID is not described by a URI. If your content ID is not in URI format (for example, <code class="highlighter-rouge">123456</code>), use <code class="highlighter-rouge">DATA_EXTRA_NAME</code> to indicate the name of the Intent extra the launcher should use for that ID. See Step 3 for more information. Access that content ID with the <a href="http://developer.android.com/reference/android/content/Intent.html#getStringExtra%28java.lang.String%29"><code class="highlighter-rouge">Intent.getStringExtra()</code></a> method.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PLAY_INTENT_ACTION</code></td>
      <td>If user is signed in</td>
      <td>For playback Intents, the Intent action the launcher sends, usually <code class="highlighter-rouge">android.intent.action.VIEW</code>.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PLAY_INTENT_PACKAGE</code></td>
      <td>If user is signed in</td>
      <td>For playback Intents, the package for your app, for example <code class="highlighter-rouge">com.contentcompany.player</code>.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PLAY_INTENT_CLASS</code></td>
      <td>If user is signed in</td>
      <td>For playback Intents, the full package and class name of your app, for example, <code class="highlighter-rouge">com.contentcompany.player.PlayActivity</code>.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">PLAY_INTENT_FLAGS</code></td>
      <td>If user is signed in</td>
      <td>For playback Intents, any flags your app needs from the Intent, as an integer. See the Android reference guide for <a href="http://developer.android.com/reference/android/content/Intent.html">Intent</a> for possible flag values.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SIGNIN_INTENT_ACTION</code></td>
      <td>If user is signed out</td>
      <td>For sign in Intents, the Intent action the launcher sends, usually <code class="highlighter-rouge">android.intent.action.VIEW</code>.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SIGNIN_INTENT_PACKAGE</code></td>
      <td>If user is signed out</td>
      <td>For sign in Intents, the package for your app, for example <code class="highlighter-rouge">com.contentcompany.player</code>.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SIGNIN_INTENT_CLASS</code></td>
      <td>If user is signed out</td>
      <td>For sign in Intents, the class name of your app, for example, <code class="highlighter-rouge">SignInActivity</code>.</td>
    </tr>
    <tr>
      <td><code class="highlighter-rouge">SIGNIN_INTENT_FLAGS</code></td>
      <td>If user is signed out</td>
      <td>For sign in Intents, any flags your app needs from the Intent, as an integer. See the Android reference guide for <a href="http://developer.android.com/reference/android/content/Intent.html">Intent</a> for possible flag values.</td>
    </tr>
  </tbody>
</table>

<p>Two extras are always required:</p>

<ul>
  <li>Your Amazon-provided partner ID (<code class="highlighter-rouge">PARTNER_ID</code>). This is the same ID you use for catalog integration.</li>
  <li>The display name of your app (<code class="highlighter-rouge">DISPLAY_NAME</code>). The display name is used by the launcher to label the playback or sign in button on a given title.</li>
</ul>

<p>The remainder of the Intent extras vary based on whether or not the user is authorized to play your content (they are signed in), or if they need to sign in before proceeding.</p>

<ul>
  <li>If the user is signed in, extras with the <code class="highlighter-rouge">PLAY_</code> prefix are required.</li>
  <li>If the user is not signed in, extras with the <code class="highlighter-rouge">SIGNIN_</code> prefix are required.</li>
</ul>

<h3 id="examples">Examples</h3>

<p>For example, when a user signs in or activates your app, send an Intent with the following extras:</p>

<ul>
  <li><code class="highlighter-rouge">PARTNER_ID</code></li>
  <li><code class="highlighter-rouge">DISPLAY_NAME</code></li>
  <li><code class="highlighter-rouge">PLAY_INTENT_ACTION</code></li>
  <li><code class="highlighter-rouge">PLAY_INTENT_PACKAGE</code></li>
  <li><code class="highlighter-rouge">PLAY_INTENT_CLASS</code></li>
  <li><code class="highlighter-rouge">PLAY_INTENT_FLAGS</code></li>
</ul>

<p>In another example, if the launcher requests your app’s capabilities, and the user is not signed in, send an Intent with the following extras:</p>

<ul>
  <li><code class="highlighter-rouge">PARTNER_ID</code></li>
  <li><code class="highlighter-rouge">DISPLAY_NAME</code></li>
  <li><code class="highlighter-rouge">SIGNIN_INTENT_ACTION</code></li>
  <li><code class="highlighter-rouge">SIGNIN_INTENT_PACKAGE</code></li>
  <li><code class="highlighter-rouge">SIGNIN_INTENT_CLASS</code></li>
  <li><code class="highlighter-rouge">SIGNIN_INTENT_FLAGS</code></li>
</ul>

<p>Do not provide both sets of Intent extras at once; the launcher assumes that the existence of <code class="highlighter-rouge">PLAY_</code> keys means that the user is authorized to view your content.</p>

<p>If your app has multiple subscription levels (for example, free, basic, premium), you can provide multiple sets of broadcast Intents for each level with different values of <code class="highlighter-rouge">PARTNER_ID</code> and <code class="highlighter-rouge">DISPLAY_NAME</code>.</p>

<h2 id="step-2-receive-capability-requests-from-the-launcher">Step 2: Receive Capability Requests from the Launcher</h2>

<p>Amazon Fire TV’s home screen launcher occasionally requests your app’s capabilities and the subscription status of the user. The launcher requests this information with an Android broadcast Intent, whose action is <code class="highlighter-rouge">com.amazon.device.REQUEST_CAPABILITIES</code>. Your app must respond to this request with the same Intent that you previously created in Step 1.</p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> Do not wait for the launcher to make a request. As described in Step 1, you must send your app’s capabilities information each time your app starts up and if the user’s subscription status changes.</div>

<p>The following example shows a simple class to handle the launcher’s broadcast Intent. The capability information you send to the launcher is the same information you send in Step 1, so you can use the same method (here, <code class="highlighter-rouge">broadcastCapabilities())</code> to manage both those tasks.</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CapabilityRequestReceiver</span> <span class="kd">extends</span> <span class="n">BroadcastReceiver</span>
<span class="o">{</span>
   <span class="nd">@Override</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onReceive</span><span class="o">(</span><span class="n">Context</span> <span class="n">context</span><span class="o">,</span> <span class="n">Intent</span> <span class="n">intent</span><span class="o">)</span>
   <span class="o">{</span>
      <span class="n">broadcastCapabilities</span><span class="o">();</span> <span class="c1">//the method you use to broadcast your app's information to the launcher</span>
   <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<h2 id="step-3-handling-playback-and-sign-in-intents-from-the-launcher">Step 3: Handling Playback and Sign In Intents from the Launcher</h2>

<p>When the user views the details for your content in the Fire TV user interface, Fire TV shows different options based on the user’s status with your service:</p>

<ul>
  <li>If the user is logged into your service (you provided <code class="highlighter-rouge">PLAY_</code> intent extras in the capabilities broadcast), a button labeled with the display name of your app appears (for example, “MyCompany Player”). If the user chooses that button, the launcher sends a playback intent to your app.</li>
  <li>If the user is not logged in (you provided <code class="highlighter-rouge">SIGNIN_</code> intent extras) a button labeled “Launch” with the display name of your app appears (“Launch MyCompany Player”). If the user chooses that button, the launcher sends a sign in intent to your app.</li>
</ul>

<p>In both cases, the launcher uses the information you provided in the capabilities broadcast to construct both playback and sign in intents it sends your app.</p>

<p>To handle either playback or signin intents, implement an activity in your app to receive and handle those intents and to play the requested content.</p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> In handling these intents, your app <strong>must</strong> begin playback immediately (or immediately after the user signs in). Do not display an additional details page or other type of landing page in your app.</div>

<p>This code shows the skeleton of a playback activity:</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">PlayActivity</span> <span class="kd">extends</span> <span class="n">Activity</span> <span class="o">{</span>
   <span class="nd">@Override</span>
   <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="n">Bundle</span> <span class="n">bundle</span><span class="o">)</span> <span class="o">{</span>
      <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">bundle</span><span class="o">);</span>
      <span class="n">Uri</span> <span class="n">data</span> <span class="o">=</span> <span class="n">getIntent</span><span class="o">().</span><span class="na">getData</span><span class="o">();</span>
      <span class="c1">//Play the content specified by 'data'</span>
      <span class="c1">// OR</span>
      <span class="n">String</span> <span class="n">data</span> <span class="o">=</span> <span class="n">getIntent</span><span class="o">.</span><span class="na">getStringExtra</span><span class="o">(</span><span class="s">"titleExtra"</span><span class="o">);</span>
      <span class="c1">//Play the content specified by the extra you indicated in DATA_EXTRA_NAME</span>
   <span class="o">}</span>
<span class="o">}</span>
</code></pre>
</div>

<p>Both the playback and signin intents include the ID of the requested content to enable your app to play that content immediately (playback intents) or after the user signs in (sign in). You specify the IDs and the ID format in your media catalog as part of <a href="integrating-your-catalog-with-fire-tv.html">catalog integration</a>.</p>

<p>If your content IDs are in URI format (for example, <code class="highlighter-rouge">myapp://Media/123456</code>), the launcher sends that URI as part of the intent data (<code class="highlighter-rouge">Intent.getData()</code>). If your content ID is not in URI format (for example, <code class="highlighter-rouge">123456</code>), the launcher sends that ID in the extra you specified in <code class="highlighter-rouge">DATA_EXTRA_NAME</code> as part of the capabilities broadcast. You can access that content ID with the <a href="http://developer.android.com/reference/android/content/Intent.html#getStringExtra%28java.lang.String%29"><code class="highlighter-rouge">Intent.getStringExtra()</code></a> method.</p>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> The launcher only sends the data that you specify in your CDF catalog, and we do not require that ID to be in any specific format. Make sure that the IDs you specify in your catalog are in the same format that your app expects for playback, or in a format your app can use.</div>

<p>If users press the Back button consecutively (usually 3 times if starting from a media playback scenario), the app should ultimately return users to the last location where the users entered the application. In this case, the Search Results in the Launcher.</p>

<h2 id="step-4-add-error-handling-code-to-deal-with-sync-issues-between-your-catalog-and-available-content">Step 4: Add Error-handling Code to Deal with Sync Issues Between Your Catalog and Available Content</h2>

<p>One common issue that many Fire TV-integrated apps face is the occasional issue of their catalogs becoming out-of-sync with the actual content that is available. If a user selects a content item via search or browse, and that items is not actually available to play, the user will be taken to a black screen with no clear way to navigate out. This experience can be very frustrating for users and reflect negatively on accessing your app through Fire TV.</p>

<p>This syncing issue can happen for several reasons:</p>

<ul>
  <li>You just uploaded a new catalog and it was successfully ingested in the window of a few hours before the actual content was available to play.</li>
  <li>You rotated out some of your content, and an updated catalog reflecting these changes has not been uploaded/ingested yet.</li>
</ul>

<p>To prevent users from encountering the black screen after selecting an unavailable piece of content, Amazon recommends implementing error-handling code in your app. This code should address the use case where a user tries to select unavailable content, provides a meaningful error message to the user, and re-directs them to an appropriate location. This type of graceful failure should lead to a more positive user experience for your customers.</p>

<h2 id="step-5-configure-the-android-manifest">Step 5: Configure the Android Manifest</h2>

<p>Configure your Android manifest to handle broadcast Intents from the launcher. Specifically, you’ll need to add three things:</p>

<ul>
  <li>Add Intent filters to handle playback and sign-in Intents.</li>
  <li>Add a receiver for the launcher’s capabilities to request Intent.</li>
  <li>Add a permission to enable your Intents to be sent with the right permissions.</li>
</ul>

<div class="alert alert-info" role="alert"><i class="fa fa-info-circle"></i> <b>Note:</b> Declaring the broadcast in your manifest is mandatory for Fire TV to detect that the app has catalog integration enabled.</div>

<h3 id="add-intent-filters-for-playback-and-sign-in">Add Intent Filters for Playback and Sign in</h3>

<p>Add Intent filters for your playback and sign in activities to receive Intents from the launcher. This example uses a playback activity named <code class="highlighter-rouge">PlayActivity</code>:</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="n">activity</span>
    <span class="nl">android:</span><span class="n">name</span><span class="o">=</span><span class="s">".PlayActivity"</span>
    <span class="nl">android:</span><span class="n">label</span><span class="o">=</span><span class="s">"Playback Activity"</span><span class="o">&gt;</span>
    <span class="o">...</span>
    <span class="o">&lt;</span><span class="n">intent</span><span class="o">-</span><span class="n">filter</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">action</span> <span class="nl">android:</span><span class="n">name</span><span class="o">=</span><span class="s">"com.contentcompany.player.PlayActivity"</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="n">category</span> <span class="nl">android:</span><span class="n">name</span><span class="o">=</span><span class="s">"android.intent.category.DEFAULT"</span><span class="o">&gt;</span>
    <span class="o">&lt;/</span><span class="n">intent</span><span class="o">-</span><span class="n">filter</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">activity</span><span class="o">&gt;</span>
</code></pre>
</div>

<h3 id="add-a-receiver-for-launcher-requests">Add a Receiver for Launcher Requests</h3>

<p>Add a <code class="highlighter-rouge">receiver</code> element to the manifest with the name of your <code class="highlighter-rouge">BroadcastReceiver</code> class, and an <code class="highlighter-rouge">intent-filter</code> for the action <code class="highlighter-rouge">com.amazon.device.REQUEST_CAPABILITIES</code>. In this example the receiver class is <code class="highlighter-rouge">CapabilityRequestReceiver</code>:</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="n">receiver</span> <span class="nl">android:</span><span class="n">name</span><span class="o">=</span><span class="s">"CapabilityRequestReceiver"</span> <span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">intent</span><span class="o">-</span><span class="n">filter</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="n">action</span> <span class="nl">android:</span><span class="n">name</span><span class="o">=</span><span class="s">"com.amazon.device.REQUEST_CAPABILITIES"</span> <span class="o">/&gt;</span>
    <span class="o">&lt;/</span><span class="n">intent</span><span class="o">-</span><span class="n">filter</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">receiver</span><span class="o">&gt;</span>
</code></pre>
</div>

<h3 id="add-permissions">Add Permissions</h3>

<p>Add a <code class="highlighter-rouge">uses-permission</code> element to your manifest to ensure that the launcher accepts your intents:</p>

<div class="language-java highlighter-rouge"><pre class="highlight"><code><span class="o">&lt;</span><span class="n">uses</span><span class="o">-</span><span class="n">permission</span> <span class="nl">android:</span><span class="n">name</span><span class="o">=</span><span class="s">"com.amazon.device.permission.COMRADE_CAPABILITIES"</span> <span class="o">/&gt;</span>
</code></pre>
</div>

<h2 id="step-6-test-your-launcher-integration">Step 6: Test Your Launcher Integration</h2>

<p>Once you have integrated your app with Fire TV’s Home Screen Launcher, you will need to validate your launcher integration before submitting your app to the Amazon Appstore:</p>

<p>See <a href="test-cases-for-verifying-deep-links-from-your-fire-tv-catalog.html">Test Cases for Verifying Fire TV Deep Links</a> for a flow of test cases to run through before submitting your app.</p>




            </div>
        </div><!--/.container-->


    </div><!--/.page-container-->
    
    <div class="footertop">
    <div class="container">
        <div class="col-md-6">
            <p></p>
        </div>
        <div class="col-md-6">
            <ul class="bottom_ul">
        </div>
    </div>
</div>

<footer>
    <div class="container">
        <div class="row">
            <div class="col-md-4 col-sm-6 footerleft ">
                <div class="logofooter"> About the Developer Portal</div>
                <p>The Amazon Developer Portal provides documentation for developers creating apps for the Amazon
                    appstore, including Alexa skills. Apps include streaming media apps, game apps, skills, and more. </p>

            </div>
            <div class="col-md-2 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Links</h6>
                <ul class="footer-ul">
                    <li><a class="noCrossRef" href="https://developer.amazon.com/"> Developer Portal</a></li>
                    <li><a class="noCrossRef" href="/index.html">Documentation Home</a></li>
                    <li class="noCrossRef"><a href="https://developer.amazon.com/support"> Support</a></li>
                    <li class="noCrossRef"><a href="https://aws.amazon.com/documentation/"> AWS docs</a></li>
                    <li class="noCrossRef"><a href="https://www.amazon.com/mobile-apps/b?ie=UTF8&node=2350149011"> Amazon Appstore</a></li>
                </ul>
            </div>

            <div class="col-md-3 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Amazon News</h6>
                <ul class="footer-ul">
                    <li class="noCrossRef"><a href="https://developer.amazon.com/blogs"> Blog</a></li>
                    <li class="noCrossRef"><a href="https://www.youtube.com/channel/UCT9ApARFgQJOeqD-ygmxnJQ"> YouTube</a></li>
                    <li class="noCrossRef"><a href="https://twitter.com/AmazonAppDev"> Twitter</a></li>
                    <li class="noCrossRef"><a href="http://phx.corporate-ir.net/phoenix.zhtml?p=irol-mediahome&c=176060"> Amazon Press Room</a></li>
                </ul>
            </div>

            <div class="col-md-3 col-sm-6 paddingtop-bottom">
                <h6 class="heading7">Forums</h6>
                <ul class="footer-ul">
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/23/index.html"> Alexa Skills Kit</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/33/index.html"> Smart Home Skill API</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/38/index.html"> Alexa Voice Service</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/167/index.html"> Appstore</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/12/index.html"> Underground</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/166/index.html"> Fire Devices</a></li>
                    <li class="noCrossRef"><a href="https://forums.developer.amazon.com/spaces/61/index.html"> Dash</a></li>
                </ul>
            </div>
        </div>
    </div>
    </div>
</footer>
<!--subfooter start from here -->

<div class="copyright">
    <div class="container">
        <div class="col-md-12">
            <p>© 1996-2017, Amazon.com, Inc. or its affiliates</p>
        </div>
    </div>
</div>

    
    <!--scripts loaded here-->



</body>

</html>
